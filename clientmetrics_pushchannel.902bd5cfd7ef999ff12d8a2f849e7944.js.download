var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,k,u){c!=Array.prototype&&c!=Object.prototype&&(c[k]=u.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(k){return $jscomp.SYMBOL_PREFIX+(k||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.asyncIterator;c||(c=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(c){var k=0;return $jscomp.iteratorPrototype(function(){return k<c.length?{done:!1,value:c[k++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.makeIterator=function(c){$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();var k=c[Symbol.iterator];return k?k.call(c):$jscomp.arrayIterator(c)};
(function(c){function k(a){if(r){var b=new FormData;b.append("projectHash",z);b.append("sessionHash",A);b.append("type",L.non_static);b.append("sessionUrls",JSON.stringify(a));a=new XMLHttpRequest;a.isQuartzCall=!0;a.onreadystatechange=function(){4!=this.readyState||408!=this.status||v||(v=!0,alert("Current recording session has been ended."))};a.open("POST","/_quartz/api/v1/session/urls/clientmetrics",!0);a.send(b)}}function u(){if(r&&(0<B.length||0<x.length||0<t.length)){var a={errors:B,ajaxErrors:x,
consoleLogs:t},b=new FormData;b.append("projectHash",z);b.append("sessionHash",A);b.append("clientLogs",JSON.stringify(a));a=new XMLHttpRequest;a.isQuartzCall=!0;a.onreadystatechange=function(){4!=this.readyState||408!=this.status||v||(v=!0,alert("Current recording session has been ended."))};a.open("POST","/_quartz/api/v1/session/clientlogs",!0);a.send(b);B=[];x=[];t=[]}}function R(a){if("navigate"==a.type){var b={timeIdentifier:a.timestamp,randomkeyIdentifier:a.randomkeyIdentifier,type:D[a.type],
method:a.method,requestUrl:a.url,clientMetrics:a.clientMetrics};a.statusCode&&(b.statusCode=a.statusCode);k(b)}else"Ajax"==a.type?(b={timeIdentifier:a.timestamp,randomkeyIdentifier:a.randomkeyIdentifier,type:D[a.type],method:a.method,requestUrl:a.url,statusCode:a.status,clientMetrics:a.clientMetrics},a.requestHeaders&&(b.requestHeaders=a.requestHeaders),a.responseHeaders&&(b.responseHeaders=a.responseHeaders),a.requestParams&&(b.requestParams=a.requestParams),k(b)):"Error"==a.type?B.push(a):"AjaxError"==
a.type&&x.push(a)}function S(a,b){a=a.getEntries();a=$jscomp.makeIterator(a);for(b=a.next();!b.done;b=a.next())if(b=b.value,b.initiatorType&&"xmlhttprequest"!=b.initiatorType){var d={clientMetrics:{metrics:b},requestUrl:b.name,method:"GET",type:D.static},h={};0==b.requestStart&&0==b.domainLookupStart&&0==b.connectStart?(h.cacheHit=!1,h.cors=!0):(h.cacheHit=0>=b.transferSize?!0:!1,h.cors=!1);if(b.serverTiming)for(var e=$jscomp.makeIterator(b.serverTiming),y=e.next();!y.done;y=e.next())y=y.value,y.name.includes("status")&&
(d.statusCode=y.duration);d.responseHeaders=h;d.requestHeaders={referrer:c.location.origin+c.location.pathname};h=C();e=Date.now()-performance.now();d.timeIdentifier=Math.round(Math.floor(e+b.startTime)-q);d.randomkeyIdentifier=h;g.push(d)}5<=g.length&&(10<=g.length?a=g.splice(0,10):(a=g,g=[]),E(a))}function F(a){G=localStorage.getItem("isQuartzEnabled");isQuartzEnableSessionStorage=sessionStorage.getItem("isQuartzEnabled");G||isQuartzEnableSessionStorage?(0!=g.length&&(E(g),g=[]),u()):g=[]}function T(a){console.warn("WARNING: Resource Timing Buffer is FULL! : ");
performance.setResourceTimingBufferSize(500)}function M(){c.onstorage=function(a){if("isQuartzEnabled"===a.key)if("true"===a.newValue)r=!0,N();else{if(0==a.newValue||null==a.newValue)r=!1,0!=g.length&&(E(g),g=[]),u(),null!==H&&clearInterval(H),c.removeEventListener("beforeunload",F),F(),I.disconnect()}else"quartzProjectSettings"===a.key&&(w=JSON.parse(localStorage.getItem("quartzProjectSettings")))};var a=localStorage.getItem("isQuartzEnabled"),b=sessionStorage.getItem("isQuartzEnabled");if(a||b)r=
!0,U(),a=V(),E(a),N()}function O(){var a=w.dataPreferences?w.dataPreferences.CONSOLE_LOG_LEVEL:100,b=console.log,d=console.warn,h=console.error,e=console.info;100==a&&(c.console.log=function(){var a=Array.from(arguments);t.push({method:"log",arguments:a,timestamp:(new Date).getTime()-q,type:"Console"});return b.apply(c.console,a)});200>=a&&(console.info=function(){var a=Array.from(arguments);t.push({method:"info",arguments:a,timestamp:(new Date).getTime()-q,type:"Console"});return e.apply(c.console,
a)});300>=a&&(console.warn=function(){var a=Array.from(arguments);t.push({method:"warn",arguments:a,timestamp:(new Date).getTime()-q,type:"Console"});return d.apply(c.console,a)});400>=a&&(console.error=function(){var a=Array.from(arguments);t.push({method:"error",arguments:a,timestamp:(new Date).getTime()-q,type:"Console"});return h.apply(c.console,a)})}function P(){J=c.onerror;c.addEventListener("error",function(a){if(!0===r){var b={type:"Error",timestamp:(new Date).getTime()-q,message:a.message,
filename:a.filename,position:a.lineno+" line "+a.colno+" col"};a.error&&a.error.stack&&(b.stack=a.error.stack);B.push(b)}return J?J.apply(null,arguments):!1})}function Q(){var a=XMLHttpRequest.prototype.send;c.XMLHttpRequest.prototype.send=function(){this.timeStamp=Date.now();Array.prototype.slice.call(arguments);this.requestBody=arguments[0];W(this);return a.apply(this,arguments)};var b=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.setRequestHeader=function(a,c){this.requestHeaders||
(this.requestHeaders={});this.requestHeaders[a]=c;return b.apply(this,arguments)};var d=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(){this.method=arguments[0];return d.apply(this,arguments)}}function W(a){var b=a.onerror;a.onerror=function(a){var c={type:"AjaxError",status:a.target.status,message:a.target.responseText,timestamp:(new Date).getTime()-q,url:a.target.responseURL};x.push(c);if(b)return b.apply(this,arguments)};var d=a.onabort;a.onabort=function(a){var b={type:"AjaxError",
status:a.target.status,message:a.target.responseText,timestamp:(new Date).getTime()-q,url:a.target.responseURL};x.push(b);if(d)return d.apply(this,arguments)};var h=a.onload;a.onload=function(a){var b=this,d=!1;b.status&&400<=b.status&&(d={type:"AjaxError",status:b.status,message:b.responseText,timestamp:(new Date).getTime()-q,url:b.responseURL},x.push(d),d=!0);if(/(\.js|\.jpeg|\.png|\.ls|\.swf|\.css|\.ps|\.pdf|\.jpg|\.doc|\.docx|\.gif|\.dwr|\.PDF|\.mp3|\.txt|\.xml|\.xls|\.bmp|\.rar|\.java|\.exe|\.xlsx|\.zip|\.rar|\.vce|\.ico|\.otf|\.woff|\.ttf|\.woff2|\.jsp|\.svg)/g.test(b.responseURL)||
d||b.responseURL.includes("_quartz")){if(h)return h.apply(this,arguments)}else{var l=c.performance.now();d=null;var m=0;c.performance.memory&&(m=c.performance.memory.usedJSHeapSize);h&&(d=h.apply(this,arguments));var n=c.performance.now(),e={};c.performance.memory&&(e=c.performance.memory.usedJSHeapSize,e={totalHeapSize:c.performance.memory.jsHeapSizeLimit,usedHeapSize:e,increasedHeapSize:e-m});var f=n-l,g={};b.getAllResponseHeaders().trim().split(/[\r\n]+/).forEach(function(a){var b=a.split(": ");
a=b.shift();b=b.join(": ");g[a]=b});var k=null;g["server-timing"]&&(l=g["server-timing"].split(",").filter(function(a){return a.includes("Quartz-Identifier")}),null!=l&&0!=l.length&&(l=l[0].match(/desc=[0-9]+/g),null!=l&&0!=l.length&&(k=l[0].split("\x3d")[1])));n=m=l=null;if(null!=k){m=k.substring(0,k.length-5);n=k.substring(k.length-5);var p=c.performance.getEntriesByType("resource").filter(function(a){var b=!1;(a=a.serverTiming)&&a.forEach(function(a){a.name.includes("Quartz-Identifier")&&a.description==
k&&(b=!0)});return b});null!=p&&(l=p[0])}l||(p=c.performance.getEntriesByType("resource").filter(function(a){return"xmlhttprequest"==a.initiatorType&&a.name==b.responseURL}),null!=p&&(l=p[0]));if(l){e={metrics:l,memory:e,callbackDuration:f};if(null==n||null===m)for(f=$jscomp.makeIterator(l.serverTiming),p=f.next();!p.done;p=f.next())p=p.value,p.name.includes("Quartz-Identifier")&&(n=p.description,m=n.substring(0,n.length-5),n=n.substring(n.length-5));null==n&&(n=C());null===m&&(m=c.performance.timeOrigin?
Math.floor(c.performance.timeOrigin+l.startTime-q):Math.floor(c.performance.timing.navigationStart+l.startTime-q));e={method:b.method,timestamp:m,randomkeyIdentifier:n,type:"Ajax",url:b.responseURL,clientMetrics:e,status:b.status,responseHeaders:g};if(null!=w){l=w.dataPreferences;m=w.sensitiveFields;f=!1;if(l.REQUEST_PARAMS)if(n={},"string"===typeof this.requestBody){f=new URLSearchParams(this.requestBody);var r=$jscomp.makeIterator(f.entries());for(f=r.next();!f.done;f=r.next()){f=$jscomp.makeIterator(f.value);
var t=f.next().value,v=f.next().value;f=!1;if(m.params){var u=$jscomp.makeIterator(m.params.split(","));for(p=u.next();!p.done;p=u.next())if(t===p.value){f=!0;break}}f?n[paramName]="*****":n[t]=v}e.requestParams=n}else if(this.requestBody instanceof FormData){r=$jscomp.makeIterator(this.requestBody.entries());for(f=r.next();!f.done;f=r.next()){f=f.value;t=f[0];v=f[1];f=!1;if(m.params)for(u=$jscomp.makeIterator(m.params.split(",")),p=u.next();!p.done;p=u.next())if(t===p.value){f=!0;break}n[t]=f?"*****":
v}e.requestParams=n}if(l.HEADERS){if(m.headers&&this.requestHeaders)for(l=$jscomp.makeIterator(m.headers.split(",")),m=l.next();!m.done;m=l.next())for(m=m.value,n=$jscomp.makeIterator(Object.keys(this.requestHeaders)),f=n.next();!f.done;f=n.next())f=f.value,f===m&&(this.requestHeaders[f]="*****");e.requestHeaders=this.requestHeaders}}c.sendQuartzData(e)}if(null!=d)return d}};a.onloadstart=onloadstart}var z,A,q,w,B=[],x=[],t=[],D={navigate:1,Ajax:2,static:3},L={non_static:1,static:2},v=!1,g=[],I,H=
null,J,r=!1,K=!1,G,C=function(){return Math.floor(9E4*Math.random())+1E4};c.sendQuartzData=c.sendQuartzData||R;(function(){var a=localStorage.getItem("isQuartzEnabled"),b=sessionStorage.getItem("isQuartzEnabled");w=JSON.parse(localStorage.getItem("quartzProjectSettings"));if(a||b)z=localStorage.getItem("quartzProjectHash"),A=localStorage.getItem("quartzSessionHash"),q=localStorage.getItem("quartzSessionStartTime"),c.performance.onresourcetimingbufferfull=T,K=r=!0,P(),O(),Q()})();c.removeEventListener("load",
M);c.addEventListener("load",M);var N=function(){z=localStorage.getItem("quartzProjectHash");A=localStorage.getItem("quartzSessionHash");q=localStorage.getItem("quartzSessionStartTime");I=new PerformanceObserver(S);I.observe({entryTypes:["resource"]});w=JSON.parse(localStorage.getItem("quartzProjectSettings"));c.removeEventListener("beforeunload",F);c.addEventListener("beforeunload",F);K||(K=!0,P(),O(),Q());H=setInterval(function(){G=localStorage.getItem("isQuartzEnabled");isQuartzEnableSessionStorage=
sessionStorage.getItem("isQuartzEnabled");u();G||isQuartzEnableSessionStorage||clearInterval(H)},1E4)},U=function(){var a={};c.performance.memory&&(a={totalHeapSize:c.performance.memory.jsHeapSizeLimit,usedHeapSize:c.performance.memory.usedJSHeapSize});var b={metrics:c.performance,paintMetrics:c.performance.getEntriesByType("paint"),memory:a},d=c.performance.getEntriesByType("navigation")[0],h=null,e=null;a=null;null==d&&(d=c.performance.timing,d.startTime=0,h=d.navigationStart-q,b={metrics:{timing:JSON.parse(JSON.stringify(c.performance.timing))}});
if(d&&d.serverTiming){d=$jscomp.makeIterator(d.serverTiming);for(var g=d.next();!g.done;g=d.next())g=g.value,g.name.includes("Quartz-Identifier")&&(e=g.description,h=e.substring(0,e.length-5),e=e.substring(e.length-5)),g.name.includes("status")&&(a=g.duration)}null==e&&(e=C());null===h&&(h=Math.floor(c.performance.timeOrigin-q));b={timestamp:h,randomkeyIdentifier:e,type:"navigate",method:"GET",url:c.location.href,clientMetrics:b};null!=a&&(b.statusCode=a);c.sendQuartzData(b)},V=function(){var a=c.performance.getEntriesByType("resource");
a=$jscomp.makeIterator(a);for(var b=a.next();!b.done;b=a.next())if(b=b.value,b.initiatorType&&"xmlhttprequest"!=b.initiatorType){var d={clientMetrics:{metrics:b},requestUrl:b.name,method:"GET",type:D.static},h={};0==b.requestStart&&0==b.domainLookupStart&&0==b.connectStart?(h.cacheHit=!1,h.cors=!0):(h.cacheHit=0>=b.transferSize?!0:!1,h.cors=!1);if(b.serverTiming)for(var e=$jscomp.makeIterator(b.serverTiming),k=e.next();!k.done;k=e.next())k=k.value,k.name.includes("status")&&(d.statusCode=k.duration);
d.responseHeaders=h;d.requestHeaders={referrer:c.location.origin+c.location.pathname};h=C();e=Date.now()-performance.now();d.timeIdentifier=Math.round(Math.floor(e+b.startTime)-q);d.randomkeyIdentifier=h;g.push(d)}10<=g.length?a=g.splice(0,10):(a=g,g=[]);return a},E=function(a){var b=C();b={timeIdentifier:(new Date).getTime(),randomkeyIdentifier:b,staticFiles:a};a=new FormData;a.append("projectHash",z);a.append("sessionHash",A);a.append("type",L["static"]);a.append("sessionUrls",JSON.stringify(b));
b=new XMLHttpRequest;b.isQuartzCall=!0;b.onreadystatechange=function(){4!=this.readyState||408!=this.status||v||(v=!0,alert("Current session has been ended."))};b.onerror=function(a){console.error("Error in sending static URL data : ",a)};b.open("POST","/_quartz/api/v1/session/urls/clientmetrics",!0);b.send(a)}})(window);