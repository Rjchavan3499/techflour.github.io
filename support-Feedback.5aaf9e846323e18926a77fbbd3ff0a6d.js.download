var ZDOMUtil=(function(A){var B=undefined;return{init:function(C){B={div:document.createElement("div")}},clone:function(C){return B[C].cloneNode()}}})(window);var ZComponents=(function(D){var F=true,C=navigator.userAgent.toLowerCase(),A=document.createElement("div"),E=document.createTextNode(" ");function B(){var H=document.createElement("div"),G=false;H.addEventListener("DOMAttrModified",function(){G=true},false);H.setAttribute("class","zcomponents");return G}return{version:"3.3",isRTL:false,selector:"data-ctype",userAgent:C,DOMUtil:D,locale:navigator.language,zIndex:1000,$document:D(document),$window:D(window),hasHandlebars:window.Handlebars?true:false,keys:{},localeInfo:{"en-US":{daysAbbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],firstDayOfWeek:0,dateFormat:{"short":"M/d/yyyy",medium:"MMM d, yyyy","long":"MMMM d, yyyy",full:"dddd, MMMM d, yyyy"},timeFormat:{"short":"h:mm tt",medium:"h:mm:ss tt","long":"hh:mm:ss tt"},dateTimeFormat:{"short":"MMM d, yyyy, hh:mm:ss tt",medium:"MMM d, yyyy, hh:mm:ss tt","long":"dddd, MMMM d, yyyy 'at' h:mm tt",full:"dddd, MMMM d, yyyy 'at' h:mm tt"},numberFormat:{thousandSeparator:",",decimalSeparator:"."},currency:{code:"USD",name:"United States Dollar",symbol:"\u0024"}}},keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38,ALT:18},initDeferredComponents:function(G,I,J){var H=this;setTimeout(function(){D.each(G,function(L,K){D(K).each(function(N,M){H._initComponent(D(M),L)})});if(J){J(G)}},(I?I:10000))},init:function(I,N,H,K){F&&this._init();K=K||{};I=I?D(I):D("body");var J=H?H:this.selector,G="["+J+"]",M=K.nodeArray||(document.querySelectorAll?I[0].querySelectorAll(G):D(G,I));if(I[0].attributes[J]||(I[0].dataset&&I[0].dataset[J])){M=D(I).add(M)}if(M.length){var L=this;this.eachAsync(M,{delay:K.delay||20,chunkSize:K.chunkSize||500,loop:function(O,P){L._initComponent(P,undefined,H)},end:function(){L._end(I,M,N)}})}else{this._end(I,M,N)}},destroy:function(I,M,H,J){I=I?D(I):D("body");H=H?H:this.selector;var G="["+H+"]",L=D(G,I);if(I.is(G)){L=D(I).add(L)}if(L.length){var K=this;this.eachAsync(L,{delay:20,loop:function(N,O){D(O)[O.getAttribute(H)]("destroy")},end:function(){K._end(I,L,M,true)}})}else{this._end(I,L,M,true)}},eachAsync:function(K,J){var I=0,H=K.length,G=J.loop||function(){};J=J||{};J.test=function(){return I<H};J.loop=function(){var L=K[I];return G.call(L,I++,L)};this.whileAsync(J)},whileAsync:function(L){var I=Math.abs(L.delay)||10,K=(L.chunkSize)?L.chunkSize:(isNaN(L.bulk)?500:Math.abs(L.bulk)),M=L.test||function(){return true},H=L.loop||function(){},G=L.end||function(){};(function J(){var N=false,O=new Date();while(N=M()){H();if(K===0||(new Date()-O)>K){break}}if(N){setTimeout(J,I)}else{G()}})()},_initComponent:function(H,I,G){G=G?G:this.selector;H=D(H);H[!I?H.attr(G):I]()},_end:function(G,H,J,I){this.$document.trigger(I?"zcomponentdestroyed":"zcomponentinitialized",G);if(J){J(H)}},clearMetadata:function(G){if(G){D(G).removeData("metadata")}},_getDataAttributes:function(K,I){var M=K.attributes,G=M.length;for(var J=0;J<G;J++){var H=M[J].nodeName,L=M[J].nodeValue===""?"true":M[J].nodeValue;if(H!=="data"){H=H.match(/^data-/)?H.replace(/^data-/,""):H;H=H.replace(/-([a-zA-Z])/g,this._stringReplace.bind(this));H=H.replace(/(Html|Svg|Hsv|Hsl|Rgb)/gi,this._toUpperCase);I[H]=(L==="true"||L==="false")?(L==="true"):((L.indexOf("{")!==-1)?ZComponents._getObject(L):L)}}return I},_stringReplace:function(G){return G[1].toUpperCase()},_toUpperCase:function(G){return G.toUpperCase()},_getDataSet:function(I,G){var K=I.dataset,J;for(var H in K){if(K.hasOwnProperty(H)){J=K[H];H=H.replace(/(Html|Svg|Hsv|Hsl|Rgb)/gi,this._toUpperCase);G[H]=(J==="true"||J==="false")?(J==="true"):((J.indexOf("{")!==-1)?ZComponents._getObject(J):J)}}return G},_getOptions:undefined,getMetadata:function(G){return this.getOptions(G)},getOptions:function(H){H=H instanceof D?H[0]:H;var G=D.data(H,"metadata");if(!G&&H.attributes){var I=H.getAttribute("data");if(I){G=ZComponents._getObject(undefined,H)}G=this._getOptions(H,G?G:{});D.data(H,"metadata",G)}return G?G:{}},getTemplate:function(H){var G;if(this.hasHandlebars&&Handlebars.templates){G=Handlebars.templates[H]}return G},_getObject:function(I,H){if(typeof I==="object"){return I}I=I||H.getAttribute("data");I=I.indexOf("{")<0?"{"+I+"}":I;try{I=JSON.parse(I.replace(/'/g,'"'))}catch(G){return D.metadata?D(H).metadata():{}}return I},_extend:function(H,G){H.prototype=D.extend({},G.prototype,H.prototype);D.each(H.prototype,function(J,I){if(D.type(I)==="function"){H.prototype[J]=(function(){var K=function(){return G.prototype[J].apply(this,arguments)};return function(){this._super=K;return I.apply(this,arguments)}})()}})},OS:{isLinux:function(){return navigator.appVersion.indexOf("Linux")!=-1}},Browser:{isMobile:function(){return(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()))},isIE:function(){return(C.indexOf("msie")!==-1||C.indexOf(".net")!==-1)},isSafari:function(){return(C.indexOf("safari")!==-1&&C.indexOf("chrome")===-1)},isChrome:function(){return window.chrome},isFirefox:function(){return C.indexOf("firefox")>-1?true:false},isMac:function(){return navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)?true:false},isWindows:function(){return navigator.platform.indexOf("Win")!==-1},getIEVersion:function(){var I=-1;if(navigator.appName=="Microsoft Internet Explorer"){var G=navigator.userAgent;var H=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(H.exec(G)!=null){I=parseFloat(RegExp.$1)}}return I}},AJAX:{transport:function(J,G,I){var H=D.ajax({url:J.sourceURL,data:J.data,type:J.type,dataType:J.dataType,success:function(K){G(K)},fail:function(K,L){I(K,L)},error:function(K,L){I(K,L)}});return H}},setI18NKeys:function(H,G,J){if(typeof H==="object"){for(var I in H){this.keys[I]=D.extend({},this.keys[I],H[I])}}else{this.keys[H]=J?G:D.extend({},this.keys[H],G)}},getI18NText:function(J,L,I){var G=undefined;if(arguments.length===4){G=I;I=arguments[3]}var H=ZComponents.keys[J]||{};var M=H[L]||"";if(M===""&&G){M=G[L]}if(I){for(var K=0;K<I.length;K++){M=M.replace("{"+K+"}",I[K])}}return M},create:function(I){var G=I.ctype.replace(I.ctype.charAt(0),""),H="create"+G.charAt(0).toUpperCase()+G.substring(1);return this[H](I)},setProperties:function(){var H=document.documentElement||{},G=document.body||{};ZComponents.documentObject={height:Math.max(H.clientHeight,H.scrollHeight,H.offsetHeight,G.offsetHeight,G.scrollHeight),width:Math.max(H.clientWidth,H.scrollHeight,H.offsetHeight,G.offsetWidth,G.scrollWidth)};ZComponents.windowObject={height:window.innerHeight,width:window.innerWidth}},createSVGElement:function(H,K,P){var L=document.createElementNS("http://www.w3.org/2000/svg",H);for(var M in K){L.setAttribute(M,K[M])}if(P){for(var O=0;O<P.length;O++){for(var N in P[O]){var J=document.createElementNS("http://www.w3.org/2000/svg",N),G=P[O][N];if(G.nodes){J=this.createSVGElement(N,G.props,G.nodes)}else{for(var I in G){J.setAttribute(I,G[I])}}L.appendChild(J)}}}return L},createIcon:function(J,K,H,G,I){K=H?(H.indexOf("#")===-1?"#"+H:H):(G?G:K);if(K){if(K.indexOf("#")===-1){J.addClass(" "+K+"")}else{var H=K.split(" ")[0],L=K.slice(H.length).trim()+" "+(I?I+"__svg":"");J.empty().append(D("<svg class='"+L+"'><use xlink:href='"+H+"'></use></svg>"))}}return J},_handleIcon:function(O,N,G,Q,J,H,T,K,M){if(T){O.removeClass(K)}var I=false;if(H!==undefined||Q!==undefined||J!==undefined){if((H&&H.indexOf("#")===0)||J!==undefined){var R=J||H;if(R){var S=R.split(" ");J=S[0];Q=S[1]||"";I=true}}else{Q=Q||H}}else{if(G!==undefined&&N!==undefined){var R=this._svgSprite.querySelector("#"+G);if(!R){var P=N.props||{};P.id=G;var L=this.createSVGElement("symbol",P,N.nodes);L.removeAttribute("class");this._svgSprite.appendChild(L)}J="#"+G;Q=N.props&&N.props["class"]?N.props["class"]:G;I=true}}if(I){J=J.indexOf("#")!==-1?J:"#"+J;O.empty().append(D("<svg class='"+Q+"'><use xlink:href='"+J+"'></use></svg>"))}else{O.addClass(Q)}return O},encodeHTML:function(G){E.nodeValue=G;return A.innerHTML},_init:function(H){ZDOMUtil.init();var G=ZComponents;if(!F){return false}F=false;G._getOptions=ZDOMUtil.clone("div").dataset?G._getDataSet:G._getDataAttributes;G.isDOMAttrModifiedSupported=B();A.appendChild(E);if(G.Browser.isIE()&&G.isDOMAttrModifiedSupported){G.core._attachObserver=function(I){var J=this;this.observer=function(K){if(J.attributeList.indexOf(K.attrName)!==-1){J._handleObserver(K.attrName,K.newValue)}};I.addEventListener("DOMAttrModified",this.observer,false)};G.core.destroy=function(){this.element[0].removeEventListener("DOMAttrModified",this.observer)}}G.setProperties();G._svgSprite=G.createSVGElement("svg",{id:"zcomponents__svg"});D(G._svgSprite).appendTo("body").hide()},registerComponent:function(G,J,H){if(!H){H=J;J=this.core}H.componentName=G;D[G]=function(K,L,M){if(arguments.length){this._init(K,L,M)}};var I=new J();I.options=D.extend(true,{},I.options);D[G].prototype=D.extend(true,{},I,H);if(!this[G]){this[G]={DEFAULTS:{}}}this[G]._DEFAULTS=D[G].prototype.options;D.fn[G]=function(V){F&&ZComponents._init();var K=this,L=this.length;if(!V||typeof V==="object"){V=V?V:{};for(var Q=0;Q<L;Q++){var M=D(this[Q]).data(G);if(M){return K}else{var R=ZComponents.getOptions(this[Q],{});if(R.override){var T={};for(var P in R){if(P.indexOf(G)===0){var U=P.replace(G,""),S=U[0].toLowerCase()+U.substring(1);T[S]=R[P]}}R=T}var O=D.extend(true,{},ZComponents[G]._DEFAULTS,ZComponents[G].DEFAULTS,R,V);D(this[Q]).data(G,new D[G](O,this[Q],V));D(this[Q]).data("componentName",G)}}}else{if(typeof V==="string"&&V.indexOf("_")===-1){var N=Array.prototype.slice.call(arguments,1);for(var Q=0;Q<L;Q++){var M=D(this[Q]).data(G);if(M){if(V==="option"){V=N&&N.length===2?"setAttribute":"getAttribute"}else{if(V==="options"){V=N&&N.length===0?"getAttributes":"setAttributes"}}K=M[V].apply(M,N)}}}else{return false}}return K};this._extend(D[G],J)}}})(jQuery);(function(A){var D=A.DOMUtil;A.core=function(F,G){if(arguments.length){this._init(F,G)}};A.core.prototype={_init:function(F,G,H){this.element=D(G);this.options=F;this._create(D(G),F,H)},_create:function(){},_trigger:function(F,H,J,G,I){return this._dispatchEvent(F,H,J,G,I)},_dispatchEvent:function(J,G,H,I,O){var K=this._EVENTS[J]||J;I=I?I:this.element;var F,M,N=this.options[K],L;H=H||{};H.fromUI=O;H.fromui=O;H.element=I;H.options=H.options||this.options;var G=D.Event(G);G.type=(this.componentName?(this.componentName+K):""+K).toLowerCase();G.originalTarget=G.target||(G.originalEvent&&G.originalEvent.target);G.target=I;M=G.originalEvent;if(M){for(F in M){if(!(F in G)){G[F]=M[F]}}}I.trigger(G,H);H=[G].concat(H);if(N&&typeof N==="string"){L=this._triggerFunction(N,I[0],H)}else{L=D.isFunction(N)?N.apply(I,H):undefined}return L!==undefined?L:!G.isDefaultPrevented()},_handleIcon:function(M,L,F,N,I,G,O,J,K,H){H=H||(this.componentName+"__"+F);return A._handleIcon(M,L,H,N,I,G,O,J,K)},_triggerFunction:function(J,G,K){var I=J.split("."),H=window;for(var F=0;F<I.length&&H;F++){H=H[I[F]]}return H&&H.apply(G,K)},_handleObserver:function(G,H){var F=G.replace(/^data-/,"");F=F.replace(/-([a-zA-Z])/g,function(I){return I[1].toUpperCase()});this.setAttribute(F,H)},_attachObserver:function(F){var G=this;this.observer=new MutationObserver(function(I){var H=I[0].attributeName,J=I[0].target.getAttribute(H);G._handleObserver(H,J)});this.observer.observe(F,{attributes:true,attributeFilter:this.attributeList})},getData:function(F){return A.getOptions(F?F:this.element[0])},_setAttribute:function(){return true},setAttribute:function(G,H){if(typeof this.options[G]==="string"&&this.options[G]===H){return }var F=this._setAttribute(G,H);if(G==="disable"){this._handleDisable(H);F=true}if(F){this.options[G]=H}},setAttributes:function(F){for(var G in F){this.setAttribute(G,F[G])}},getAttribute:function(F){return this.options[F]},getAttributes:function(){return D.extend(true,{},this.options)},_localize:function(H,G,F){var J=(this.options.labels||this.options.messages),I=F?this.options[F][H]:undefined;return I||this._getI18N(this.componentName,H,J,G)},_getI18N:function(I,K,F,H){var G=A.keys[I]||{};var L=G[K]||"";if(L===""&&F){L=F[K]}if(H){for(var J=0;J<H.length;J++){L=L.replace("{"+J+"}",H[J])}}return L},enable:function(){this._handleDisable(true)},disable:function(){this._handleDisable(false)},_handleDisable:function(F){var G=D(this.container||this.element);if(F){G.removeClass("is-disabled").removeAttr("aria-disabled disabled")}else{G.addClass("is-disabled").attr({"aria-disabled":true,disabled:true})}this.setAttribute("disabled",!F)},getElement:function(){return(this.container||this.element)},_destroy:function(){},destroy:function(){this.element.off("."+this.eventPrefix);this.element.removeData(this.componentName).removeData("metadata");this._destroy();var F=this.container;if(F&&F[0]!==this.element[0]){F.remove()}}};var C=[];var B=[];var E=function(F){return B[C.indexOf(F)]};A.bindDocumentEvents=function(P){var J=this;var I=".zclosehandler-"+(Math.floor(Math.random()*1000000));var G=P.ctype;var M=D(P.element);var H=D(P.container||P.element);var K=D(P.forElement);var F=P.closeMethodName;var O=G+(P.closeEvent||F);var N={};var L=E(M[0]);if(L&&K.is(L.forElement)){return }A.unBindDocumentEvents(M);C.forEach(function(R){var Q=E(R);if(K.closest(Q.contextElements).length){Q.contextElements=Q.contextElements.add(K).add(H)}});C.push(M[0]);N.contextElements=H.add(K);N.uniqueNamespace=I;N.forElement=K;B.push(N);M.on(O+".zclosehandler",function(){A.unBindDocumentEvents(M)});A.$document.on("mousedown"+I+" contextmenu"+I,function(Q){var T=E(M[0]);if(!T||!D.contains(document.documentElement,M[0])){A.unBindDocumentEvents(M);return }if(T.uniqueNamespace!==N.uniqueNamespace){return }var S=D(Q.target);if(S.closest(N.contextElements).length){return }var R=D.Event("zclosehandlerbeforehide",{originalEvent:Q});M.trigger(R);if(!R.isDefaultPrevented()){M[G](F)}})};A.unBindDocumentEvents=function(G){var F=C.indexOf(G[0]);if(F!==-1){var H=B[F];var I=H.contextElements.not(G);I.each(function(J,K){A.unBindDocumentEvents(D(K))});G.off(".zclosehandler");A.$document.off(H.uniqueNamespace);F=C.indexOf(G[0]);C.splice(F,1);B.splice(F,1)}}}(ZComponents));document.addEventListener("DOMContentLoaded",ZComponents._init);window.addEventListener("resize",ZComponents.setProperties);var FComponents=function(C){function B(E){return E&&(D=E.split("#")[1].split("=")[1],document.cookie=A.clientTokenName+"="+D+";"),D}var A={csrfParamName:"fccsrf",csrfCookieName:"FC_CSRF_TOKEN",csrfRequestURL:void 0,contextPath:"fcomponents/",clientTokenIsEnabled:!1,clientTokenName:"x-uds-clitoken",clientToken:{ticket:void 0,accountsLoginURL:"https://accounts.localzoho.com/login",serviceName:"ZohoWriter",requestURL:"https://docs.localzoho.com/writer"},service:"WR"},D=void 0;return{getClientToken:function(){return D},init:function(H){var F=!1;void 0!==H.csrfRequestURL&&""!==H.csrfRequestURL&&FCUtil.ajaxUtil(H.csrfRequestURL,"GET"),(void 0===H.csrfParamName||""===H.csrfParamName)&&(F=!0,H.csrfParamName=A.csrfParamName,H.csrfCookieName=A.csrfCookieName),A=C.extend({},A,H);var E=A.clientToken;if(A.clientTokenIsEnabled===!0&&(void 0===E.ticket||""===E.ticket)){var I=E.accountsLoginURL+"?client_auth=true&servicename=ZohoPC",G=C("<iframe>").attr({id:"zfc-iam-clienttoken",src:I});G.appendTo("body"),G.load(function(){B(G[0].src)})}F&&FCUtil.ajaxUtil("html/blank.html","get","","")},option:function(E,F){return F?void (A[E]=F):A[E]}}}(jQuery),FCUtil=function(B){function A(E){for(var D=E+"=",C=document.cookie.split(";"),F=0;F<C.length;F++){var G=C[F].trim();if(0===G.indexOf(D)){return G.substring(D.length,G.length)}}return""}return{ajaxUtil:function(G,C,D,F,E,H){D=D||{},E=E||{},F=F||{},E.responseType=E.responseType?E.responseType:"application/json","post"===C.toLowerCase()&&(D[FComponents.option("csrfParamName")]=this.getCSRFToken()),G=H?G:FComponents.option("contextPath")+G,F.errorNotified=!1;var I=B.ajax({type:C,url:G,data:D,beforeSend:function(J){F.progress&&F.progress(J)},fail:function(J){F.fail&&!F.errorNotified&&(F.errorNotified=!0,F.fail(J))},error:function(J){F.fail&&!F.errorNotified&&(F.errorNotified=!0,F.fail(J))},success:function(K){if(F.success){var J=K;"object"!=typeof J&&"application/json"===E.responseType&&(J=B.parseJSON(K)),F.success(J)}}});return I},commonKeys:{insert:"Insert",close:"Close",cancel:"Cancel"},getString:function(E,C,D){return this.getI18NString("fcommon",E,D,C)},getI18NString:function(E,F,D,C){return ZComponents.getI18NText(E,F,C,D)},removeProgressDialog:function(){B("#zfc-progress-dialog").remove()},showProgressDialog:function(G,F,E){if(E===!0){var E=B("<div>").attr({id:"zfc-progress-dialog-overlay"}).appendTo("body");E.css({overflow:"scroll",position:"fixed",width:"100%",height:"100%","z-index":B.ui.dialog&&B.ui.dialog.zIndex?B.ui.dialog.zIndex:10000,top:0,left:0});var C=B("<div>").attr({id:"zfc-progress-dialog"}).appendTo(E)}else{var C=B("<div>").attr({id:"zfc-progress-dialog"}).appendTo("body")}C.css({height:F.outerHeight(),width:F.outerWidth(),left:F.offset().left,top:F.offset().top});var H=B("<span>").attr({id:"zfc-dialog-loader","class":"ui-zfc-loader-circle"}).appendTo(C),D=B("<span>").attr({"class":"zfc-dialog-loader-msg"}).appendTo(C);D.text(G),C.animate({height:110,width:220,marginTop:100,marginLeft:F.outerWidth()/3},100,function(){var J=(C.outerWidth()-(H.outerWidth()+D.width()+4))/2,I=(C.outerHeight()-H.outerHeight()-2)/2;H.css({left:J,top:I}),D.css({left:J,top:I}),H.fadeIn(50),D.fadeIn(100)})},showError:function(J,F,I,C,E){J=""===J||void 0===J?FCUtil.getString("internalserver.label"):J;var H=F.find("#ui-fc-server-error");H.length||(H=B('<div id="ui-fc-server-error" class="ui-fc-server-error"><div class="zc-server-error"><span id="zc-server-error-close" title="'+FCUtil.getString("close","fcommon")+'" class="ui-zfc-icon ui-icon-closethick"></span><div class="zc-server-error-msg" id="zfc-server-error"></div> </div> </div>'),H[void 0!==E?E:"insertBefore"](I)),H.find("#zfc-server-error").text(J);var G={openDelay:200,closeDelay:200};if(C=B.extend({},G,C),H.slideDown(C.openDelay,function(){C.onOpen&&C.onOpen(H)}),C.autoCloseDelay){F.data("zfcAutoClose")&&clearTimeout(F.data("zfcAutoClose"));var D=setTimeout(function(){H.slideUp(C.closeDelay,function(){C.onAutoClose&&C.onAutoClose(H)})},C.autoCloseDelay);F.data("zfcAutoClose",D)}H.find("#zc-server-error-close").off("click").on("click",function(){C.beforeClose&&C.beforeClose(H),H.slideUp(C.closeDelay,function(){C.onClose&&C.onClose(H)})})},getCSRFToken:function(){return A(FComponents.option("csrfCookieName"))},getCSRFCookie:function(C){return A(C)}}}(jQuery);var ZFeedback=function(E){var D=!1,B={keys:{"minimize.label":"Minimize","maximize.label":"Maximize","cancel.label":"Cancel","send.label":"Send","resend.label":"Resend","feedback.label":"Feedback","criticality.label":"Criticality","howcritical.label":"How critical is your feedback?","normal.label":"None","low.label":"Just FYI","medium.label":"Nothing urgent, can wait","high.label":"Emergency","subject.label":"Subject","comments.label":"Your Comments...","attachfile.label":"Attach File","screengrab.label":"Grab Screen","sending.label":"Sending...","thankyou.label":"Thank you","writesome.label":"Please write something...","invalidsizemessage.label":"File size exceeds the maximum allowed attachments limit of {0}.","removefile.label":"Remove","sendrequest.label":"Send Your Request","description.label":"Description","howcriticalrequest.label":"How critical is your request?","cancelfeedback.label":"Do you want to cancel this feedback?","cancelrequest.label":"Do you want to cancel this request?","alertmessage.label":'Press "OK" to proceed. "Cancel" to stay.',"screenshot.label":"Screenshot","unknownerror.label":"Sending failed due to an unknown error","close.label":"Close","viruspresent.label":"Virus found","collapse.label":"Collapse","expand.label":"Expand","attachments.label":"Attachments","tip.label":"Tip","usekeyboardshortcuts.label":"To grab the screen directly from the application window, use the below keyboard shortcuts","capturefullscreen.label":"Capture full screen","capturepartofscreen.label":"Capture part of the screen","unknownerrortext.label":"Unknown error","virusdetected.label":"Virus detected in the attached file. Please remove it.","virusdetectedinfile.label":"Virus detected in {0}. Please remove it.","unknownerrorinfile.label":"Unable to attach {0} due to an unknown error.","multiplefileserror.label":"{0} file(s) failed to upload. Please refer below for the reasons.","fileuploadinprogress.label":"File upload is in progress. Please send after it is complete.","multiplefilesuploadinprogress.label":"Uploading {0} files. Please send after they are complete."}},A={minHeight:350,maxHeight:550,formType:"support",attachment:!0,criticality:!0,screengrabber:!0,attachmentURL:void 0,maxAllowedSize:15728640,submitURL:void 0,customData:void 0,sendTo:"noreply@zohocorp.com",subjectLength:500,commentLength:10000,customHeaders:{}},C={widgetEventPrefix:"zfeedback",_EVENTS:{ONOPEN:"open",BEFORESEND:"beforesend",ONSEND:"send",ONFAIL:"fail",ONSENDING:"sending",ONCLOSE:"close"},_isScreengrabberOpen:!1,_create:function(G){var H=this;this._formData={criticalType:"",mailSubject:"",mailContent:"",randomNumber:""},this.options=E.extend({},A,G),this.options.keys=E.extend({},B.keys,this.options.keys),this._windowObj=E(window);var K=this._windowObj.innerHeight();this._dialogHeightAdjustment();var I=530;D=!0,this._dialogTop=K-this._dialogHeight-2;this._windowObj.innerWidth()-(I+140);this.options.customData?this._feedbackData={sendTo:this.options.sendTo}:(this._feedbackData={sendTo:this.options.sendTo},this._feedbackData[FComponents.option("csrfParamName")]=FCUtil.getCSRFToken()),this._contextPath=FComponents.option("contextPath"),this.options.postURL&&(this._contextPath=this.options.postURL),(this.options.attachmentURL||this.options.postURL)&&(this._externalAttachmentURL=!0),(this.options.submitURL||this.options.postURL)&&(this._externalSubmitURL=!0),this.options.proxyURL=(this.options.attachmentURL?this.options.attachmentURL.substring(0,this.options.attachmentURL.lastIndexOf("/")+1):this._contextPath)+"proxy.do",this.options.fileActionURL=this.options.attachmentURL?this.options.attachmentURL:this._contextPath+"fileaction.do",this._fileData={},this._overallArray=[],this._currAttachmentSize=0,this._attachmentArray=[],this._originalEvent=!1,this._dialogDragged=!1,this._isIE=!1,this._filesPending=!1,this._isEnterDisabled=!1,this._isFeedbackCancelled=!1,this._screengrabberAttached=!1,this._isSuccessful=!1,this._canvasQuart=Math.PI/2,this._canvasCirc=2*Math.PI,this._IE=!1,this._randomNumber=this._randomString(),this._isMacOS()?(this._fullScreen=["Command","Option","Shift","3"],this._partialScreen=["Command","Option","Shift","4"]):(this._fullScreen=["Ctrl","Alt","PrtSc"],this._partialScreen=["Ctrl","Shift","PrtSc"]),this._screenshotCount=0,this._totalScreenshotCount=0,this._fileCount=0,this._uploadedCount=0,this._isModal="inline"!==this.options.appearance;var F="body";this._isModal||(F=this.options.appendTo),this._feedbakDialog=E("<div>").attr({id:"zfeedbackDialog"}).appendTo(E(F));var J="feedback"===this.options.formType?"feedback":"sendrequest";this._isModal?(this._feedbakDialog.zdialog({type:"modeless",title:H._getString(J+".label"),width:I,height:this._dialogHeight,className:"ui-zfeedback",minimizable:!0,draggable:!0,minWidth:400,minHeight:350,position:{top:"auto",left:"auto",bottom:0},beforeclose:function(L){return H._checkClose(L)?void 0:!1},minimize:function(){H._oldPosition=H._feedbackUiDialog.ztooltip("option","position"),H._feedbackUiDialog.ztooltip("option","position","top")},restore:function(){H._feedbackUiDialog.ztooltip("option","position",H._oldPosition)},close:function(){H._close()}}),this._feedbakDialog.off("zdialogrestore").on("zdialogrestore",function(){H._feedbackUiDialog.attr({top:"auto",left:"auto"})}),this._feedbackUiDialog=this._feedbakDialog.closest(".zdialog").attr("id","ui-zfeedback-dialog"),this._feedbackUiDialog.off("zdialogdragstart").on("zdialogdragstart",function(){H._feedbackUiDialog.css("top",H._feedbackUiDialog.offset().top).removeClass("ui-zfeedback-bottom")}).off("zdialogdragend").on("zdialogdragend",function(){H._dialogDragged=!0,H._dialogPosition.left=H._feedbackUiDialog.offset().left,H._dialogPosition.top=H._feedbackUiDialog.offset().top}),this._isModal&&this._feedbakDialog.zdialog("open"),this._createFeedbackContainer(),this._feedbackUiDialog.css({opacity:0,top:this._dialogTop+200,left:"auto",right:"120px"}).animate({top:this._dialogTop,opacity:1},300,"easeInSine",function(){H._feedbackUiDialog.css("top","auto").addClass("ui-zfeedback-bottom")}),this._minimizeBtn=this._feedbackUiDialog.find(".zdialog__actions .zdialog__minimize")):this._createFeedbackContainer(),this._dialogPosition={},this._resizeTextArea(),this._isPlaceholder&&this._feedbackSubject.trigger("focusout.placeholder"),this._triggerEvent(this._EVENTS.ONOPEN),E("body").on("screengrabberopen",function(){E("#ui-zfeedback-dialog").hide(),H.options.onScreengrabberOpen&&H.options.onScreengrabberOpen()}).off("screengrabberclose").on("screengrabberclose",function(){E("#ui-zfeedback-dialog").show(),H.options.onScreengrabberClose&&H.options.onScreengrabberClose(),H._isScreengrabberOpen=!1,!H._screengrabberAttached&&H._screenshotFallEle&&H._screenshotFallEle.remove(),H._focussedEle=E(H._screenGrabLabel)[0],E(H._focussedEle).focus(),H._screengrabberAttached=!1,E("body").off("screengrabberdone")})},_checkClose:function(F){return this._originalEvent?!0:F.originalEvent&&"keydown"===F.originalEvent.type&&(this._criticalPopup.is(":visible")||this._isScreengrabberOpen)?!1:this._screenshotSize||this._fileSize||this._feedbackSubject.val()||this._feedbackCommentArea.val()||this._currAttachmentSize?(this._alertDialog(),void E(".zdialog.zdialog--alert").css({top:"50%",left:"50%","margin-left":"-200px","margin-top":"-110px"})):!0},_alertDialog:function(){var F=this;ZAlertDialog.open({type:"warning",primaryMessage:F._getString(F._cancelForm+".label"),buttons:"yes-no",buttonsOrder:"mac",buttonsAlignment:"right",close:function(G){"yes"===G.currentTarget.innerText.toLowerCase()&&(F._currAttachmentSize&&F._removeAllFiles(),F._close())}})},_close:function(){D=!1,E("body").off("mousedown.zfeedback mousedown.errorBanner"),this._feedbakDialog.off("keydown.zfeedback"),this._triggerEvent(this._EVENTS.ONCLOSE),this._feedbakDialog.zdialog("destroy"),this._feedbakDialog.remove()},close:function(){this._close()},_createFeedbackContainer:function(){var H=this,M="description",L="howcriticalrequest";if(this._cancelForm="cancelrequest",this._feedbackForm=E("<div>").attr("id","ui-zfb-form").appendTo(this._feedbakDialog),this._feedbackFormTop=E("<div>").attr("id","ui-zfb-form-top").appendTo(this._feedbackForm),"feedback"==this.options.formType&&(M="comments",L="howcritical",this._cancelForm="cancelfeedback"),this._errorBanner=E("<div>").attr("class","ui-zfb-error-unknown").html("<span>"+this._getString("unknownerror.label")+'</span><label><span class = "ui-fcomponents-icon ui-zfc-icon-closethick"> </span></label>'),this._feedbakDialog.prepend(this._errorBanner),this._errorBanner.on("mouseenter.zfeedback",function(){E(this).find("span.ui-zfc-icon-closethick").show()}).on("mouseleave.zfeedback",function(){E(this).find("span.ui-zfc-icon-closethick").hide()}),this._feedbackSubject=E("<input>").attr({id:"zfb-input-subject",type:"text",maxlength:this.options.subjectLength,"class":"ztextbox",tabindex:1}).appendTo(this._feedbackFormTop),this._focussedEle=this._feedbackSubject[0],this._isPlaceholder=!(HTMLInputElement&&"placeholder" in HTMLInputElement.prototype||-1===navigator.appVersion.indexOf("MSIE 10.")),this._feedbackFormMiddle=E("<div>").attr("id","ui-zfb-form-middle").appendTo(this._feedbackForm),this._feedbackCommentArea=E("<textarea>").attr({id:"zfb-input-message",maxlength:this.options.commentLength,"class":"ztextarea",tabindex:2}).appendTo(this._feedbackFormMiddle),this._feedbackSubject.add(this._feedbackCommentArea).on("keypress.zfeedback paste.zfeedback",function(){setTimeout(function(){H._isErrorShown&&(H._isPlaceholder?H._subjectText.attr("class","ui-zfb-placeholder").text(FCUtil.getString("subject.label",H.options.keys)):H._feedbackSubject.attr({placeholder:FCUtil.getString("subject.label",H.options.keys),"class":""}))},1)}),this._isPlaceholder){this._subjectText=E("<div>").attr("class","ui-zfb-placeholder").text(FCUtil.getString("subject.label",this.options.keys)),this._feedbackFormTop.prepend(this._subjectText),this._placeHolder(this._feedbackSubject,this._subjectText);var P=E("<div>").attr("class","ui-zfb-placeholder").text(this._getString(M+".label"));this._feedbackFormMiddle.prepend(P),this._placeHolder(this._feedbackCommentArea,P)}else{this._feedbackSubject.attr("placeholder",FCUtil.getString("subject.label",this.options.keys)),this._feedbackCommentArea.attr("placeholder",this._getString(M+".label"))}this._attachmentContainer=E("<div>").attr("id","ui-ztb-form-attach-container").appendTo(this._feedbackForm),this._attachmentHeader=E("<div>").attr("class","ui-ztb-form-attach-header ").appendTo(this._attachmentContainer),this._attachmentInner=E("<div>").attr("class","ui-ztb-form-attach-inner").appendTo(this._attachmentContainer),this._attachmentCount=E("<div>").attr("class","ui-ztb-form-attach-count").append("<b>"+H._getString("attachments.label")+" ("+H._uploadedCount+")</b>").appendTo(this._attachmentHeader),this._attachmentTempHeader=E("<div>").attr("class","ui-ztb-form-attach-temp-header").appendTo(this._attachmentContainer),this._attachmentErrorHeader=E("<div>").attr("class","ui-zfb-form-attach-errorheader").append('<div><span class="ui-fcomponents-icon ui-zfc-icon-feedback-attachmentheader-error"></span> <div class = "ui-zfb-form-error-headertext"></div></div>').appendTo(this._attachmentHeader),this._isPlaceholder||-1!==navigator.appVersion.indexOf("MSIE 10.")?(this._isIE=!0,this._attachmentHeader.addClass("ui-zfb-transform-unsupported"),this._attachmentCount.css({top:"0px",position:"relative"}),this._attachmentErrorHeader.css({top:"-62px",position:"relative"})):(this._attachmentHeader.addClass("flip-to-top cube"),this._attachmentCount.addClass("default-state"),this._attachmentErrorHeader.addClass("active-state")),E('<span class = "ui-fcomponents-icon ui-zfc-icon-feedback-attachmentheader-collapse"></span>').attr("title",this._getString("collapse.label")).appendTo(this._attachmentCount),this._feedbackFormBottom=E("<div>").attr("id","ui-zfb-form-bottom").appendTo(this._feedbackForm),this._fileContainer=E("<div>").attr("id","ui-zfb-form-others").appendTo(this._feedbackFormBottom);var J="";if((this.options.screengrabber||this.options.attachment)&&(J=H._getString("invalidsizemessage.label","zfeedback",[this._bytesToSize(this.options.maxAllowedSize)])),this.options.attachment&&(this._attachButton=E('<button class="ui-zfeedback-label">').attr({type:"button","data-icon":"ui-fcomponents-icon ui-zfc-icon-attach",id:"attachment",multiple:"",title:FCUtil.getString("attachfile.label",this.options.keys),"data-title-position":"top"}).appendTo(this._fileContainer),this._attachButton.zbutton(),this._attachButton.off("click").on("click",function(){this._uploadBtn=E("<input>").attr({type:"file",id:"ui-zfb-file",name:"fileAttachment",multiple:""}),this._uploadBtn.click(),this._uploadBtn.change(function(U){var S,Q,W;if("undefined"!=typeof FileReader){for(var R=0;R<this.files.length;++R){var T=U.originalEvent.target||U.originalEvent.srcElement;if(S=T.files[R],Q=S.size,W=S.type,H._currAttachmentSize+=Q,invalidSize=H._currAttachmentSize>H.options.maxAllowedSize?!0:!1){return H._clearFile(E(this)),H._currAttachmentSize-=Q,ZAlertDialog.open({type:"error",primaryMessage:J,buttons:"ok",buttonsOrder:"mac",buttonsAlignment:"right"}),E(".zdialog.zdialog--alert").css({top:"50%",left:"50%","margin-left":"-200px","margin-top":"-110px"}),!1}H._attachFile(S.name,Q,W,S)}}else{S=this.files,Q=S.size,W=S.type,H._currAttachmentSize+=Q;var V=document.getElementById("ui-zfb-file").value,X=V.match(/[^\/\\]+$/);H._attachFile(X[0],Q,W,S)}setTimeout(function(){H._notSupportedBrowser=!1,H._virusPresent=!1,H._zfeedbackSendbutton.focus()},2000)})}),this._errorBanner.find("label").on("click",function(){E(this).parent().fadeOut(300)}),this._feedbakDialog.on("drop.zfeedback",function(Q){Q.preventDefault(),Q.stopPropagation()}).on("dragenter.zfeedback dragover.zfeedback",function(Q){Q.preventDefault()})),this.options.screengrabber){var I='<div id="ui-zsg-toolTipContainer"><span>##title##</span><span class="ui-zfb-tooltip-grabscreen-iconholder"><span class="ui-fcomponents-icon ui-zfc-icon-feedback-tip"></span></span></div>';this._screenGrabLabel=E('<button type="button"f class="ui-zfeedback-label ui-zfeedback-screengrabber">').attr({"data-icon":"ui-fcomponents-icon ui-zfc-icon-screengrabber",id:"screenGrabLabel",multiple:"",title:FCUtil.getString("screengrab.label",this.options.keys),"data-title-innerHtml":I,"data-title-position":"top","data-title-class-name":"ui-zfb-tooltip-grabscreen","data-title-isMessageHTMLEncoded":!0,"data-title-pauseOnHover":!0,"data-title-showDelay":400}).appendTo(this._fileContainer),this._screenGrabLabel.zbutton(),this._screenGrabLabel.off("click").on("click",function(Q){("keydown"===Q.type&&13===Q.keyCode||"click"===Q.type)&&(H.options.criticality&&H._criticalPopup.is(":visible")&&H._criticalPopup.fadeOut(100),Q.preventDefault(),Q.stopPropagation(),H._attachScreenGrab())}).on("mouseenter.zfeedback",function(){E("#ui-zsg-toolTipContainer").removeClass("ui-zfb-tip-icon-hide")}).on("mousedown mouseup",function(Q){Q.preventDefault(),Q.stopPropagation()}),E(document).off("click.zfeedback").on("click.zfeedback",".ztooltip.ui-zfb-tooltip-grabscreen .ui-zfc-icon-feedback-tip",function(){if(!H._overalDiv||!H._overalDiv.is(":visible")){var Q=E(".ztooltip .ui-zfb-tooltip-grabscreen");H._shortcutKeyNotify(Q,!1,!0),Q.hide(),this._isModal&&H._feedbackUiDialog.ztooltip("hide")}}).on("mouseleave.zfeedback",".ztooltip.ui-zfb-tooltip-grabscreen",function(){E(this).hide()})}if(this.options.criticality){var G=E("<button>").attr({type:"button",id:"criticality",title:this._getString("criticality.label"),"data-title-position":"top","class":"ui-zfb-criticality-button ui-zfeedback-label"}).appendTo(this._fileContainer);G.zbutton(),G.off("click").on("click",function(Q){("keydown"===Q.type&&13===Q.keyCode||"click"===Q.type)&&(H._criticalPopup.is(":visible")||(E("body").on("mousedown.base._criticalpopup",function(R){E(this).off("mousedown.base._criticalpopup"),setTimeout(function(){H._criticalPopup.fadeOut(100),G.removeClass("ui-zfb-field-focus")},200),R.target===G[0]&&R.preventDefault(),H._feedbakDialog.off("keydown.base._criticalpopup")}),H._feedbakDialog.on("keydown.base._criticalpopup",function(R){return 27===R.which||13===R.which||9===R.which?(E("body").trigger("mousedown.base._criticalpopup"),H._feedbakDialog.off("drag.base._criticalpopup")):40===R.which?O.find("li.ui-zfb-critical-selected").next().trigger("mousedown.li"):38===R.which&&O.find("li.ui-zfb-critical-selected").prev().trigger("mousedown.li"),!1}),H._criticalPopup.css({bottom:H._feedbackFormBottom.outerHeight()+1}).fadeIn(100),G.addClass("ui-zfb-field-focus")))}),this.optionList={normal:this._getString("normal.label"),low:this._getString("low.label"),medium:this._getString("medium.label"),high:this._getString("high.label")},this._criticalPopup=E("<div>").attr("class","ui-zfb-critical-popup").appendTo(this._feedbackFormBottom);var O=(E("<span>").text(this._getString(L+".label")).appendTo(this._criticalPopup),E("<ul>").appendTo(this._criticalPopup));for(var K in this.optionList){O.append(E("<li>").attr("criticality-level",K).text(this.optionList[K]).append(E("<div>")))}this._formData.criticalType="",O.find("li").on("mousedown.li",function(){var R=E(this).children("div");O.find("div").css("background-color",""),R.css("background",""),O.find("li").removeClass("ui-zfb-critical-selected"),E(this).addClass("ui-zfb-critical-selected");var Q=E(this).attr("criticality-level");G.attr("criticality-level",Q),H._formData.criticalType="normal"===Q?"":H.optionList[Q],setTimeout(function(){R.css("background-color",R.css("border-left-color"))},20)});var N="ui-zfb-critical-popup-arrow"+(this.options.screengrabber&&this.options.attachment?"":"ui-zfb-arrow-leftdjustment");E("<div>").attr("class",N).appendTo(this._criticalPopup);O.find("li:first-child").trigger("mousedown.li")}if(E("body").on("mousedown.zfeedback",function(R){var Q=E(R.target);H._focussedEle&&E(H._focussedEle).removeClass("ui-zfb-field-focus"),("span"==R.target.tagName.toLowerCase()||"file"==R.target.tagName.toLowerCase())&&(Q=Q.parent()),H._focussedEle=Q}),this._flipOver=void 0,this._zfeedbackSendbutton=E("<button type='button' id='ui-zfeedback-send' class='ui-zfeedback-send zbutton zbutton--primary'>").text(FCUtil.getString("send.label",this.options.keys)).appendTo(this._fileContainer).on("click",function(){if(clearTimeout(H._flipOver),clearTimeout(H._removeHeader),H._errorBanner.css("top","-36px").hide(),0!==H._feedbackSubject.val().length||0!==H._feedbackCommentArea.val().length){if(H._attachmentInner.find(".ui-ztb-filename-container").hasClass("ui-zfb-file-error")){H._attachmentErrorHeader.children().animate({"margin-left":6},50).animate({"margin-left":-6},50).animate({"margin-left":6},50).animate({"margin-left":-6},50).animate({"margin-left":0},50),H._attachmentInner.animate({scrollTop:H._attachmentInner.find(".ui-zfb-file-error:first").offset().top-H._attachmentInner.offset().top+H._attachmentInner.scrollTop()})}else{if(H._areAttachmentsPending()){H._attachmentHeader.hasClass("flip-over")||H._attachmentHeader.hasClass("slide-down")?H._attachmentErrorHeader.children().animate({"margin-left":6},50).animate({"margin-left":-6},50).animate({"margin-left":6},50).animate({"margin-left":-6},50).animate({"margin-left":0},50):H._filesPendingHandle(),H._flipOver=setTimeout(function(){clearTimeout(H._flipOver),H._attachmentCount.show(),H._zfeedbackSendbutton.attr("disabled",!0),H._isIE?(H._slideAnimation(!0),H._attachmentHeader.removeClass("slide-down")):H._attachmentHeader.removeClass("flip-over"),H._removeHeader=setTimeout(function(){clearTimeout(H._removeHeader),H._attachmentErrorHeader.removeClass("ui-zfb-form-attach-pendingheader").find("span").removeClass("ui-zfc-icon-feedback-attachmentheader-info").addClass("ui-zfc-icon-feedback-attachmentheader-error"),H._zfeedbackSendbutton.attr("disabled",!1)},250)},2500)}else{H._feedbackSubject.removeClass("ui-zfb-input-error"),E(this).attr("disabled",!0),H._isEnterDisabled=!0,H._triggerEvent(H._EVENTS.ONSENDING),H._sendFeedback();var T={},U=H._EVENTS.BEFORESEND;if(H.options[U]?H._feedbackData=H.options[U](void 0,H._feedbackData):(T=H._triggerEvent(U,H._feedbackData),H._feedbackData=E.extend({},H._feedbackData,T)),H.options.onBeforeSend){var R=H.options.onBeforeSend(void 0,{formData:H._feedbackData});R&&R.formData&&(H._feedbackData=R.formData)}var S={setHeaders:function(W){var Y=H.options.requestHeaders;for(var X in Y){W.setRequestHeader(X,Y[X])}},success:function(){H._isResponseReceived=!0,H._isSuccessful=!0,H._triggerEvent(H._EVENTS.ONSEND),H.options.onSend&&H.options.onSend()},fail:function(){H._isResponseReceived=!0,H._isEnterDisabled=!1,H._isSuccessful=!1,H._triggerEvent(H._EVENTS.ONFAIL),H.options.onFail&&H.options.onFail()}},V=H.options.submitURL?H.options.submitURL:H._contextPath+"sendfeedback.do";H._submitRequest(V,H._feedbackData,S,H._externalSubmitURL);H._isErrorShown=!1}}}else{if(H._focussedEle=H._feedbackSubject,this._isModal){var Q=H._feedbackUiDialog.position().left;H._dialogDragged?H._feedbackUiDialog.animate({left:Q+6},50).animate({left:Q-6},50).animate({left:Q+6},50).animate({left:Q-6},50).animate({left:Q},50):H._feedbackUiDialog.animate({"margin-right":6},50).animate({"margin-right":-6},50).animate({"margin-right":6},50).animate({"margin-right":-6},50).animate({"margin-right":0},50)}E(this).removeClass("ui-zfb-field-focus"),H._isPlaceholder?H._subjectText.addClass("ui-zfb-input-error").text(H._getString("writesome.label")):H._feedbackSubject.attr("placeholder",H._getString("writesome.label")),H._isErrorShown=!0,H._feedbackSubject.addClass("ui-zfb-input-error").off("focus.zfeedback").on("keypress.zfeedback",function(){H._isPlaceholder?H._subjectText.removeClass("ui-zfb-input-error").text(FCUtil.getString("subject.label",H.options.keys)):H._feedbackSubject.removeClass("ui-zfb-input-error").attr("placeholder",FCUtil.getString("subject.label",H.options.keys)),H._isErrorShown=!1}),H._isIE?H._feedbackCommentArea.trigger("focus"):H._feedbackSubject.trigger("focus")}}).on("keyup",function(Q){13!==Q.keyCode&&32!==Q.keyCode||0!==H._feedbackSubject.val().length&&0!==H._feedbackCommentArea.val().length||H._isPlaceholder||H._feedbackSubject.trigger("focus")}),this._zfeedbackSendbutton.zbutton({style:"primary"}),this._feedbackSubject.trigger("focus"),this._isModal){var F=this._feedbackUiDialog.find(".zdialog__title");this._feedbakDialog.off("zdialogminimize").on("zdialogminimize",function(){F.addClass("ui-zfb-title-ellipsis"),H._dialogDragged=!0,F[0].offsetWidth<F[0].scrollWidth&&F.attr("title",F.text())})}this._attachmentCount.on("click.zfeedback",function(){H._attachmentContainer.hasClass("ui-zfb-file-attach-collapse")?(H._attachmentContainer.add(H._attachmentCount.children("span").attr("title",H._getString("collapse.label"))).removeClass("ui-zfb-file-attach-collapse"),H._isAttachmentCollapsed=!1):(H._attachmentContainer.add(H._attachmentCount.children("span").attr("title",H._getString("expand.label"))).addClass("ui-zfb-file-attach-collapse"),H._isAttachmentCollapsed=!0),H._resetTextArea()}),this._attachmentInner.on("scroll.zfeedback",function(){H._attachmentInner.scrollTop()}),setInterval(function(){H._isOnline()?H._isConnectionFail&&(H._zfeedbackSendbutton.attr("disabled",!1).removeClass("ui-zfb-disable"),H._isConnectionFail=!1):H._isConnectionFail||(H._zfeedbackSendbutton.attr("disabled",!0).addClass("ui-zfb-disable"),H._isConnectionFail=!0)},5000),this._windowObj.off("resize.zfeedback").on("resize.zfeedback",function(){H._dialogDragged||(H._dialogHeightAdjustment(),H._feedbakDialog.zdialog("option","height",H._dialogHeight),H._resizeTextArea(),H._resetTextArea())})},_fetchImportStatus:function(K,M,G,L){var J=this,I={action:"upload",screenGrabData:null,fileAttachment:null,randomNumber:this._randomNumber,attachmentSize:this._currAttachmentSize};L?(I.screenGrabData=G,delete I.fileAttachment,J._screenshotCount=J._screenshotCount+1):(I.fileAttachment=G,delete I.screenGrabData,J._fileCount=J._fileCount+1),J._fileBorderAdjustment(),I.randomNumber=J._randomNumber+"-"+J._fileCount+"-"+J._screenshotCount,J._feedbackRandomNum=I.randomNumber,I.attachmentSize=I.attachmentSize-parseInt(K.attr("fileSize")),K.attr({fileID:I.randomNumber,mimeType:M,uploaded:"pending"}).find(".ui-ztb-filename-label").addClass("ui-zfeedback-dim");var H={customData:I,setHeaders:function(N){var P=J.options.requestHeaders;for(var O in P){N.setRequestHeader(O,P[O])}},progress:function(Q,R){var O=R.percentage,P=J._attachmentInner.find(E('.ui-ztb-filename-container[fileID="'+R.randomNumber+'"]')),N=P.data("context");P.find(".ui-zfb-attachment-temp").hide(),P.length&&100!==O&&J._canvasAnimatn(N,O/100)},success:function(O,T,U){var S=E.parseJSON(O),Q=S.status;if("success"===Q&&"upload"===U.action){var V=J._attachmentInner.find(E('.ui-ztb-filename-container[fileID="'+U.randomNumber+'"]'));V.find(".ui-zfb-attachment-temp").hide(),V.find(".ui-ztb-filename-label").animate({top:"-9px"},300);var N=V.find("canvas");N.hide(),V.find(".ui-ztb-filename-size").css("opacity",1).animate({top:"-4px"},300),V.is(":visible")&&(J._uploadedCount=J._uploadedCount+1,V.attr("uploaded",!0)),J._attachmentCount.find("b").text(J._getString("attachments.label")+" ("+J._uploadedCount+")"),J._uploadedInfo=S.uploadedInfo;var R=S.size;if(V.is(":visible")){J._currAttachmentSize=J._currAttachmentSize+R-parseInt(V.attr("fileSize"));var P=V.find(".ui-ztb-filename-label").text();V.find(".ui-ztb-filename-label")[0].hasAttribute("title")&&(P=V.find(".ui-ztb-filename-label").attr("title")),J._attachmentArray.push({fileID:V.attr("fileID"),fileName:P,mimeType:V.attr("mimeType")}),V.find(".ui-ztb-filename-label").removeClass("ui-ztb--dim"),V.attr("fileSize",R).find(".ui-ztb-filename-size").text(J._bytesToSize(R))}J._zfeedbackSendbutton.focus()}else{J._handleUploadFail(O,U)}},fail:function(O,N,P){J._handleUploadFail(O,P)}},F=this._canvasInitialization(K.find("canvas"),H,"");K.data("context",F);this._submitRequest(this.options.fileActionURL,I,H,this._externalAttachmentURL)},_handleUploadFail:function(I,J){var H=this._attachmentInner.find(E('.ui-ztb-filename-container[fileID="'+J.randomNumber+'"]'));H.attr("uploaded",!1).find(".ui-ztb-filename-label").animate({top:"-9px"},300),this._currAttachmentSize-=parseInt(H.attr("fileSize"));var G=I.trim(),F=E.parseJSON(G);F||(F={}),null!==F&&"VIRUS_DETECTED"===F.errorType?H.attr("errorType","virus-error-detected"):H.attr("errorType","unknown-error-detected"),this._errorCaseHandle(H)},_updateProgress:function(F,H,G){F&&F.lengthComputable?H.css("width",G+"%"):H.css("background-color","#00BD9C").animate({width:"20%"},300)},_attachFile:function(K,O,F,J){var G=this,H=K.split(".").pop().toLowerCase();this._fileData.fileAttachment=J;var M=E("<div>").attr({"class":"ui-ztb-filename-container",uploaded:!1,fileSize:O}),I=E("<div>").attr({"class":"ui-ztb-filename-label"}).text(K).appendTo(M);E("<span>").attr("class"," ui-ztb-filename-size").text(G._bytesToSize(O)).appendTo(M),M.appendTo(this._attachmentInner),I.text(G._start_and_end(K,I)),this._attachmentInner[0].offsetWidth>this._attachmentInner[0].scrollWidth&&this._getScrollBarWidth()&&this._attachmentInner.find(".ui-ztb-filename-container").css({width:M.outerWidth()-this._getScrollBarWidth()/2}),this._attachmentContainer.show(),G._isAttachmentCollapsed&&G._attachmentCount.trigger("click"),G._resetTextArea(),E("<span>").attr({"class":"ui-fcomponents-icon ui-zfc-icon-feedback-attachment-close",title:this._getString("removefile.label")}).appendTo(M).on("click.zfeedback",function(){E(this).off("click.zfeedback"),G._fileData.fileAttachment=void 0,G._isAlertShown=!1,G._removeFile(!1,E(this).parent())});var N;E("<canvas>").attr({width:"60px",height:"43px"}).appendTo(M);if("png"!==H&&"jpg"!==H&&"jpeg"!==H&&"gif"!==H||"undefined"==typeof FileReader){N=document.createElement("span"),E(N).attr("class","ui-fcomponents-icon ui-zfc-icon-filetype-others ui-zfc-icon-filetype-"+H),E('<div class = "ui-zfb-attachment-outerRing">').append(N).appendTo(M)}else{N=document.createElement("img"),E(N).addClass("ui-icon-fileType-img"),E('<div class = "ui-zfb-attachment-outerRing">').append(N).appendTo(M);var L=new FileReader;L.onloadend=function(){N.src=L.result},L.readAsDataURL(J)}E('<div class = "ui-zfb-attachment-temp">').appendTo(M),this._attachmentInner.scrollTop(this._attachmentInner.prop("scrollHeight")),this._fetchImportStatus(M,F,J,!1,!1)},_start_and_end:function(G,F){return G.length>23?(F.attr("title",G),G.substr(0,13)+"..."+G.substr(G.length-6,G.length)):G},_fileBorderAdjustment:function(){var F=this._attachmentInner.find(".ui-ztb-filename-container").length;F>=7&&(E(this._attachmentInner.find(".ui-ztb-filename-container")[5]).removeClass("ui-zfb-fileName-removeBorder"),7===F&&E(this._attachmentInner.find(".ui-ztb-filename-container")[5]).addClass("ui-zfb-fileName-removeBorder"))},_adjustFileText:function(H,J){H.text("");var F=E('<span class = "left-adjustment">').text(J),I=E('<span class = "center-adjustment">').text("..."),G=E('<span class = "right-adjustment">').text(J);F.add(I).add(G).appendTo(H)},_canvasInitialization:function(I){var G=Math.random();I.prev().show(),I.attr("id","ui-zfb-canvas-"+G);var F=document.getElementById("ui-zfb-canvas-"+G);!function(){var J=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=J}();var H=F.getContext("2d");return H.lineWidth=15,H.strokeStyle="rgba(0,0,0,0.55)",H},_canvasAnimatn:function(F,G){F.clearRect(0,0,60,44),F.fillStyle="rgba(0,0,0,0.7)",F.fillRect(0,0,60,44),F.beginPath(),F.fillStyle="black",F.globalCompositeOperation="destination-out",F.arc(30,22,17,0,this._canvasCirc),F.closePath(),F.fill(),F.beginPath(),F.globalCompositeOperation="source-over",F.arc(30,22,7,-this._canvasQuart,this._canvasCirc*G-this._canvasQuart,!0),F.strokeStyle="rgba(0,0,0,0.7)",F.stroke()},_attachScreenGrab:function(){function H(J,K){document.cookie=J+"="+K+"; "}function G(L){for(var K=L+"=",J=document.cookie.split(";"),M=0;M<J.length;M++){for(var N=J[M];" "==N.charAt(0);){N=N.substring(1)}if(0==N.indexOf(K)){return N.substring(K.length,N.length)}}return""}var I=this;errorType="",I._isScreengrabberOpen=!0,this._screenshotFallEle=E("<div>").attr({"class":"ui-ztb-filename-container",fileSize:1021121}).appendTo(this._attachmentInner);var F=E("<canvas>").attr({width:"60px",height:"43px"}).appendTo(this._screenshotFallEle);Screengrabber.open({targetObject:F,fetchImageURL:this.options.proxyURL}),E("body").off("screengrabberdone").on("screengrabberdone",function(J,K){I.options.onScreengrabberDone&&I.options.onScreengrabberDone(),I._currImageSource=void 0!=K.imageSource?K.imageSource:E("body").data("imageSource"),I._attachScreenshot(K.imageSource,I._screenshotFallEle),I._screenshotFallEle=void 0,I._isModal&&(G("screengrabberShortcut")||(H("screengrabberShortcut",!0),setTimeout(function(){I._shortcutKeyNotify(E(".ztooltip.ui-zfb-tooltip-grabscreen"),!0)},1200)))})},_attachScreenshot:function(K,H){var I=this,G=1021121,J="image/png";K&&(this._currImageSource=K),this._screengrabberAttached=!0,this._isModal&&this._feedbackUiDialog.show();var L,F=E("<img>").attr({"class":"ui-zfeedback-imgpreview ui-zfb-screenshot-img",src:this._currImageSource});L=H?H:E("<div>").attr({"class":"ui-ztb-filename-container",fileSize:G}),I._totalScreenshotCount=I._totalScreenshotCount+1,E("<span>").addClass("ui-ztb-filename-label").text(this._getString("screenshot.label")+"_"+I._totalScreenshotCount+".png").appendTo(L),E("<span>").addClass("ui-ztb-filename-size").text(I._bytesToSize(G)).appendTo(L),E("<span>").attr({"class":"ui-fcomponents-icon ui-zfc-icon-feedback-attachment-close",title:this._getString("removefile.label")}).appendTo(L).on("click",function(){I._isAlertShown=!1,I._fileData.screenGrabData=void 0,I._resetTextArea(),I._removeFile(!0,E(this).parent())});E("<canvas>").attr({width:"60px",height:"43px"}).appendTo(L);E('<div class = "ui-zfb-attachment-outerRing">').append(F).appendTo(L),L.appendTo(this._attachmentInner),I._isAttachmentCollapsed&&I._attachmentCount.trigger("click"),this._attachmentInner[0].offsetWidth>this._attachmentInner[0].scrollWidth&&this._getScrollBarWidth()&&this._attachmentInner.find(".ui-ztb-filename-container").css({width:L.outerWidth()-this._getScrollBarWidth()/2}),this._attachmentContainer.show(),this._resetTextArea(),this._attachmentInner.scrollTop(this._attachmentInner.prop("scrollHeight")),this._currAttachmentSize+=G,this._fetchImportStatus(L,J,this._currImageSource,!0),this._isScreengrabberOpen=!1,this._zfeedbackSendbutton.focus()},_shortcutKeyNotify:function(V){var I=this,Q="ui-zfb-info";this.options.attachment||(Q="ui-zfb-info ui-zfb-screengrabber-only"),I._feedbackFormBottom.addClass(Q),V.hide(),this._overalDiv=E("<div>").attr("class","ui-zsg-shortcut-overaldiv"),this._outerTipContainer=E("<div>").attr("class","ui-zsg-outer-tipcontainer");var K=E("<span>").attr({"class":"ui-fcomponents-icon ui-zfc-icon-feedback-tip-close",title:FCUtil.getString("close.label",this.options.keys)}).appendTo(this._outerTipContainer),N=E("<div>").attr("class","ui-zfb-tip-container").appendTo(this._outerTipContainer),U=E("<div>").attr("class","ui-zfb-tip-notifier").appendTo(N);E("<span>").attr("class","ui-zfb-tip-ele").text(this._getString("tip.label")+":").appendTo(U);E("<span class = ui-zfb-tip-info></span>").text(this._getString("usekeyboardshortcuts.label")+":").appendTo(U);var R=E("<div>").attr("class","ui-zfb-capture-center-container").appendTo(N),H=E("<div>").attr("class","ui-zfb-capture-container").appendTo(R);4===this._partialScreen.length&&4===this._fullScreen.length&&H.addClass("four");var G=E("<div class = ui-zfb-capture-fullScreen></div>").appendTo(H);E("<b class = ui-zfb-fullscreen-capture-text>"+this._getString("capturefullscreen.label")+"</b>").appendTo(G);var O=E('<div class = "fullscreen-keys">').appendTo(G),L=E("<span class = ui-zfb-fullscreen-capture-separator>").text("-").appendTo(O);E(this._tipFormat(this._fullScreen)).appendTo(O);var S=E("<div class = ui-zfb-capture-partialScreen></div>").appendTo(H);E("<b class = ui-zfb-partial-capture-text>"+this._getString("capturepartofscreen.label")+"</b>").appendTo(S);var M=E('<div class = "partialscreen-keys">').appendTo(S);L.clone().appendTo(M),E(this._tipFormat(this._partialScreen)).appendTo(M),I._feedbackFormMiddle.add(I._feedbackFormBottom).addClass("ui-zsg-tipnotifier-pushup"),this._overalDiv.append(this._outerTipContainer).appendTo(this._feedbackFormBottom);var P=0;this._attachmentContainer.is(":visible")&&(P=this._attachmentContainer.outerHeight(!0));var J=this._getScrollBarWidth();R.css({"margin-left":parseInt(R.css("margin-left"))-J,"margin-right":parseInt(R.css("margin-right"))-J});var T=this._textAreaHeight-P-this._overalDiv.outerHeight();32>=T&&(T=30,this._attachmentInner.addClass("ui-zfb-maxheight-adjustment"),this._attachmentInner[0].offsetWidth>this._attachmentInner[0].scrollWidth&&this._getScrollBarWidth()&&this._attachmentInner.find(".ui-ztb-filename-container").css({width:265-this._getScrollBarWidth()/2}),this._attachmentContainer.is(":visible")&&(P=this._attachmentContainer.outerHeight(!0)));var F=this._textAreaHeight-P-T;F>193&&(F=193),this._overalDiv.height(F),T=this._textAreaHeight-P-F,this._feedbackFormMiddle.dequeue().animate({height:T},500);K.on("click",function(){I._feedbackFormBottom.removeClass("ui-zfb-info ui-zfb-screengrabber-only");var X=I._overalDiv;setTimeout(function(){X.css({borderRadius:"100%"})},350),K.hide();X.dequeue().animate({width:"17px",height:"17px",left:"140px",padding:"0px"},400,"linear",function(){var Z=90;I.options.attachment||(Z=50);var Y,a;X.dequeue().css({overflow:"hidden"}).animate({top:-60,left:Z},600,"linear",function(){X.hide(),clearTimeout(Y),clearTimeout(a);var b=E(".ztooltip");b.find("#ui-zsg-toolTipContainer").addClass("ui-zfb-tip-icon-hide"),b.find(".ui-zfb-tooltip-grabscreen-iconholder").addClass("yellow").animate({height:"16px"},600,"easeInSine"),Y=setTimeout(function(){b.find(".ui-zfb-tooltip-grabscreen-iconholder").removeClass("yellow"),a=setTimeout(function(){X.remove(),E("#ui-zsg-toolTipContainer").removeClass("ui-zfb-tip-icon-hide"),b.find("#ui-zsg-toolTipContainer").removeClass("ui-zfb-tip-icon-hide").find(".ui-zfb-tooltip-grabscreen-iconholder").css("height",""),I._isModal&&I._feedbackUiDialog.ztooltip("hide")},1000)},1200)})}),I._feedbackFormMiddle.add(I._feedbackFormBottom).removeClass("ui-zsg-tipnotifier-pushup"),I._attachmentInner.removeClass("ui-zfb-maxheight-adjustment");var W=I._resetTextArea(!0);I._feedbackFormMiddle.dequeue().animate({height:W},900,"linear",function(){var Y=E(".ui-zfc-icon-screengrabber").parent();Y.offset().left;I._isModal&&I._feedbackUiDialog.ztooltip("show",I._fileContainer.find("#screenGrabLabel"))})})},_sendFeedback:function(){var K=this;if(this._isModal){this._feedbackUiDialog.add(this._feedbakDialog).add(E(this._feedbackFormBottom.find("#ui-zfb-form-others"))).css("overflow","visible !important"),this._feedbakDialog.height("auto");var J=E(window).height()-(this._feedbackUiDialog.outerHeight()+this._feedbackUiDialog.offset().top);K._feedbackUiDialog.css({top:"auto",bottom:J}).addClass("scaling"),setTimeout(function(){var O=K._feedbackUiDialog.offset();K._feedbackUiDialog.css("opacity",0);var P=E("<div class = ui-zfb-sending-label >").css({left:O.left}).append("<a>"+FCUtil.getString("sending.label",K.options.keys)+"</a>").appendTo("body");P.find("a").queue(function(){E(this).addClass("fadeout").dequeue()});var N,M=setInterval(function(){K._isResponseReceived&&(clearTimeout(N),K._isSuccessful?(P.find("a").removeClass("fadeout"),setTimeout(function(){P.find("a").text(K._getString("thankyou.label")).addClass("fadeout").show();var Q=function(){P.animate({bottom:-50,opacity:0.2},300,function(){E(this).remove(),K._originalEvent=!0,K._close()})};setTimeout(function(){Q()},1500)},400)):P.animate({opacity:0.2},300,function(){E(this).remove(),K._dialogTop=K._windowObj.innerHeight()-K._dialogHeight,K._feedbackUiDialog.removeClass("scaling").css({opacity:0,top:K._dialogTop+K._dialogHeight}).animate({top:K._dialogTop,opacity:1},500,"easeInSine",function(){E(this).css({top:"auto",bottom:0,height:K._dialogHeight}),K._zfeedbackSendbutton.attr("disabled",!1).removeClass("ui-zfb-disable").addClass("ui-zfb-field-focus").text(K._getString("resend.label")).focus(),K._isEnterDisabled=!1,K._focussedEle=K._zfeedbackSendbutton,K._errorBanner.css({display:"block"}).animate({top:"0px"},300,function(){E("body").on("mousedown.errorBanner",function(){E(this).off("mousedown.errorBanner"),K._errorBanner.fadeOut(200)})})})}),clearInterval(M))},2500);N=setTimeout(function(){K._isResponseReceived||(K._isSuccessful=!0,K._isResponseReceived=!0)},5100)},800)}if(this._formData.mailSubject=E("#zfb-input-subject").val(),this._formData.mailContent=ZComponents.encodeHTML(E("#zfb-input-message").val()),this.options.criticality){if(this._formData.criticalType){var I=this._feedbackFormBottom.find(".ui-zfb-criticality-button").attr("criticality-level");"medium"===I?this._formData.mailSubject=this._formData.mailSubject+" - "+this._formData.criticalType:(this._formData.criticalType="high"===I?"["+this._formData.criticalType.toUpperCase()+"] ":this._formData.criticalType+": ",this._formData.mailSubject=this._formData.criticalType+this._formData.mailSubject)}else{this._formData.criticalType=""}}var K=this;this._formData.randomNumber=this._feedbackRandomNum,this._attachmentArray.length&&(this._formData.fileDetails=JSON.stringify(this._attachmentArray));var G=window.screen||{width:0,height:0},F=window.devicePixelRatio||1,L=E.extend({},{"Screen Resolution":Math.ceil(parseFloat(G.width*F))+" × "+Math.ceil(parseFloat(G.height)*F)},this.options.customHeaders);this._formData.customHeaders=JSON.stringify(L);for(var H in this._formData){this._feedbackData[H]=void 0!=this._formData[H]?this._formData[H]:void 0}this._feedbackData.fileAttachment||delete this._feedbackData.fileAttachment,this._feedbackData.randomNumber||delete this._feedbackData.randomNumber,this._uploadedInfo&&(this._feedbackData=E.extend({},this._feedbackData,this._uploadedInfo))},_setOption:function(F,G){this.options[F]=G},_removeFile:function(K,F){var J,I={randomNumber:F.attr("fileID"),action:"remove"},G={progress:function(){},success:function(){},fail:function(){}},H=this;clearTimeout(J),F.dequeue().animate({opacity:0.1},300,function(){for(var L=0;L<H._attachmentArray.length;L++){if(H._attachmentArray[L].fileID==F.attr("fileID")){H._attachmentArray.splice(L,1);break}}F.remove(),H._errorTextHandle(F,!0),H._fileBorderAdjustment(),H._attachmentInner[0].offsetWidth===H._attachmentInner[0].scrollWidth&&H._getScrollBarWidth()&&H._attachmentInner.find(".ui-ztb-filename-container").css({width:"265px"}),H._resetTextArea();H._submitRequest(H.options.fileActionURL,I,G,H._externalAttachmentURL)}),J=setTimeout(function(){"true"===F.attr("uploaded")&&(H._uploadedCount=H._uploadedCount-1,H._attachmentCount.find("b").text(H._getString("attachments.label")+" ("+H._uploadedCount+")"),H._currAttachmentSize-=parseInt(F.attr("fileSize"))),"pending"===F.attr("uploaded")&&(H._currAttachmentSize-=parseInt(F.attr("fileSize"))),H._uploadedCount||1!==H._attachmentInner.children().length||(H._attachmentContainer.hide(),H._isIE?(H._slideAnimation(!0),H._attachmentHeader.removeClass("slide-down")):H._attachmentHeader.removeClass("flip-over"),H._attachmentErrorHeader.siblings(":last").removeClass("ui-zfc-icon-collapse-white"),H._attachmentHeader.removeClass("ui-zfb-form-attach-error")),H._resetTextArea()},100)},_removeAllFiles:function(){var G={};this._attachmentArray.length&&(G.fileDetails=JSON.stringify(this._attachmentArray)),G.action="remove";var F={progress:function(){},success:function(){},fail:function(){}};this._submitRequest(this.options.fileActionURL,G,F,this._externalAttachmentURL)},_submitRequest:function(H,F,G){return this.options.customData?F=E.extend({},F,this.options.customData):F[FComponents.option("csrfParamName")]=FCUtil.getCSRFToken(),H=this.options.postURL?this.options.postURL:H,E.ajaxUpload(H,F,G)},_isOnline:function(){return navigator.onLine},_clearFile:function(F){F.wrap("<form>").closest("form").get(0).reset(),F.unwrap()},_bytesToSize:function(F){var H=["bytes","KB","MB","GB","TB"];if(0==F){return F+""+H[0]}var G=parseInt(Math.floor(Math.log(F)/Math.log(1024)));return Math.ceil(F/Math.pow(1024,G)*100)/100+" "+H[G]},_tipFormat:function(G){for(var I="",H=0;H<G.length;H++){I+='<div class = "ui-keys-border">'+G[H]+"</div><span>+</span>"}var F=I.substring(0,I.lastIndexOf("<span>"));return F},_errorCaseHandle:function(F){F.attr("errorFound",!0).find("canvas").remove(),E('<div class = "ui-ztb-file-error-blackout"></div><div class = "ui-ztb-file-error"><span class = "ui-fcomponents-icon ui-zfc-icon-feedback-attachment-error"></span></div>').appendTo(F);E("<div>").attr("class","ui-zfb-file-error-text").appendTo(F);this._errorTextHandle(F),F.find(".ui-zfc-icon-feedback-attachment-error").css({transform:"scale(1.1)"}),setTimeout(function(){F.find(".ui-zfc-icon-feedback-attachment-error").css("transform","scale(1)")},200)},_errorTextHandle:function(O,F){var J,M,K,L,G=this,I=O.find(".ui-ztb-filename-label").text(),H=this._attachmentInner.find('.ui-ztb-filename-container[errorfound="true"]').length;if(this._errorText=[this._getString("viruspresent.label"),this._getString("unknownerrortext.label")],F){0===H?this._isIE?(this._slideAnimation(!0),this._attachmentHeader.removeClass("slide-down")):this._attachmentHeader.removeClass("flip-over"):H>=1&&(J=this._errorHeaderText(null,H,3),this._attachmentErrorHeader.find(".ui-zfb-form-error-headertext").text(J))}else{var N=O.attr("errorType");"virus-error-detected"===N?(M=this._errorText[0],K="ui-zfb-file-error",J=1==H?1===this._attachmentInner.find(".ui-ztb-filename-container").length?this._errorHeaderText(I,H,0):this._errorHeaderText(I,H,1):this._errorHeaderText(I,H,3)):"unknown-error-detected"===N&&(M=this._errorText[1],K="ui-zfb-file-error",J=1===H?this._errorHeaderText(I,H,2):this._errorHeaderText(I,H,3)),clearTimeout(L),this._isIE?(this._attachmentHeader.addClass("slide-down"),this._slideAnimation()):(this._attachmentHeader.addClass("flip-over"),this._attachmentCount.add(this._attachmentHeader).addClass("ui-zfb-header-grey-effect"),this._attachmentTempHeader.show(),L=setTimeout(function(){G._attachmentTempHeader.hide(),G._attachmentCount.add(G._attachmentHeader).removeClass("ui-zfb-header-grey-effect")},400)),this._attachmentHeader.addClass("ui-zfb-form-attach-error"),O.addClass(K),O.find(".ui-zfb-file-error-text").text(M),this._attachmentErrorHeader.find(".ui-zfb-form-error-headertext").text(J)}this._resetTextArea()},_slideAnimation:function(H){var F,G,I=this;H?(F="0px",G="-62px"):(F="31px",G="-31px"),this._attachmentCount.animate({top:F},300),setTimeout(function(){I._attachmentErrorHeader.animate({top:G},300)},0)},_dialogHeightAdjustment:function(){this._dialogHeight=0.7*this._windowObj.innerHeight();var G=this.options.minHeight,F=this.options.maxHeight;this._dialogHeight<G?this._dialogHeight=G:this._dialogHeight>F&&(this._dialogHeight=F)},_errorHeaderText:function(H,G,F){return[this._getString("virusdetected.label"),this._getString("virusdetectedinfile.label","zfeedback",[H]),this._getString("unknownerrorinfile.label","zfeedback",[H]),this._getString("multiplefileserror.label","zfeedback",[G])][F]},_areAttachmentsPending:function(){return this._attachmentInner.find('.ui-ztb-filename-container[uploaded="pending"]').length},_filesPendingHandle:function(){var F=this;this._attachmentErrorHeader.addClass("ui-zfb-form-attach-pendingheader").find("span").removeClass("ui-zfc-icon-feedback-attachmentheader-error").addClass("ui-zfc-icon-feedback-attachmentheader-info");setTimeout(function(){clearTimeout(H),F._isIE?(F._attachmentHeader.addClass("slide-down"),F._slideAnimation()):(F._attachmentHeader.addClass("flip-over"),F._attachmentCount.add(F._attachmentHeader).addClass("ui-zfb-header-grey-effect"),F._attachmentTempHeader.show());var H,I=F._attachmentErrorHeader.find(".ui-zfb-form-error-headertext"),G=F._areAttachmentsPending();I.text(1===G?F._getString("fileuploadinprogress.label"):F._getString("multiplefilesuploadinprogress.label","zfeedback",[G])),F._resetTextArea(),H=setTimeout(function(){F._attachmentTempHeader.hide(),F._attachmentCount.add(F._attachmentHeader).removeClass("ui-zfb-header-grey-effect")},400)},100)},_resizeTextArea:function(){this._isModal&&(this._textAreaHeight=this._feedbakDialog.height()-this._fileContainer.height()-this._feedbackSubject.outerHeight(),this._feedbackFormMiddle.height(this._textAreaHeight))},_resetTextArea:function(G){var J=0;this._overalDiv&&this._overalDiv.is(":visible")&&!G&&(J=this._overalDiv.outerHeight(!0));var F=0;this._attachmentContainer.is(":visible")&&(F=this._attachmentContainer.outerHeight(!0));var H=this._textAreaHeight-F-J;H=H>30?H:30,32>=H?(this._attachmentInner.addClass("ui-zfb-maxheight-adjustment"),this._attachmentContainer.is(":visible")&&(F=this._attachmentContainer.outerHeight(!0)),this._attachmentInner[0].offsetWidth>this._attachmentInner[0].scrollWidth&&this._getScrollBarWidth()&&this._attachmentInner.find(".ui-ztb-filename-container").css({width:265-this._getScrollBarWidth()/2})):!G&&this._attachmentInner.hasClass("ui-zfb-maxheight-adjustment")&&H>140?(this._attachmentInner.removeClass("ui-zfb-maxheight-adjustment"),F=this._attachmentContainer.outerHeight(!0)):this._overalDiv&&this._overalDiv.is(":visible")&&!G&&this._attachmentInner.children().length&&!this._attachmentInner.hasClass("ui-zfb-maxheight-adjustment")&&H>70&&(J=193,this._overalDiv.height(J)),H=this._textAreaHeight-F-J,H=H>30?H:30;var I=this._textAreaHeight-F-H;return this._overalDiv&&this._overalDiv.is(":visible")&&!G&&this._overalDiv.height(I>193?193:I),G?H:void this._feedbackFormMiddle.css({height:H})},_placeHolder:function(F,G){E(F).on("focus.placeholder",function(){E(G).hide()}).on("focusout.placeholder",function(){0!=E(this).val().length?E(G).hide():E(G).show()}),setTimeout(function(){E("#zfb-input-subject").blur(),E("body").focus()},40)},_getScrollBarWidth:function(){var F=E("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),G=E("<div>").css({width:"100%"}).appendTo(F).outerWidth();return F.remove(),100-G},_randomString:function(){for(var H="",F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",G=0;5>G;G++){H+=F.charAt(Math.floor(Math.random()*F.length))}return H},_isMacOS:function(){var F=navigator.userAgent.toLowerCase();return -1!=F.indexOf("mac")},_getString:function(G,F,H){return FCUtil.getI18NString("zfeedback",G,H,this.options.keys)},_triggerEvent:function(G,F){this._feedbakDialog.trigger("zfeedback"+G,F)},_send:function(F){F.customHeaders&&(this.options.customHeaders=E.extend({},this.options.customHeaders,F.customHeaders)),F.send&&(this.options.onSend=F.send),F.beforesend&&(this.options.onBeforeSend=F.beforesend),F.fail&&(this.options.onFail=F.fail),this._zfeedbackSendbutton.trigger("click")}};return{init:function(H){if(A=E.extend({},A,H),A.screengrabber){var G=FComponents.option("contextPath"),F=A.proxyURL?A.proxyURL:G+"proxy.do";Screengrabber.init({fetchImageURL:F})}E("body").on("screengrabberopen",function(){E("#ui-zfeedback-dialog").hide()}).off("screengrabberclose").on("screengrabberclose",function(){C._totalScreenshotCount=0,E("#ui-zfeedback-dialog").css({display:"block",opacity:0}).animate({opacity:1,easing:"easeInExpo"},250),C._isScreengrabberOpen=!1,C._focussedEle=E(C._screenGrabLabel)[0],E(C._focussedEle).focus()})},option:function(F,G){C._setOption(F,G)},open:function(G){if(D){var F=E("#ui-zfeedback-dialog");F.is(".zdialog--minimized")&&(F.zdialog("maximize"),F.find(".ui-dialog-titlebar-minimize").trigger("click"))}else{C._create(G)}},send:function(F){C._send(F)},close:function(){C._close()},attachScreenshot:function(G,F){ZFeedback.open({formType:"feedback"}),C._attachScreenshot(G.src,F)}}}(window.jQuery),Screengrabber=function(D){var C={keys:{"highlight.label":"Highlight","blackout.label":"Blackout","attach.label":"Attach","cancel.label":"Cancel","message.label":"Click to select the full screen. Drag to select part of the screen.","screencapturealert.label":"Unable to capture your screen due to an unknown error.","screencapturefailure.label":"Sorry! We are unable to capture your screen due to an unknown error.","actualsize.label":"Actual Size","smallsize.label":"Small Size","retry.label":"Retry","quit.label":"Quit"}},A={targetObject:!1,fetchImageURL:""},B=!1,E={widgetEventPrefix:"screengrabber",_EVENTS:{ONOPEN:"open",ONFINISH:"done",ONCLOSE:"close"},_grabAreaDrag:!1,_selectionDrag:!1,_isIE9:!1,_selectedTool:void 0,_toolSelected:!1,_undoCount:void 0,_undoFlag:void 0,_rightDrag:!1,_overflow:!0,_ctx:void 0,_memCtx:void 0,_create:function(F){this._windowObj=D(window),this._initalOverflow=D("body").css("overflow"),D("body").addClass("ui-zsg-userselect").css("overflow","hidden"),this._drawArray=[],this._scrollTopVal={},this._screenGrabFailCount=0,this._isInvokedByShortcut=!1,this._screenGrabFail=!1,this._selectionDrag=!1,this._scrollTopVal.topval=window.pageYOffset||document.documentElement.scrollTop,this._scrollTopVal.leftval=window.pageXOffset||document.documentElement.scrollLeft,B=!0,this.options=D.extend({},A,F),this.options=D.extend({},C,this.options),-1!==navigator.appVersion.indexOf("MSIE 9.")&&(this._isIE9=!0),this._createTopBandTools(),this._createScreenGrabber(),this._focusScreengrabberEle(),this._triggerEvent(this._EVENTS.ONOPEN)},_close:function(F){this._loaderBar&&this._loaderBar.remove(),this._screenCaptureError.remove(),B=!1,this._screenGrabberArea.off("mousemove.screengrabber"),this._centralDiv.add(this._screenGrabberArea).add(this._topBand).add(this._outerDragEle).remove(),D("body").removeClass("ui-zsg-userselect").css({cursor:"",overflow:this._initalOverflow}),F&&this._triggerEvent(this._EVENTS.ONCLOSE),D(window).off("keydown.screengrabber"),D(window).off("keyup.screengrabber"),D("body").off("mousemove.screengrabber mouseup.screengrabber"),this._bindShortcutEvents(this.options)},close:function(){this._close()},_createTopBandTools:function(){var L=this;this._topBand=D("<div>").addClass("ui-zsg-toolbar"),this._screenCaptureError=D("<div>").attr("id","ui-zsg-error-container"),D("<span>").text(this._getString("screencapturealert.label")).appendTo(this._screenCaptureError),D("<span>").attr("id","ui-zsg-retry-link").text(this._getString("retry.label")).appendTo(this._screenCaptureError),D("<div>").attr({id:"ui-zsg-quit-button",title:this._getString("quit.label")}).append('<span class = "zfc-icon ui-icon-cross-small" ></span>').appendTo(this._screenCaptureError);var K=D("<div>").attr("id","ui-zsg-toolbar-left").appendTo(this._topBand),J=D("<div>").attr("id","ui-zsg-toolbar-inner").appendTo(K),H=D("<div>").attr({id:"ui-zfc-zoomin",title:this._getString("actualsize.label"),"class":"ui-zsg-icons"}).appendTo(J).hide();D("<span>").addClass("zfc-icon ui-zfc-zoomin").appendTo(H);var G=D("<div>").attr({title:this._getString("highlight.label")}).addClass("ui-zsg-icons").appendTo(J);D("<span>").addClass("zfc-icon ui-zfc-highlight").appendTo(G);var F=D("<div>").attr({title:this._getString("blackout.label")}).addClass("ui-zsg-icons").appendTo(J);D("<span>").addClass("zfc-icon ui-zfc-blackout").appendTo(F),this._doneBtn=D("<div>").attr("title",this._getString("attach.label")).addClass("ui-zsg-donebtn").appendTo(J),D("<span>").addClass("zfc-icon ui-zfc-screengrabber-tick").appendTo(this._doneBtn),this._topBand.appendTo("body"),this._screenCaptureError.appendTo("body");var I=this._scriptPath();this._topBand.on("click.zscreengrabber mousedown.zscreengrabber mouseup.zscreengrabber",function(M){M.preventDefault(),M.stopPropagation()}),G.click(function(){L._selectedTool="line",L._isIE9?L._outerDragEle.css("cursor","url('"+I+"/images/pen.cur'), auto"):L._outerDragEle.removeClass("ui-zsg-blackout-cursor ui-zsg-default-cursor").addClass("ui-zsg-highlight-cursor"),L._toolSelected=!0}),D("<div>").attr({title:this._getString("cancel.label"),"class":"ui-zsg-donebtn cancel"}).html('<span class="zfc-icon ui-zfc-cross"></span>').appendTo(J).click(function(){L._close(!0)}),F.click(function(){L._selectedTool="rectangle",L._isIE9?L._outerDragEle.css("cursor","crosshair"):L._outerDragEle.removeClass("ui-zsg-default-cursor ui-zsg-highlight-cursor").addClass("ui-zsg-blackout-cursor"),L._toolSelected=!0}),H.on("click",function(){L._selectedTool="zoom",L._isIE9?L._outerDragEle.css("cursor","default"):L._outerDragEle.removeClass("ui-zsg-highlight-cursor ui-zsg-blackout-cursor").addClass("ui-zsg-default-cursor"),L._zoomImage(),L._toolSelected=!1}).on("mousedown.zscreengrabber",function(){H.attr("title",L._getString(L._isZoomedIn?"actualsize.label":"smallsize.label"))}).on("mouseup.zscreengrabber",function(){H.attr("title",L._getString(L._isZoomedIn?"actualsize.label":"smallsize.label"))})},_createScreenGrabber:function(){var K=this,G=void 0;this._centralDiv=D("<div>").attr("id","ui-zsg-msg-default").html("<span>"+this._getString("message.label")+"</span>").appendTo("body"),this._screenGrabberArea=D("<div>").attr({id:"ui-zsg-screen-select","data-html2canvas-ignore":!0}).css({top:this._scrollTopVal.topval}).appendTo("body"),this._darkerDiv=D("<div>").attr({"data-html2canvas-ignore":!0,"class":"ui-zsg-fadeoutarea"}).appendTo(this._screenGrabberArea),this._innerDragEle=void 0,this._outerDragEle=D("<div>").addClass("ui-zsg-editor").appendTo(this._screenGrabberArea);var I,J,H,F;this._screenGrabberArea.on("contextmenu",function(L){L.preventDefault(),L.stopPropagation()}),this._focusScreengrabberEle(),this._bindKeyboardEvents(),this._mouseMove=!1,this._screenGrabberArea.on("mousedown",function(L){2!==L.button&&(L.preventDefault(),L.stopPropagation(),K._screenGrabberArea.focus(),K._centralDiv.hide(),K._selectionDrag=!0,K._drag1=!0,K._mouseMove||(K._mouseMove=!1),K._windowWidth=K._windowObj.width(),K._windowHeight=K._windowObj.height(),K.id=Math.round(1000000*Math.random()),start1=[L.clientX,L.clientY],K._outerDragEle.show(),K._outerDragEle.attr("id",K.id))}).mouseup(function(Q){if(2!==Q.button){K._selectionDrag=!1,Q.stopPropagation(),Q.preventDefault(),D("body").get(0).style.cursor="auto",K._screenGrabberArea.css({"background-image":""}),K._screenGrabberArea.removeClass("ui-zsg-partialscreen-area");var V=K._outerDragEle.innerWidth(),T=K._outerDragEle.innerHeight(),X=K._outerDragEle.position();K._topBandHeight=K._topBand.outerHeight(),K._defLeft=X.left,K._defTop=X.top,K._defWidth=V,K._defHeight=T,K._screenGrabberArea.off().on("mousedown click mouseup",function(Y){Y.stopPropagation(),Y.preventDefault(),K._bindKeyboardEvents()}),K._mouseMove?(H.css({width:K._windowWidth,height:K._defTop}),I.css({top:K._efTop,width:K._defLeft,height:K._defHeight}),J.css({left:K._defLeft+K._defWidth,top:K._defTop,width:K._windowWidth-(K._defLeft+K._defWidth),height:K._defHeight}),F.css({top:K._defTop+K._defHeight,width:K._windowWidth,height:K._windowHeight-(K._defTop+K._defHeight)}),K._darkerDiv.add(K._topBand).add(K._windowObj).mouseup(function(){K._grabAreaDrag&&(K._grabAreaDrag=!1,K._drawCurve())})):(K._defHeight=K._windowHeight,K._defWidth=K._windowWidth),K._outerDragEle.css({left:K._defLeft,top:K._defTop,width:K._defWidth,height:K._defHeight}),K._screenCaptureArea={top:K._defTop+K._scrollTopVal.topval,height:K._defHeight,left:K._defLeft,width:K._defWidth},K._createLoaderBar();var W=D("<canvas>").attr({id:"ui-zsg-editor-canvas",width:K._defWidth,height:K._defHeight}).appendTo(K._outerDragEle).focus();K._canvasEleCreated=!0;var L=document.getElementById("ui-zsg-editor-canvas");if(K._ctx=L.getContext("2d"),K._mouseMove){var M,U=K._defTop-K._topBandHeight,N=0.25,O=K._windowWidth*N;K._defWidth>O&&(O=K._defWidth);var P=1/3;if(K._defWidth<K._windowWidth*P){var S=80;M=(O-2*K._doneBtn.outerWidth()-S)/2,D("#ui-zsg-toolbar-inner").css({margin:0,"margin-left":M})}K._topBand.css({top:U,left:K._defLeft,width:O})}var R;K._isIE9||(K._defWidth>500?K._loaderBar.addClass("ui-zsg-loader-large"):K._defWidth>230?K._loaderBar.addClass("ui-zsg-loader-medium"):(K._loaderBar.addClass("ui-zsg-loader-small"),K._defWidth<100&&K._loaderBar.addClass("ui-zsg-loader-extra"))),K._loaderBar.hasClass("ui-zsg-loader-small")||K._loaderBar.css("top",K._defHeight/2-K._loaderBar.outerHeight()/2),K._captureInProgress=!0;setTimeout(function(){function Y(){K._outerDragEle.css("border","none"),K._loaderBar.show(),html2canvas(D("body"),{proxy:K.options.fetchImageURL,grabArea:K._screenCaptureArea,onrendered:function(a){clearTimeout(R),K._screenGrabFail||(Z.success(a),K._screenGrabFail=!1)}}),R=setTimeout(function(){Z.fail(),clearTimeout(R),K._screenGrabFail=!0},15000)}var Z={success:function(b){window.scroll(K._scrollTopVal.leftval,K._scrollTopVal.topval);var d=document.createElement("img");K._loaderBar.remove(),d.src=b.toDataURL("image/png");var a,c,f,e=-K._defTop,g=-K._defLeft;K._mouseMove?(a=K._defWidth,f=0,c=K._defLeft,e-=K._scrollTopVal.topval):(a=0.8*K._windowWidth,c=0.1*K._windowWidth,f=40,D(d).css({width:"100%"}),D("#ui-zfc-zoomin").show(),K._isZoomedIn=!1,K._defTop=f,K._defWidth=a,K._defLeft=c,K._screenGrabberArea.css("top",K._topBandHeight+K._scrollTopVal.topval),e=0.8*-K._scrollTopVal.topval),D(H).add(F).add(I).add(J).fadeOut(200),K._darkerDiv.fadeIn(200),K._outerDragEle.css({height:K._defHeight,width:a,top:K._defTop,left:c});var i=D("<div>").addClass("ui-zsg-editor-container").appendTo(K._outerDragEle);W.attr("width",a).appendTo(i);var h=D("<div>").addClass("ui-zsg-grab-container").appendTo(K._outerDragEle);h.append(D(d).attr("id","ui-zsg-grabbed-img").css({left:g,top:e-1})),K._mouseMove||(K._defHeight=0.8*K._windowHeight,K._outerDragEle.css({height:K._defHeight}),K._minimizedHeight=K._defHeight,W.attr("height",K._defHeight),K._defTop=K._defTop+K._topBandHeight),K._defHeight=K._defHeight,K._captureInProgress=!1,setTimeout(function(){K._pushImage(),K._bindKeyboardEvents()},1)},fail:function(){K._topBand.hide(),K._loaderBar.hide(),K._screenCaptureError.fadeIn(200),K._captureInProgress=!1,D(document).on("click","#ui-zsg-retry-link",function(){K._screenCaptureError.hide(),D(this).hide(),K._screenGrabFail=!1,Y()}).on("click","#ui-zsg-quit-button",function(){K._screenCaptureError.hide(),K._close(!0)}),K._screenGrabFailCount?(K._screenCaptureError.show(),D("#ui-zsg-retry-link").remove(),K._screenCaptureError.find("span").first().text(K._getString("screencapturefailure.label"))):K._screenGrabFailCount=K._screenGrabFailCount+1}};K._screenGrabFail||Y()},50);K._doneBtn.on("click.screengrabber",function(){var Y="";K._isInvokedByShortcut&&"object"==typeof ZFeedback&&(Y="feedback"),K._takeScreenshot(Y)});K._undoCount=0;K._baseArray=[],K._outerDragEle.on("contextmenu",function(Y){return Y.preventDefault(),Y.stopPropagation(),!1}),K._outerDragEle.on("mousedown.screengrabber",function(a){if(K._toolSelected===!0){var Y;for(Y=1;Y<=K._undoCount;Y++){var b=0;for(var Z in K._drawArray){var b=Z}delete K._drawArray[b],K._baseArray.pop()}K._undoCount=0,K.id=Math.round(10000000*Math.random()),K._baseArray.push(K.id),"rectangle"===K._selectedTool&&(K._grabAreaDrag=!0,K._innerDragEle=D("<div>").attr({id:K.id,"class":"ui-zsg-editor-blackout"}).appendTo(K._outerDragEle),K._drawArray["draw"+K.id]={tool:"rectangle",offset:{Xaxis:0,Yaxis:0,Width:0,Height:0}},start=[a.clientX,a.clientY+K._screenGrabberArea.scrollTop()]),"line"===K._selectedTool&&(K._drawArray["draw"+K.id]=[],K._drawArray["draw"+K.id].offset=[],K._drawArray["draw"+K.id].tool="line",K._drawArray["draw"+K.id].zoom=K._isZoomedIn?"zoom-in":"zoom-out",K._grabAreaDrag=!0,a._x=a.clientX,a._y=a.clientY+K._screenGrabberArea.scrollTop(),K._ctx.beginPath(),K._ctx.moveTo(a._x-K._defLeft,a._y-K._defTop),K._drawArray["draw"+K.id].offset[K._drawArray["draw"+K.id].offset.length]={Xaxis:a._x-K._defLeft,Yaxis:a._y-K._defTop})}}).on("mouseup.screengrabber",function(){K._grabAreaDrag=!1,"line"===K._selectedTool&&setTimeout(function(){K._drawCurve()},100)}).on("mousemove.screengrabber",function(a){if(D("body").get(0).style.cursor="auto",K._grabAreaDrag===!0){if("rectangle"===K._selectedTool){end=[a.clientX,a.clientY+K._screenGrabberArea.scrollTop()];var Z=start[1];start[1]>end[1]&&(Z=end[1]);var Y=start[0];start[0]>end[0]&&(Y=end[0]),divHeight=Math.abs(start[1]-end[1]),divWidth=Math.abs(start[0]-end[0]),D("#"+K.id).length&&D("#"+K.id).remove(),K._drawArray["draw"+K.id]={tool:"rectangle",offset:{Xaxis:Y-K._defLeft,Yaxis:Z-K._defTop,Width:K._divWidth,Height:K._divHeight}},K._innerDragEle.css({left:Y-K._defLeft,top:Z-K._defTop,width:divWidth,height:divHeight}).appendTo(K._outerDragEle)}else{"line"===K._selectedTool&&K._grabAreaDrag&&(a._x=a.clientX,a._y=a.clientY+K._screenGrabberArea.scrollTop(),K._ctx.lineCap="round",K._ctx.lineTo(a._x-K._defLeft,a._y-K._defTop),K._ctx.lineWidth=5,K._drawArray["draw"+K.id].offset[K._drawArray["draw"+K.id].offset.length]={Xaxis:a._x-K._defLeft,Yaxis:a._y-K._defTop},K._ctx.strokeStyle="red",K._ctx.stroke())}}})}}).on("mousemove.screengrabber",function(O){if(K._selectionDrag){K._mouseMove=!0,D("body").css({cursor:"crosshair"}),G=[O.clientX,O.clientY],void 0===H&&(K._screenGrabberArea.removeClass("ui-zsg-partialscreen-area"),I=D("<div>").addClass("ui-zsg-outer-bg ui-zsg-left").appendTo(K._screenGrabberArea),H=D("<div>").addClass("ui-zsg-outer-bg ui-zsg-top").appendTo(K._screenGrabberArea),J=D("<div>").addClass("ui-zsg-outer-bg ui-zsg-right").appendTo(K._screenGrabberArea),F=D("<div>").addClass("ui-zsg-outer-bg ui-zsg-bottom").appendTo(K._screenGrabberArea));var L=start1[1];start1[1]>G[1]&&(L=G[1],K._rightDrag=!0);var N=start1[0];start1[0]>G[0]&&(N=G[0]),divHeight1=Math.abs(start1[1]-G[1]),divWidth1=Math.abs(start1[0]-G[0]);var M=start1[1];K._rightDrag&&(M=G[1],K._rightDrag=!1),I.css({width:N,top:L,height:divHeight1}),H.css({width:K._windowWidth,height:L}),J.css({top:M,left:N+divWidth1,height:divHeight1}),F.css({width:K._windowWidth,height:K._windowHeight-(L+divHeight1)}),K._outerDragEle.css({left:N,top:L,width:divWidth1-2,height:divHeight1-2})}}).on("click.screengrabber",function(L){L.preventDefault(),L.stopPropagation()})},_takeScreenshot:function(H){var F,G=this;G._screenGrabFail=!0,G._triggerEvent(G._EVENTS.ONSEND),setTimeout(function(){var I={success:function(J){window.scroll(G._scrollTopVal.leftval,G._scrollTopVal.topval);var K=J.toDataURL("image/png");G._finalImg=D("<img>").attr({src:K}),G._finalImg.css({position:"absolute",top:G._defTop+G._scrollTopVal.topval,left:G._defLeft,width:G._defWidth,height:G._defHeight,"z-index":100000000}).appendTo("body"),"feedback"===H?G._openFeedback():G._finishAnim()},fail:function(){G._topBand.hide(),G._screenCaptureError.fadeIn(200),G._captureInProgress=!1}};html2canvas(D(G._outerDragEle),{grabArea:G._screenCaptureArea,onrendered:function(J){G._screenGrabFail=!1,clearTimeout(F),I.success(J)}}),F=setTimeout(function(){G._screenGrabFail&&(I.fail(),G._loaderBar.hide(),G._screenGrabFail=!1)},20000)},50)},_openFeedback:function(){var F=this;ZFeedback.attachScreenshot(this._finalImg[0]),setTimeout(function(){var G=D(".ui-ztb-form-attach-inner").children().last().find(".ui-zfb-attachment-outerRing");F.options.targetObject=G,F._finishAnim()},150)},_finishAnim:function(){var L=this;this._screenGrabberArea.hide();var J,M,I,G,K={};if(K.imageSource=this._finalImg.attr("src"),this._triggerEvent(this._EVENTS.ONFINISH,K),this.options.targetObject){var H=this.options.targetObject;J=H.offset().top,M=H.offset().left,I=H.innerWidth(),G=H.innerHeight()}else{var F=D("body");J=F.innerHeight()/2,M=F.innerWidth()/2,I=0,G=0}this._topBand.remove(),this._finalImg.animate({top:J,left:M,width:I,height:G,opacity:0.2},500,function(){L._close(),D(this).remove(),L._captureInProgress=!1})},_pushImage:function(){var J=this;if(this._defTop<this._topBand.outerHeight()&&this._defHeight<this._topBandHeight+20){this._topBand.css({top:this._defTop+this._defHeight,opacity:1}).fadeIn(250)}else{if(this._defTop<this._topBand.outerHeight()){this._topBand.addClass("ui-zsg-draggable").css({top:this._defTop-this._topBand.outerHeight()}).animate({top:this._defTop,opacity:1},300);var I,H,G=!1;this._topBand.on("mousedown.screengrabber",function(K){D(K.target)[0]===D("#ui-zsg-toolbar-left")[0]&&(I=K.clientX,H=K.clientY,G=!0,J._toolSelected=!1),K.preventDefault(),K.stopPropagation()}).add(D("body")).on("mousemove.screengrabber",function(M){if(G){var L=parseInt(J._topBand.css("top"))+M.clientY-H,K=parseInt(J._topBand.css("left"))+M.clientX-I;0>L?L=0:L+J._topBand.outerHeight()>J._windowHeight&&(L=J._windowHeight-J._topBand.outerHeight()),0>K?K=0:K+J._topBand.outerWidth()>J._windowWidth&&(K=J._windowWidth-J._topBand.outerWidth()),J._topBand.css({top:L,left:K}),I=M.clientX,H=M.clientY,J._toolSelected=!1}}).on("mouseup.screengrabber",function(K){G=!1,J._toolSelected=!0,K.preventDefault(),K.stopPropagation()})}else{this._topBand.fadeIn(250)}}var F=this._windowObj.width()-this._defLeft-this._topBand.outerWidth();0>F&&this._topBand.css({left:this._defLeft-(this._topBand.outerWidth()-this._defWidth)})},_createLoaderBar:function(){this._loaderBar=D("<div>").attr("data-html2canvas-ignore",!0).appendTo(this._outerDragEle),this._isIE9?this._loaderBar.addClass("ui-zsg-loading"):(D("<div>").addClass("ui-zsg-loader-css1").appendTo(this._loaderBar),D("<div>").addClass("ui-zsg-loader-css2").appendTo(this._loaderBar),D("<div>").addClass("ui-zsg-loader-css3").appendTo(this._loaderBar),this._loaderBar.addClass("ui-zsg-loader"))},_fullScreenInvoker:function(){this._screenGrabberArea.trigger("mousedown"),this._screenGrabberArea.trigger("mouseup"),this._isInvokedByShortcut=!0},_partialScreenInvoker:function(){this._centralDiv.hide(),this._isInvokedByShortcut=!0,this._screenGrabberArea.addClass("ui-zsg-partialscreen-area")},_drawCurve:function(){var L=document.createElement("canvas");L.width=this._defWidth,L.height=this._defHeight,this._memCtx=L.getContext("2d");var I=(L.getContext("2d"),document.getElementById("ui-zsg-editor-canvas"));for(var H in this._drawArray){if("line"===this._drawArray[H].tool){this._ctx.beginPath(),this._ctx.lineCap="round",this._ctx.lineWidth=5,this._mouseMove||(this._fullscreenScale=this._isZoomedIn?"zoom-in"===this._drawArray[H].zoom?1:1.25:"zoom-in"===this._drawArray[H].zoom?0.8:1),this._ctx.scale(this._fullscreenScale,this._fullscreenScale),this._ctx.moveTo(this._drawArray[H].offset[0].Xaxis,this._drawArray[H].offset[0].Yaxis);for(var K in this._drawArray[H].offset){var J=parseInt(K)+parseInt(1);if(J<this._drawArray[H].offset.length){this._ctx.clearRect(0,0,this._defWidth,this._defHeight);var G=(this._drawArray[H].offset[K].Xaxis+this._drawArray[H].offset[J].Xaxis)/2,F=(this._drawArray[H].offset[K].Yaxis+this._drawArray[H].offset[J].Yaxis)/2;this._ctx.quadraticCurveTo(this._drawArray[H].offset[K].Xaxis,this._drawArray[H].offset[K].Yaxis,G,F),this._ctx.stroke(),this._ctx.strokeStyle="red"}}this._memCtx.drawImage(I,0,0)}this._mouseMove||this._ctx.scale(1/this._fullscreenScale,1/this._fullscreenScale)}this._ctx.drawImage(L,0,0)},_undoRedo:function(){var M=document.createElement("canvas");M.width=this._defWidth,M.height=this._defHeight,this._memCtx=M.getContext("2d");var J=document.getElementById("ui-zsg-editor-canvas");if(this._baseArray.length-this._undoCount===0){this._ctx.clearRect(0,0,this._defWidth,this._defHeight)}else{for(var G=0;G<this._baseArray.length-this._undoCount;G++){var I="draw"+this._baseArray[G];if(this._ctx.clearRect(0,0,this._defWidth,this._defHeight),"line"===this._drawArray[I].tool){this._ctx.beginPath(),this._ctx.lineCap="round",this._ctx.lineWidth=5,this._mouseMove||(this._fullscreenScaleRedo=this._isZoomedIn?"zoom-in"===this._drawArray[I].zoom?1:1.25:"zoom-in"===this._drawArray[I].zoom?0.8:1,this._ctx.scale(this._fullscreenScaleRedo,this._fullscreenScaleRedo)),this._ctx.moveTo(this._drawArray[I].offset[0].Xaxis,this._drawArray[I].offset[0].Yaxis);for(var L in this._drawArray[I].offset){var K=parseInt(L)+1;if(K<this._drawArray[I].offset.length){this._ctx.clearRect(0,0,this._defWidth,this._defHeight);var H=(this._drawArray[I].offset[L].Xaxis+this._drawArray[I].offset[K].Xaxis)/2,F=(this._drawArray[I].offset[L].Yaxis+this._drawArray[I].offset[K].Yaxis)/2;this._ctx.quadraticCurveTo(this._drawArray[I].offset[L].Xaxis,this._drawArray[I].offset[L].Yaxis,H,F),this._ctx.stroke(),this._ctx.strokeStyle="red"}}this._memCtx.drawImage(J,0,0)}this._mouseMove||this._ctx.scale(1/this._fullscreenScaleRedo,G/this._fullscreenScaleRedo)}}this._ctx.drawImage(M,0,0)},_zoomImage:function(){var G,J,M,K,L=0,I=D("#ui-zsg-editor-canvas"),H=(parseInt(this._outerDragEle.css("width")),D("#ui-zfc-zoomin")),N=H.find("span");this._isZoomedIn?(G=0.8*this._windowWidth,J=0.1*this._windowWidth,L=40,this._isZoomedIn=!1,K=0.8,M=this._minimizedHeight,N.attr("class","zfc-icon ui-zfc-zoomin"),H.attr("title",this._getString("actualsize.label")),D("#ui-zsg-grabbed-img").css({top:-(0.8*this._scrollTopVal.topval)})):(G=this._windowWidth,M=this._windowHeight+this._topBandHeight,J=0,K=1.25,this._isZoomedIn=!0,N.attr("class","zfc-icon ui-zfc-zoomout"),H.attr("title",this._getString("smallsize.label")),D("#ui-zsg-grabbed-img").css({top:-(1*this._scrollTopVal.topval)})),this._defTop=L+this._topBandHeight,this._defLeft=J,this._outerDragEle.css({top:L,left:J,width:G,height:M});var F=void 0;this._outerDragEle.find(".ui-zsg-inner-rect").each(function(O,P){F=D(P),F.css({top:K*parseInt(F.css("top")),left:K*parseInt(F.css("left")),width:K*parseInt(F.css("width")),height:K*parseInt(F.css("height"))})}),I.attr({width:G,height:M}),this._defWidth=G,this._defHeight=M,this._drawCurve(!0)},_getString:function(G,F,H){return FCUtil.getI18NString("zscreengrabber",G,H,this.options.keys)},_focusScreengrabberEle:function(){this._screenGrabberArea.attr("tabindex",1),this._screenGrabberArea.focus()},_scriptPath:function(){var G=document.getElementsByTagName("SCRIPT"),I="";if(G&&G.length>0){for(var H in G){if(G[H].src&&G[H].src.match(/\/ui.zscreengrabber\.js$/)){I=G[H].src.replace(/(.*)\/ui.zscreengrabber\.js$/,"$1");break}}}var F=I.lastIndexOf("/");return I.substr(0,F)},_triggerEvent:function(G,F){var H=F;if(void 0===F){var H=D.extend(H,F)}D("body").trigger(this.widgetEventPrefix+G,H)},_isMacOS:function(){var F=navigator.userAgent.toLowerCase();return -1!=F.indexOf("mac")},_bindKeyboardEvents:function(){var G=this,I=!1,F=89,H=90;G._undoCount=0;G._screenGrabberArea.off("keydown.screengrabber keyup.screengrabber").on("keydown.screengrabber",function(J){if(!G._isMacOS()&&J.ctrlKey&&(I=!0),J.metaKey&&J.keyCode===H&&!J.shiftKey&&!J.ctrlKey||I&&J.keyCode===H){if(J.preventDefault(),J.stopPropagation(),G._undoFlag=!0,G._undoCount=G._undoCount+1,G._baseArray.length-G._undoCount<0){return void (G._undoCount=G._baseArray.length)}var K=G._baseArray[G._baseArray.length-G._undoCount];"rectangle"===G._drawArray["draw"+K].tool?D("#"+K).hide():G._undoRedo()}if((J.metaKey&&J.keyCode===H&&J.shiftKey&&!J.ctrlKey||I&&J.keyCode===F)&&(J.preventDefault(),J.stopPropagation(),G._undoCount>0)){G._undoCount=G._undoCount-1;var K=G._baseArray[G._baseArray.length-1-G._undoCount];if(G._baseArray.length-1-G._undoCount<0){return }"rectangle"===G._drawArray["draw"+K].tool?D("#"+K).show():G._undoRedo()}return J.metaKey&&57===J.keyCode||J.metaKey&&189===J.keyCode||I&&189===J.keyCode?G._isZoomedIn&&!G._mouseMove&&G._zoomImage():(J.metaKey&&48===J.keyCode||J.metaKey&&187===J.keyCode||I&&48===J.keyCode||I&&187===J.keyCode)&&(G._isZoomedIn||G._mouseMove||G._zoomImage()),27===J.which?(J.stopPropagation(),G._close(!0),J.preventDefault(),!1):void (13===J.which&&G._canvasEleCreated&&!G._captureInProgress&&G._doneBtn.trigger("click.screengrabber"))}).on("keyup.screengrabber",function(J){J.ctrlKey&&(I=!1)})},_bindShortcutEvents:function(){var J,L;E._isMacOS()?(J=["Command","Option","Shift","3"],L=["Command","Option","Shift","4"]):(J=["Ctrl","Alt","PrtSc"],L=["Ctrl","Shift","PrtSc"]);var K=!1,I=!1,H=!1,G=!1,F=!1;D(window).off("keydown.screengrabbershortcuts").on("keydown.screengrabbershortcuts",function(M){E._isMacOS()?(M.metaKey&&(G=!0),16===M.keyCode&&(F=!0),M.shiftKey&&(H=!0),G&&F&&H&&51===M.keyCode?B||E._open(M):G&&F&&H&&52===M.keyCode&&(B||E._open(M,!0))):(M.ctrlKey&&(K=!0),M.altKey&&(I=!0),M.shiftKey&&(H=!0))}).on("keyup.screengrabbershortcuts",function(M){E._isMacOS()?(M.metaKey&&(G=!1),16===M.keyCode&&(F=!1),M.shiftKey&&(H=!1)):(K&&H&&44===M.keyCode?B||E._open(M,!0):K&&I&&44===M.keyCode&&(B||E._open(M)),M.ctrlKey&&(K=!1),M.altKey&&(I=!1),M.shiftKey&&(H=!1))})},_open:function(F,G){F.stopPropagation(),F.preventDefault(),E._create(),G?E._partialScreenInvoker():E._fullScreenInvoker(),D(window).off("keydown.screengrabbershortcuts")}};return{open:function(F){B||E._create(F)},close:function(){E._close()},init:function(F){A=D.extend({},A,F),E._bindShortcutEvents()}}}(window.jQuery);!function(H,J,E){function D(M,O,P){var Q,L=M.runtimeStyle&&M.runtimeStyle[O],N=M.style;return !/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(P)&&/^-?\d/.test(P)&&(Q=N.left,L&&(M.runtimeStyle.left=M.currentStyle.left),N.left="fontSize"===O?"1em":P||0,P=N.pixelLeft+"px",N.left=Q,L&&(M.runtimeStyle.left=L)),/^(thin|medium|thick)$/i.test(P)?P:Math.round(parseFloat(P))+"px"}function C(L){return parseInt(L,10)}function K(O,M,N,L){if(O=(O||"").split(","),O=O[L||0]||O[0]||"auto",O=I.Util.trimText(O).split(" "),"backgroundSize"===N&&O[0]&&O[0].match(/^(cover|contain|auto)$/)){return O}if(O[0]=-1===O[0].indexOf("%")?D(M,N+"X",O[0]):O[0],O[1]===E){if("backgroundSize"===N){return O[1]="auto",O}O[1]=O[0]}return O[1]=-1===O[1].indexOf("%")?D(M,N+"Y",O[1]):O[1],O}function G(M,L){var N=[];return{storage:N,width:M,height:L,clip:function(){N.push({type:"function",name:"clip",arguments:arguments})},translate:function(){N.push({type:"function",name:"translate",arguments:arguments})},fill:function(){N.push({type:"function",name:"fill",arguments:arguments})},save:function(){N.push({type:"function",name:"save",arguments:arguments})},restore:function(){N.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){N.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){N.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var O=[];return N.push({type:"function",name:"drawShape",arguments:O}),{moveTo:function(){O.push({name:"moveTo",arguments:arguments})},lineTo:function(){O.push({name:"lineTo",arguments:arguments})},arcTo:function(){O.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){O.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){O.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){N.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){N.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(O,P){return N.push({type:"variable",name:O,arguments:P}),P}}}function A(L){return{zindex:L,children:[]}}var F,B,I={};I.Util={},I.Util.log=function(L){I.logging&&H.console&&H.console.log&&H.console.log(L)},I.Util.trimText=function(L){return function(M){return L?L.apply(M):((M||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),I.Util.asFloat=function(L){return parseFloat(L)},function(){var M=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,L=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;I.Util.parseTextShadows=function(R){if(!R||"none"===R){return[]}for(var Q=R.match(M),O=[],N=0;Q&&N<Q.length;N++){var P=Q[N].match(L);O.push({color:P[0],offsetX:P[1]?P[1].replace("px",""):0,offsetY:P[2]?P[2].replace("px",""):0,blur:P[3]?P[3].replace("px",""):0})}return O}}(),I.Util.parseBackgroundImage=function(W){var L,O,T,a,P,V,M,U,N=" \r\n	",R=[],S=0,X=0,Z=function(){L&&('"'===O.substr(0,1)&&(O=O.substr(1,O.length-2)),O&&U.push(O),"-"===L.substr(0,1)&&(a=L.indexOf("-",1)+1)>0&&(T=L.substr(0,a),L=L.substr(a)),R.push({prefix:T,method:L.toLowerCase(),value:P,args:U})),U=[],L=T=O=P=""};Z();for(var Q=0,Y=W.length;Y>Q;Q++){if(V=W[Q],!(0===S&&N.indexOf(V)>-1)){switch(V){case'"':M?M===V&&(M=null):M=V;break;case"(":if(M){break}if(0===S){S=1,P+=V;continue}X++;break;case")":if(M){break}if(1===S){if(0===X){S=0,P+=V,Z();continue}X--}break;case",":if(M){break}if(0===S){Z();continue}if(1===S&&0===X&&!L.match(/^url$/i)){U.push(O),O="",P+=V;continue}}P+=V,0===S?L+=V:O+=V}}return Z(),R},I.Util.Bounds=function(L){var N,M={};return L.getBoundingClientRect&&(N=L.getBoundingClientRect(),M.top=N.top,M.bottom=N.bottom||N.top+N.height,M.left=N.left,M.width=L.offsetWidth,M.height=L.offsetHeight,I.Util.isFixedEle&&(M.top+=H.zCurrentScrollTop,M.left+=H.zCurrentScrollLeft)),M},I.Util.OffsetBounds=function(L){var M=L.offsetParent?I.Util.OffsetBounds(L.offsetParent):{top:0,left:0};return{top:L.offsetTop+M.top,bottom:L.offsetTop+L.offsetHeight+M.top,left:L.offsetLeft+M.left,width:L.offsetWidth,height:L.offsetHeight}},I.Util.getCSS=function(N,O,M){F!==N&&(B=J.defaultView.getComputedStyle(N,null));var P=B[O];if(/^background(Size|Position)$/.test(O)){return K(P,N,O,M)}if(/border(Top|Bottom)(Left|Right)Radius/.test(O)){var L=P.split(" ");return L.length<=1&&(L[1]=L[0]),L.map(C)}return P},I.Util.resizeBounds=function(Q,L,R,S,T){var M,P,O=R/S,N=Q/L;return T&&"auto"!==T?N>O^"contain"===T?(P=S,M=S*N):(M=R,P=R/N):(M=R,P=S),{width:M,height:P}},I.Util.BackgroundPosition=function(P,R,S,L,M){var Q,O,N=I.Util.getCSS(P,"backgroundPosition",L);return 1===N.length&&(N=[N[0],N[0]]),Q=-1!==N[0].toString().indexOf("%")?(R.width-(M||S).width)*(parseFloat(N[0])/100):parseInt(N[0],10),O="auto"===N[1]?Q/S.width*S.height:-1!==N[1].toString().indexOf("%")?(R.height-(M||S).height)*parseFloat(N[1])/100:isNaN(parseInt(N[1],10))?O:parseInt(N[1],10),"auto"===N[0]&&(Q=O/S.height*S.width),{left:Q,top:O}},I.Util.BackgroundSize=function(P,R,S,M){var Q,L,O=I.Util.getCSS(P,"backgroundSize",M);if(1===O.length&&(O=[O[0],O[0]]),-1!==O[0].toString().indexOf("%")){Q=R.width*parseFloat(O[0])/100}else{if("auto"===O[0]){Q=S.width}else{if(/contain|cover/.test(O[0])){var N=I.Util.resizeBounds(S.width,S.height,R.width,R.height,O[0]);return{width:N.width,height:N.height}}Q=parseInt(O[0],10)}}return L="auto"===O[1]?Q/S.width*S.height:-1!==O[1].toString().indexOf("%")?R.height*parseFloat(O[1])/100:parseInt(O[1],10),"auto"===O[0]&&(Q=L/S.height*S.width),{width:Q,height:L}},I.Util.Extend=function(L,N){for(var M in L){L.hasOwnProperty(M)&&(N[M]=L[M])}return N},I.Util.Children=function(N){var M;try{M=N.nodeName&&"IFRAME"===N.nodeName.toUpperCase()?N.contentDocument||N.contentWindow.document:function(P){var O=[];return null!==P&&!function(U,S){var T=U.length,R=0;if("number"==typeof S.length){for(var Q=S.length;Q>R;R++){U[T++]=S[R]}}else{for(;S[R]!==E;){U[T++]=S[R++]}}return U.length=T,U}(O,P),O}(N.childNodes)}catch(L){I.Util.log("html2canvas.Util.Children failed with exception: "+L.message),M=[]}return M},I.Util.isTransparent=function(L){return !L||"transparent"===L||"rgba(0, 0, 0, 0)"===L},I.Util.Font=function(){var L={};return function(O,U,T){if(L[O+"-"+U]!==E){return L[O+"-"+U]}var R,V,Q,M=T.createElement("div"),P=T.createElement("img"),S=T.createElement("span"),N="Hidden Text";return M.style.visibility="hidden",M.style.fontFamily=O,M.style.fontSize=U,M.style.margin=0,M.style.padding=0,T.body.appendChild(M),P.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",P.width=1,P.height=1,P.style.margin=0,P.style.padding=0,P.style.verticalAlign="baseline",S.style.fontFamily=O,S.style.fontSize=U,S.style.margin=0,S.style.padding=0,S.appendChild(T.createTextNode(N)),M.appendChild(S),M.appendChild(P),R=P.offsetTop-S.offsetTop+1,M.removeChild(S),M.appendChild(T.createTextNode(N)),M.style.lineHeight="normal",P.style.verticalAlign="super",V=P.offsetTop-M.offsetTop+1,Q={baseline:R,lineWidth:1,middle:V},L[O+"-"+U]=Q,T.body.removeChild(M),Q}}(),function(){function M(P){return function(Q){try{P.addColorStop(Q.stop,Q.color)}catch(R){N.log(["failed to add color stop: ",R,"; tried to add: ",Q])}}}var N=I.Util,L={};I.Generate=L;var O=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];L.parseGradient=function(U,P){var Y,T,d,X,a,Q,S,Z,c,W,b,R,V=O.length;for(T=0;V>T&&!(d=U.match(O[T]));T+=1){}if(d){switch(d[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(Y={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},a=d[2].match(/\w+/g)){for(Q=a.length,T=0;Q>T;T+=1){switch(a[T]){case"top":Y.y0=0,Y.y1=P.height;break;case"right":Y.x0=P.width,Y.x1=0;break;case"bottom":Y.y0=P.height,Y.y1=0;break;case"left":Y.x0=0,Y.x1=P.width}}}if(null===Y.x0&&null===Y.x1&&(Y.x0=Y.x1=P.width/2),null===Y.y0&&null===Y.y1&&(Y.y0=Y.y1=P.height/2),a=d[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g)){for(Q=a.length,S=1/Math.max(Q-1,1),T=0;Q>T;T+=1){Z=a[T].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),Z[2]?(X=parseFloat(Z[2]),X/="%"===Z[3]?100:P.width):X=T*S,Y.colorStops.push({color:Z[1],stop:X})}}break;case"-webkit-gradient":if(Y={type:"radial"===d[2]?"circle":d[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},a=d[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),a&&(Y.x0=a[1]*P.width/100,Y.y0=a[2]*P.height/100,Y.x1=a[3]*P.width/100,Y.y1=a[4]*P.height/100),a=d[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g)){for(Q=a.length,T=0;Q>T;T+=1){Z=a[T].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),X=parseFloat(Z[2]),"from"===Z[1]&&(X=0),"to"===Z[1]&&(X=1),Y.colorStops.push({color:Z[3],stop:X})}}break;case"-moz-linear-gradient":if(Y={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},a=d[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),a&&(Y.x0=a[1]*P.width/100,Y.y0=a[2]*P.height/100,Y.x1=P.width-Y.x0,Y.y1=P.height-Y.y0),a=d[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g)){for(Q=a.length,S=1/Math.max(Q-1,1),T=0;Q>T;T+=1){Z=a[T].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),Z[2]?(X=parseFloat(Z[2]),Z[3]&&(X/=100)):X=T*S,Y.colorStops.push({color:Z[1],stop:X})}}break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(Y={type:"circle",x0:0,y0:0,x1:P.width,y1:P.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},a=d[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),a&&(Y.cx=a[1]*P.width/100,Y.cy=a[2]*P.height/100),a=d[3].match(/\w+/),Z=d[4].match(/[a-z\-]*/),a&&Z){switch(Z[0]){case"farthest-corner":case"cover":case"":c=Math.sqrt(Math.pow(Y.cx,2)+Math.pow(Y.cy,2)),W=Math.sqrt(Math.pow(Y.cx,2)+Math.pow(Y.y1-Y.cy,2)),b=Math.sqrt(Math.pow(Y.x1-Y.cx,2)+Math.pow(Y.y1-Y.cy,2)),R=Math.sqrt(Math.pow(Y.x1-Y.cx,2)+Math.pow(Y.cy,2)),Y.rx=Y.ry=Math.max(c,W,b,R);break;case"closest-corner":c=Math.sqrt(Math.pow(Y.cx,2)+Math.pow(Y.cy,2)),W=Math.sqrt(Math.pow(Y.cx,2)+Math.pow(Y.y1-Y.cy,2)),b=Math.sqrt(Math.pow(Y.x1-Y.cx,2)+Math.pow(Y.y1-Y.cy,2)),R=Math.sqrt(Math.pow(Y.x1-Y.cx,2)+Math.pow(Y.cy,2)),Y.rx=Y.ry=Math.min(c,W,b,R);break;case"farthest-side":"circle"===a[0]?Y.rx=Y.ry=Math.max(Y.cx,Y.cy,Y.x1-Y.cx,Y.y1-Y.cy):(Y.type=a[0],Y.rx=Math.max(Y.cx,Y.x1-Y.cx),Y.ry=Math.max(Y.cy,Y.y1-Y.cy));break;case"closest-side":case"contain":"circle"===a[0]?Y.rx=Y.ry=Math.min(Y.cx,Y.cy,Y.x1-Y.cx,Y.y1-Y.cy):(Y.type=a[0],Y.rx=Math.min(Y.cx,Y.x1-Y.cx),Y.ry=Math.min(Y.cy,Y.y1-Y.cy))}}if(a=d[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g)){for(Q=a.length,S=1/Math.max(Q-1,1),T=0;Q>T;T+=1){Z=a[T].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),Z[2]?(X=parseFloat(Z[2]),X/="%"===Z[3]?100:P.width):X=T*S,Y.colorStops.push({color:Z[1],stop:X})}}}}return Y},L.Gradient=function(P,Q){if(0!==Q.width&&0!==Q.height){var W,X,S=J.createElement("canvas"),Y=S.getContext("2d");if(S.width=Q.width,S.height=Q.height,W=I.Generate.parseGradient(P,Q)){switch(W.type){case"linear":X=Y.createLinearGradient(W.x0,W.y0,W.x1,W.y1),W.colorStops.forEach(M(X)),Y.fillStyle=X,Y.fillRect(0,0,Q.width,Q.height);break;case"circle":X=Y.createRadialGradient(W.cx,W.cy,0,W.cx,W.cy,W.rx),W.colorStops.forEach(M(X)),Y.fillStyle=X,Y.fillRect(0,0,Q.width,Q.height);break;case"ellipse":var T=J.createElement("canvas"),R=T.getContext("2d"),V=Math.max(W.rx,W.ry),U=2*V;T.width=T.height=U,X=R.createRadialGradient(W.rx,W.ry,0,W.rx,W.ry,V),W.colorStops.forEach(M(X)),R.fillStyle=X,R.fillRect(0,0,U,U),Y.fillStyle=W.colorStops[W.colorStops.length-1].color,Y.fillRect(0,0,S.width,S.height),Y.drawImage(T,W.cx-W.rx,W.cy-W.ry,2*W.rx,2*W.ry)}}return S}},L.ListAlpha=function(R){var P,Q="";do{P=R%26,Q=String.fromCharCode(P+64)+Q,R/=26}while(26*R>26);return Q},L.ListRoman=function(T){var R,S=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],Q=[1000,900,500,400,100,90,50,40,10,9,5,4,1],U="",P=S.length;if(0>=T||T>=4000){return T}for(R=0;P>R;R+=1){for(;T>=Q[R];){T-=Q[R],U+=S[R]}}return U}}(),I.Parse=function(U,z){function AM(){return Math.max(Math.max(X.body.scrollWidth,X.documentElement.scrollWidth),Math.max(X.body.offsetWidth,X.documentElement.offsetWidth),Math.max(X.body.clientWidth,X.documentElement.clientWidth))}function i(){return Math.max(Math.max(X.body.scrollHeight,X.documentElement.scrollHeight),Math.max(X.body.offsetHeight,X.documentElement.offsetHeight),Math.max(X.body.clientHeight,X.documentElement.clientHeight))}function w(Ab,Ac){var Ad=parseInt(u(Ab,Ac),10);return isNaN(Ad)?0:Ad}function AX(Ae,Ab,Ag,Ad,Af,Ac){"transparent"!==Ac&&(Ae.setVariable("fillStyle",Ac),Ae.fillRect(Ab,Ag,Ad,Af),R+=1)}function AC(Ab,Ad,Ac){return Ab.length>0?Ad+Ac.toUpperCase():void 0}function W(Ac,Ab){switch(Ab){case"lowercase":return Ac.toLowerCase();case"capitalize":return Ac.replace(/(^|\s|:|-|\(|\))([a-z])/g,AC);case"uppercase":return Ac.toUpperCase();default:return Ac}}function AH(Ab){return/^(normal|none|0px)$/.test(Ab)}function L(Ad,Ab,Ae,Ac){null!==Ad&&N.trimText(Ad).length>0&&(Ac.fillText(Ad,Ab,Ae),R+=1)}function q(Ai,Ac,Ab,Ad){var Ag=!1,Ah=u(Ac,"fontWeight"),Af=u(Ac,"fontFamily"),Aj=u(Ac,"fontSize"),Ae=N.parseTextShadows(u(Ac,"textShadow"));switch(parseInt(Ah,10)){case 401:Ah="bold";break;case 400:Ah="normal"}return Ai.setVariable("fillStyle",Ad),Ai.setVariable("font",[u(Ac,"fontStyle"),u(Ac,"fontVariant"),Ah,Aj,Af].join(" ")),Ai.setVariable("textAlign",Ag?"right":"left"),Ae.length&&(Ai.setVariable("shadowColor",Ae[0].color),Ai.setVariable("shadowOffsetX",Ae[0].offsetX),Ai.setVariable("shadowOffsetY",Ae[0].offsetY),Ai.setVariable("shadowBlur",Ae[0].blur)),"none"!==Ab?N.Font(Af,Aj,X):void 0}function l(Ab,Af,Ae,Ad,Ac){switch(Af){case"underline":AX(Ab,Ae.left,Math.round(Ae.top+Ad.baseline+Ad.lineWidth),Ae.width,1,Ac);break;case"overline":AX(Ab,Ae.left,Math.round(Ae.top),Ae.width,1,Ac);break;case"line-through":AX(Ab,Ae.left,Math.ceil(Ae.top+Ad.middle+Ad.lineWidth),Ae.width,1,Ac)}}function AD(Af,Ah,Ag,Ae,Ab){var Ad;if(AO.rangeBounds&&!Ab){("none"!==Ag||0!==N.trimText(Ah).length)&&(Ad=AB(Ah,Af.node,Af.textOffset)),Af.textOffset+=Ah.length}else{if(Af.node&&"string"==typeof Af.node.nodeValue){var Ac=Ae?Af.node.splitText(Ah.length):null;Ad=AG(Af.node,Ab),Af.node=Ac}}return Ad}function AB(Ae,Ad,Ac){var Ab=X.createRange();return Ab.setStart(Ad,Ac),Ab.setEnd(Ad,Ac+Ae.length),Ab.getBoundingClientRect()}function AG(Ac,Ab){var Ad=Ac.parentNode,Ag=X.createElement("wrapper"),Af=Ac.cloneNode(!0);Ag.appendChild(Ac.cloneNode(!0)),Ad.replaceChild(Ag,Ac);var Ae=Ab?N.OffsetBounds(Ag):N.Bounds(Ag);return Ad.replaceChild(Af,Ag),Ae}function AV(Ad,Ae,Ai){var Ah,Ag,Aj=Ai.ctx,Af=u(Ad,"color"),Ak=u(Ad,"textDecoration"),Ac=u(Ad,"textAlign"),Ab={node:Ae,textOffset:0};N.trimText(Ae.nodeValue).length>0&&(Ae.nodeValue=W(Ae.nodeValue,u(Ad,"textTransform")),Ac=Ac.replace(["-webkit-auto"],["auto"]),Ag=Ae.nodeValue.split(!z.letterRendering&&/^(left|right|justify|auto)$/.test(Ac)&&AH(u(Ad,"letterSpacing"))?/(\b| )/:""),Ah=q(Aj,Ad,Ak,Af),z.chinese&&Ag.forEach(function(Am,Al){/.*[\u4E00-\u9FA5].*$/.test(Am)&&(Am=Am.split(""),Am.unshift(Al,1),Ag.splice.apply(Ag,Am))}),Ag.forEach(function(Ao,Al){var Am=AD(Ab,Ao,Ak,Al<Ag.length-1,Ai.transform.matrix);if(Am){var An=Am.top+Am.height,Ap=Am.left;I.Util.isFixedEle&&(An+=H.zCurrentScrollTop,Ap+=H.zCurrentScrollLeft),L(Ao,Ap,An,Aj),l(Aj,Ak,Am,Ah,Af)}}))}function AF(Ab,Af){var Ac,Ad,Ae=X.createElement("boundelement");return Ae.style.display="inline",Ac=Ab.style.listStyleType,Ab.style.listStyleType="none",Ae.appendChild(X.createTextNode(Af)),Ab.insertBefore(Ae,Ab.firstChild),Ad=N.Bounds(Ae),Ab.removeChild(Ae),Ab.style.listStyleType=Ac,Ad}function r(Ac){var Ab=-1,Ad=1,Ae=Ac.parentNode.childNodes;if(Ac.parentNode){for(;Ae[++Ab]!==Ac;){1===Ae[Ab].nodeType&&Ad++}return Ad}return -1}function P(Ac,Ad){var Ae,Ab=r(Ac);switch(Ad){case"decimal":Ae=Ab;break;case"decimal-leading-zero":Ae=1===Ab.toString().length?Ab="0"+Ab.toString():Ab.toString();break;case"upper-roman":Ae=I.Generate.ListRoman(Ab);break;case"lower-roman":Ae=I.Generate.ListRoman(Ab).toLowerCase();break;case"lower-alpha":Ae=I.Generate.ListAlpha(Ab).toLowerCase();break;case"upper-alpha":Ae=I.Generate.ListAlpha(Ab)}return Ae+". "}function AL(Ae,Ac,Ah){var Ab,Ai,Ag,Ad=Ac.ctx,Af=u(Ae,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(Af)){if(Ai=P(Ae,Af),Ag=AF(Ae,Ai),q(Ad,Ae,"none",u(Ae,"color")),"inside"!==u(Ae,"listStylePosition")){return }Ad.setVariable("textAlign","left"),Ab=Ah.left,L(Ai,Ab,Ag.bottom,Ad)}}function t(Ac){var Ab=U[Ac];return Ab&&Ab.succeeded===!0?Ab.img:!1}function a(Ae,Ag){var Ab=Math.max(Ae.left,Ag.left),Af=Math.max(Ae.top,Ag.top),Ac=Math.min(Ae.left+Ae.width,Ag.left+Ag.width),Ad=Math.min(Ae.top+Ae.height,Ag.top+Ag.height);return{left:Ab,top:Af,width:Ac-Ab,height:Ad-Af}}function AN(Ag,Ae,Ad){var Ai,Ac="static"!==Ae.cssPosition,Ah=Ac?u(Ag,"zIndex"):0,Af=u(Ag,"opacity"),Ab="none"!==u(Ag,"cssFloat");Ae.zIndex=Ai=A(Ah),Ai.isPositioned=Ac,Ai.isFloated=Ab,Ai.opacity=Af,Ai.ownStacking="auto"!==Ah||1>Af,Ad&&Ad.zIndex.children.push(Ae)}function s(Aj,Ag,Af,Ab,Ah){var Ae=w(Ag,"paddingLeft"),Ai=w(Ag,"paddingTop"),Ad=w(Ag,"paddingRight"),Ac=w(Ag,"paddingBottom");O(Aj,Af,0,0,Af.width,Af.height,Ab.left+Ae+Ah[3].width,Ab.top+Ai+Ah[0].width,Ab.width-(Ah[1].width+Ah[3].width+Ae+Ad),Ab.height-(Ah[0].width+Ah[2].width+Ai+Ac))}function Y(Ab){return["Top","Right","Bottom","Left"].map(function(Ac){return{width:w(Ab,"border"+Ac+"Width"),color:u(Ab,"border"+Ac+"Color")}})}function M(Ab){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(Ac){return u(Ab,"border"+Ac+"Radius")})}function Aa(Af,Ae,Ad,Ab){var Ac=function(Ah,Ag,Ai){return{x:Ah.x+(Ag.x-Ah.x)*Ai,y:Ah.y+(Ag.y-Ah.y)*Ai}};return{start:Af,startControl:Ae,endControl:Ad,end:Ab,subdivide:function(Ai){var Ak=Ac(Af,Ae,Ai),Al=Ac(Ae,Ad,Ai),Am=Ac(Ad,Ab,Ai),Aj=Ac(Ak,Al,Ai),Ag=Ac(Al,Am,Ai),Ah=Ac(Aj,Ag,Ai);return[Aa(Af,Ak,Aj,Ah),Aa(Ah,Ag,Am,Ab)]},curveTo:function(Ag){Ag.push(["bezierCurve",Ae.x,Ae.y,Ad.x,Ad.y,Ab.x,Ab.y])},curveToReversed:function(Ag){Ag.push(["bezierCurve",Ad.x,Ad.y,Ae.x,Ae.y,Af.x,Af.y])}}}function AZ(Af,Ag,Ae,Ad,Ac,Ab,Ah){Ag[0]>0||Ag[1]>0?(Af.push(["line",Ad[0].start.x,Ad[0].start.y]),Ad[0].curveTo(Af),Ad[1].curveTo(Af)):Af.push(["line",Ab,Ah]),(Ae[0]>0||Ae[1]>0)&&Af.push(["line",Ac[0].start.x,Ac[0].start.y])}function AS(Ah,Af,Ae,Ai,Ac,Ag,Ab){var Ad=[];return Af[0]>0||Af[1]>0?(Ad.push(["line",Ai[1].start.x,Ai[1].start.y]),Ai[1].curveTo(Ad)):Ad.push(["line",Ah.c1[0],Ah.c1[1]]),Ae[0]>0||Ae[1]>0?(Ad.push(["line",Ag[0].start.x,Ag[0].start.y]),Ag[0].curveTo(Ad),Ad.push(["line",Ab[0].end.x,Ab[0].end.y]),Ab[0].curveToReversed(Ad)):(Ad.push(["line",Ah.c2[0],Ah.c2[1]]),Ad.push(["line",Ah.c3[0],Ah.c3[1]])),Af[0]>0||Af[1]>0?(Ad.push(["line",Ac[1].end.x,Ac[1].end.y]),Ac[1].curveToReversed(Ad)):Ad.push(["line",Ah.c4[0],Ah.c4[1]]),Ad}function T(Ae,Ab,Ad){var Ai=Ae.left,Af=Ae.top,Ao=Ae.width,Am=Ae.height,Ap=Ab[0][0],Ah=Ab[0][1],As=Ab[1][0],Ak=Ab[1][1],At=Ab[2][0],Al=Ab[2][1],Ar=Ab[3][0],Aj=Ab[3][1],An=Math.floor(Am/2);Ap=Ap>An?An:Ap,Ah=Ah>An?An:Ah,As=As>An?An:As,Ak=Ak>An?An:Ak,At=At>An?An:At,Al=Al>An?An:Al,Ar=Ar>An?An:Ar,Aj=Aj>An?An:Aj;var Ag=Ao-As,Au=Am-Al,Ac=Ao-At,Aq=Am-Aj;return{topLeftOuter:c(Ai,Af,Ap,Ah).topLeft.subdivide(0.5),topLeftInner:c(Ai+Ad[3].width,Af+Ad[0].width,Math.max(0,Ap-Ad[3].width),Math.max(0,Ah-Ad[0].width)).topLeft.subdivide(0.5),topRightOuter:c(Ai+Ag,Af,As,Ak).topRight.subdivide(0.5),topRightInner:c(Ai+Math.min(Ag,Ao+Ad[3].width),Af+Ad[0].width,Ag>Ao+Ad[3].width?0:As-Ad[3].width,Ak-Ad[0].width).topRight.subdivide(0.5),bottomRightOuter:c(Ai+Ac,Af+Au,At,Al).bottomRight.subdivide(0.5),bottomRightInner:c(Ai+Math.min(Ac,Ao+Ad[3].width),Af+Math.min(Au,Am+Ad[0].width),Math.max(0,At-Ad[1].width),Math.max(0,Al-Ad[2].width)).bottomRight.subdivide(0.5),bottomLeftOuter:c(Ai,Af+Aq,Ar,Aj).bottomLeft.subdivide(0.5),bottomLeftInner:c(Ai+Ad[3].width,Af+Aq,Math.max(0,Ar-Ad[3].width),Math.max(0,Aj-Ad[2].width)).bottomLeft.subdivide(0.5)}}function AW(Ae,Ag,Ah,Ab,Af){var Ad=u(Ae,"backgroundClip"),Ac=[];switch(Ad){case"content-box":case"padding-box":AZ(Ac,Ab[0],Ab[1],Ag.topLeftInner,Ag.topRightInner,Af.left+Ah[3].width,Af.top+Ah[0].width),AZ(Ac,Ab[1],Ab[2],Ag.topRightInner,Ag.bottomRightInner,Af.left+Af.width-Ah[1].width,Af.top+Ah[0].width),AZ(Ac,Ab[2],Ab[3],Ag.bottomRightInner,Ag.bottomLeftInner,Af.left+Af.width-Ah[1].width,Af.top+Af.height-Ah[2].width),AZ(Ac,Ab[3],Ab[0],Ag.bottomLeftInner,Ag.topLeftInner,Af.left+Ah[3].width,Af.top+Af.height-Ah[2].width);break;default:AZ(Ac,Ab[0],Ab[1],Ag.topLeftOuter,Ag.topRightOuter,Af.left,Af.top),AZ(Ac,Ab[1],Ab[2],Ag.topRightOuter,Ag.bottomRightOuter,Af.left+Af.width,Af.top),AZ(Ac,Ab[2],Ab[3],Ag.bottomRightOuter,Ag.bottomLeftOuter,Af.left+Af.width,Af.top+Af.height),AZ(Ac,Ab[3],Ab[0],Ag.bottomLeftOuter,Ag.topLeftOuter,Af.left,Af.top+Af.height)}return Ac}function AA(Ah,Ac,Aj){var Ad,Al,Ak,An,Ag,Ab,Ao=Ac.left,Am=Ac.top,Ae=Ac.width,Aq=Ac.height,Af=M(Ah),Ai=T(Ac,Af,Aj),Ap={clip:AW(Ah,Ai,Aj,Af,Ac),borders:[]};for(Ad=0;4>Ad;Ad++){if(Aj[Ad].width>0){switch(Al=Ao,Ak=Am,An=Ae,Ag=Aq-Aj[2].width,Ad){case 0:Ag=Aj[0].width,Ab=AS({c1:[Al,Ak],c2:[Al+An,Ak],c3:[Al+An-Aj[1].width,Ak+Ag],c4:[Al+Aj[3].width,Ak+Ag]},Af[0],Af[1],Ai.topLeftOuter,Ai.topLeftInner,Ai.topRightOuter,Ai.topRightInner);break;case 1:Al=Ao+Ae-Aj[1].width,An=Aj[1].width,Ab=AS({c1:[Al+An,Ak],c2:[Al+An,Ak+Ag+Aj[2].width],c3:[Al,Ak+Ag],c4:[Al,Ak+Aj[0].width]},Af[1],Af[2],Ai.topRightOuter,Ai.topRightInner,Ai.bottomRightOuter,Ai.bottomRightInner);break;case 2:Ak=Ak+Aq-Aj[2].width,Ag=Aj[2].width,Ab=AS({c1:[Al+An,Ak+Ag],c2:[Al,Ak+Ag],c3:[Al+Aj[3].width,Ak],c4:[Al+An-Aj[3].width,Ak]},Af[2],Af[3],Ai.bottomRightOuter,Ai.bottomRightInner,Ai.bottomLeftOuter,Ai.bottomLeftInner);break;case 3:An=Aj[3].width,Ab=AS({c1:[Al,Ak+Ag+Aj[2].width],c2:[Al,Ak],c3:[Al+An,Ak+Aj[0].width],c4:[Al+An,Ak+Ag]},Af[3],Af[0],Ai.bottomLeftOuter,Ai.bottomLeftInner,Ai.topLeftOuter,Ai.topLeftInner)}Ap.borders.push({args:Ab,color:Aj[Ad].color})}}return Ap}function Q(Ab,Ad){var Ac=Ab.drawShape();return Ad.forEach(function(Af,Ae){Ac[0===Ae?"moveTo":Af[0]+"To"].apply(null,Af.slice(1))}),Ac}function h(Ab,Ad,Ac){"transparent"!==Ac&&(Ab.setVariable("fillStyle",Ac),Q(Ab,Ad),Ab.fill(),R+=1)}function AQ(Af,Ag,Ad){var Ac,Ah,Ai=X.createElement("valuewrap"),Ae=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];if(Ae.forEach(function(Aj){try{Ai.style[Aj]=u(Af,Aj)}catch(Ak){N.log("html2canvas: Parse: Exception caught in renderFormValue: "+Ak.message)}}),Ai.style.borderColor="black",Ai.style.borderStyle="solid",Ai.style.display="block",Ai.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(Af.type)||"SELECT"===Af.nodeName)&&(Ai.style.lineHeight=u(Af,"height")),Ai.style.top=Ag.top+"px",Ai.style.left=Ag.left+"px",Ac=Af.value,"SELECT"===Af.nodeName&&(Ac=" ",Af.hasAttribute("multiple")||(Ac="SELECT"===Af.nodeName?(Af.options[Af.selectedIndex]||Af.options[0]).text:Af.value)),"OPTION"===Af.nodeName){var Ab=Af.parentNode;Ac="SELECT"===Ab.nodeName?(Ab.options[Ab.selectedIndex]||Ab.options[0]).text:Ab.value,Af.parentNode.hasAttribute("multiple")&&(Ac=Af.text)}("checkbox"===Af.type||"radio"===Af.type)&&(Ai.style.fontSize="10px",Ai.style.lineHeight="10px",AX(Ad.ctx,Ag.left-2,Ag.top-1,13,13,"#888888"),AX(Ad.ctx,Ag.left-1,Ag.top,11,11,"#dddddd"),"checkbox"===Af.type?Ac=Af.checked?"✔":" ":"radio"===Af.type&&(Ac=Af.checked?"●":" ")),Ac||(Ac=Af.placeholder),Ah=X.createTextNode(Ac),Ai.appendChild(Ah),x.appendChild(Ai),AV(Af,Ah,Ad),x.removeChild(Ai)}function O(Ab){Ab.drawImage.apply(Ab,Array.prototype.slice.call(arguments,1)),R+=1}function j(Ac,Af){var Aj=H.getComputedStyle(Ac,Af);if(Aj&&Aj.content&&"none"!==Aj.content&&"-moz-alt-content"!==Aj.content&&"none"!==Aj.display){var Ai=Aj.content+"",Ag=Ai.substr(0,1);Ag===Ai.substr(Ai.length-1)&&Ag.match(/'|"/)&&(Ai=Ai.substr(1,Ai.length-2));var Ae="url"===Ai.substr(0,3),Ad=J.createElement(Ae?"img":"span");Ad.className=o+"-before "+o+"-after";for(var Ab in Aj){if(e(Ab)&&"cssText"!==Ab){try{Ad.style[Ab]=Aj[Ab]}catch(Ah){N.log(["Tried to assign readonly property ",Ab,"Error:",Ah])}}}return Ae?Ad.src=N.parseBackgroundImage(Ai)[0].args[0]:Ad.innerHTML=Ai,Ad}}function e(Ab){return isNaN(H.parseInt(Ab,10))}function S(Ac,Ab){var Ad=j(Ac,":before"),Ae=j(Ac,":after");(Ad||Ae)&&(Ad&&(Ac.className+=" "+o+"-before",Ac.parentNode.insertBefore(Ad,Ac),y(Ad,Ab,!0),Ac.parentNode.removeChild(Ad),Ac.className=Ac.className.replace(o+"-before","").trim()),Ae&&(Ac.className+=" "+o+"-after",Ac.appendChild(Ae),y(Ae,Ab,!0),Ac.removeChild(Ae),Ac.className=Ac.className.replace(o+"-after","").trim()))}function AJ(Ac,Af,Ad,Ae){var Ab=Math.round(Ae.left+Ad.left),Ag=Math.round(Ae.top+Ad.top);Ac.createPattern(Af),Ac.translate(Ab,Ag),Ac.fill(),Ac.translate(-Ab,-Ag)}function AP(Aj,Af,Ad,Ab,Ae,Ah,Ac,Ai){var Ag=[];Ag.push(["line",Math.round(Ae),Math.round(Ah)]),Ag.push(["line",Math.round(Ae+Ac),Math.round(Ah)]),Ag.push(["line",Math.round(Ae+Ac),Math.round(Ai+Ah)]),Ag.push(["line",Math.round(Ae),Math.round(Ai+Ah)]),Q(Aj,Ag),Aj.save(),Aj.clip(),AJ(Aj,Af,Ad,Ab),Aj.restore()}function p(Ac,Ad,Ab){AX(Ac,Ad.left,Ad.top,Ad.width,Ad.height,Ab)}function V(Af,Ag,Ac,Ai,Ab){var Ad=N.BackgroundSize(Af,Ag,Ai,Ab),Ae=N.BackgroundPosition(Af,Ag,Ai,Ab,Ad),Ah=u(Af,"backgroundRepeat").split(",").map(N.trimText);switch(Ai=f(Ai,Ad),Ah=Ah[Ab]||Ah[0]){case"repeat-x":AP(Ac,Ai,Ae,Ag,Ag.left,Ag.top+Ae.top,99999,Ai.height);break;case"repeat-y":AP(Ac,Ai,Ae,Ag,Ag.left+Ae.left,Ag.top,Ai.width,99999);break;case"no-repeat":AP(Ac,Ai,Ae,Ag,Ag.left+Ae.left,Ag.top+Ae.top,Ai.width,Ai.height);break;default:AJ(Ac,Ai,Ae,{top:Ag.top,left:Ag.left,width:Ai.width,height:Ai.height})}}function AY(Af,Ag,Ad){for(var Ai,Ah=u(Af,"backgroundImage"),Ac=N.parseBackgroundImage(Ah),Ab=Ac.length;Ab--;){if(Ah=Ac[Ab],Ah.args&&0!==Ah.args.length){var Ae="url"===Ah.method?Ah.args[0]:Ah.value;Ai=t(Ae),Ai?V(Af,Ag,Ad,Ai,Ab):N.log("html2canvas: Error loading background:",Ah)}}}function f(Ae,Ad){if(Ae.width===Ad.width&&Ae.height===Ad.height){return Ae}var Ab,Ac=X.createElement("canvas");return Ac.width=Ad.width,Ac.height=Ad.height,Ab=Ac.getContext("2d"),O(Ab,Ae,0,0,Ae.width,Ae.height,0,0,Ad.width,Ad.height),Ac}function AR(Ac,Ad,Ab){return Ac.setVariable("globalAlpha",u(Ad,"opacity")*(Ab?Ab.opacity:1))}function v(Ab){return Ab.replace("px","")}function AI(Af){var Ae=u(Af,"transform")||u(Af,"-webkit-transform")||u(Af,"-moz-transform")||u(Af,"-ms-transform")||u(Af,"-o-transform"),Ad=u(Af,"transform-origin")||u(Af,"-webkit-transform-origin")||u(Af,"-moz-transform-origin")||u(Af,"-ms-transform-origin")||u(Af,"-o-transform-origin")||"0px 0px";Ad=Ad.split(" ").map(v).map(N.asFloat);var Ab;if(Ae&&"none"!==Ae){var Ac=Ae.match(AT);if(Ac){switch(Ac[1]){case"matrix":Ab=Ac[2].split(",").map(N.trimText).map(N.asFloat)}}}return{origin:Ad,matrix:Ab}}function Z(Af,Ac,Ag,Ae){var Ad=G(Ac?Ag.width:AM(),Ac?Ag.height:i()),Ab={ctx:Ad,opacity:AR(Ad,Af,Ac),cssPosition:u(Af,"position"),borders:Y(Af),transform:Ae,clip:Ac&&Ac.clip?N.Extend({},Ac.clip):null};return AN(Af,Ab,Ac),z.useOverflow===!0&&/(hidden|scroll|auto)/.test(u(Af,"overflow"))===!0&&/(BODY)/i.test(Af.nodeName)===!1&&(Ab.clip=Ab.clip?a(Ab.clip,Ag):Ag),Ab}function d(Ae,Ac,Ab){var Ad={left:Ac.left+Ae[3].width,top:Ac.top+Ae[0].width,width:Ac.width-(Ae[1].width+Ae[3].width),height:Ac.height-(Ae[0].width+Ae[2].width)};return Ab&&(Ad=a(Ad,Ab)),Ad}function b(Ac,Ab){var Ad=Ab.matrix?N.OffsetBounds(Ac):N.Bounds(Ac);return Ab.origin[0]+=Ad.left,Ab.origin[1]+=Ad.top,Ad}function g(Ag,Ah,Af,Aj){var Ae,Ac=AI(Ag,Ah),Ab=b(Ag,Ac),Ak=Z(Ag,Ah,Ab,Ac),Ai=Ak.borders,An=Ak.ctx,Ad=d(Ai,Ab,Ak.clip),Am=AA(Ag,Ab,Ai),Al=AK.test(Ag.nodeName)?"#efefef":u(Ag,"backgroundColor");switch(Q(An,Am.clip),An.save(),An.clip(),Ad.height>0&&Ad.width>0&&!Aj?(p(An,Ab,Al),AY(Ag,Ad,An)):Aj&&(Ak.backgroundColor=Al),An.restore(),Am.borders.forEach(function(Ao){h(An,Ao.args,Ao.color)}),Af||S(Ag,Ak),Ag.nodeName){case"IMG":(Ae=t(Ag.getAttribute("src")))?s(An,Ag,Ae,Ab,Ai):N.log("html2canvas: Error loading <img>:"+Ag.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset|checkbox|radio)$/.test(Ag.type)&&(Ag.value||Ag.placeholder||"").length>0&&AQ(Ag,Ab,Ak);break;case"TEXTAREA":(Ag.value||Ag.placeholder||"").length>0&&AQ(Ag,Ab,Ak);break;case"SELECT":(Ag.options||Ag.placeholder||"").length>0&&AQ(Ag,Ab,Ak);break;case"OPTION":AQ(Ag,Ab,Ak);case"LI":AL(Ag,Ak,Ad);break;case"CANVAS":s(An,Ag,Ag,Ab,Ai)}return Ak}function AE(Ab){return"none"!==u(Ab,"display")&&"hidden"!==u(Ab,"visibility")&&!Ab.hasAttribute("data-html2canvas-ignore")}function y(Ad,Ab,Ag,Ac){if(AE(Ad)){var Ae,Af;Ac?Ae=!0:(Af="fixed"===u(Ad,"position")?!0:!1,Ae=Af||I.Util.isElementInViewport(Ad,z,0,0)),I.Util.isFixedEle=Af||Ac?!0:!1,Ae&&(Ab=g(Ad,Ab,Ag,!1)||Ab,AK.test(Ad.nodeName)||m(Ad,Ab,Ag,I.Util.isFixedEle))}}function m(Ad,Ab,Ae,Ac){N.Children(Ad).forEach(function(Af){Af.nodeType===Af.ELEMENT_NODE?y(Af,Ab,Ae,Ac):Af.nodeType===Af.TEXT_NODE&&AV(Ad,Af,Ab)})}function AU(){var Ad=u(J.documentElement,"backgroundColor"),Ac=N.isTransparent(Ad)&&k===J.body,Ab=g(k,null,!1,Ac);return m(k,Ab),Ac&&(Ad=Ab.backgroundColor),x.removeChild(n),{backgroundColor:Ad,stack:Ab}}H.scroll(0,0);var k=z.elements===E?J.body:z.elements[0],R=0,X=k.ownerDocument,N=I.Util,AO=N.Support(z,X),AK=new RegExp("("+z.ignoreElements+")"),x=X.body,u=N.getCSS,o="___html2canvas___pseudoelement",n=X.createElement("style");n.innerHTML="."+o+'-before:before { content: "" !important; display: none !important; }.'+o+'-after:after { content: "" !important; display: none !important; }',x.appendChild(n),U=U||{};var c=function(Ab){return function(Ad,Aj,Ah,Af){var Ag=Ah*Ab,Ae=Af*Ab,Ai=Ad+Ah,Ac=Aj+Af;return{topLeft:Aa({x:Ad,y:Ac},{x:Ad,y:Ac-Ae},{x:Ai-Ag,y:Aj},{x:Ai,y:Aj}),topRight:Aa({x:Ad,y:Aj},{x:Ad+Ag,y:Aj},{x:Ai,y:Ac-Ae},{x:Ai,y:Ac}),bottomRight:Aa({x:Ai,y:Aj},{x:Ai,y:Aj+Ae},{x:Ad+Ag,y:Ac},{x:Ad,y:Ac}),bottomLeft:Aa({x:Ai,y:Ac},{x:Ai-Ag,y:Ac},{x:Ad,y:Aj+Ae},{x:Ad,y:Aj})}}}(4*((Math.sqrt(2)-1)/3)),AT=/(matrix)\((.+)\)/;return AU()},I.Preload=function(P){function l(n){U.href=n,U.href=U.href;var i=U.protocol+U.host;return i===j}function Q(){S.log("html2canvas: start: images: "+Z.numLoaded+" / "+Z.numTotal+" (failed: "+Z.numFailed+")"),Z.firstRun||Z.numLoaded!==Z.numTotal||(S.log("Finished loading images: # "+Z.numTotal+" (failed: "+Z.numFailed+")"),"function"==typeof P.complete&&P.complete(Z))}function c(q,p,r){var n,o,s=P.proxy;U.href=q,q=U.href;var i=q.split("/");"http:"===i[0]||"https:"===i[0]?(n="html2canvas_"+T++,r.callbackname=n,s+=s.indexOf("?")>-1?"&":"?",s+="url="+encodeURIComponent(q)+"&callback="+n,o=m.createElement("script"),H[n]=function(t){"error:"===t.substring(0,6)?(r.succeeded=!1,Z.numLoaded++,Z.numFailed++,Q()):(g(p,r),p.src=t),H[n]=E;try{delete H[n]}catch(u){}o.parentNode.removeChild(o),o=null,delete r.script,delete r.callbackname},o.setAttribute("type","text/javascript"),o.setAttribute("src",s),r.script=o,H.document.body.appendChild(o)):(r.succeeded=!1,Z.numLoaded++,Z.numFailed++,Q())}function X(i,o){var n=H.getComputedStyle(i,o),p=n.content;"url"===p.substr(0,3)&&k.loadImage(I.Util.parseBackgroundImage(p)[0].args[0]),f(n.backgroundImage,i)}function e(i){X(i,":before"),X(i,":after")}function O(o,n){var i=I.Generate.Gradient(o,n);i!==E&&(Z[o]={img:i,succeeded:!0},Z.numTotal++,Z.numLoaded++,Q())}function L(i){return i&&i.method&&i.args&&i.args.length>0}function f(n,i){var o;I.Util.parseBackgroundImage(n).filter(L).forEach(function(p){"url"===p.method?k.loadImage(p.args[0]):p.method.match(/\-?gradient$/)&&(o===E&&(o=I.Util.Bounds(i)),O(p.value,o))})}function V(o){var i=!1;try{S.Children(o).forEach(V)}catch(p){}try{i=o.nodeType}catch(n){i=!1,S.log("html2canvas: failed to access some element's nodeType - Exception: "+n.message)}if((1===i||i===E)&&I.Util.isElementInViewport(o,P,H.zCurrentScrollTop,H.zCurrentScrollLeft)){e(o);try{f(S.getCSS(o,"backgroundImage"),o)}catch(p){S.log("html2canvas: failed to get background-image - Exception: "+p.message)}f(o)}}function g(i,n){i.onload=function(){n.timer!==E&&H.clearTimeout(n.timer),Z.numLoaded++,n.succeeded=!0,i.onerror=i.onload=null,Q()},i.onerror=function(){if("anonymous"===i.crossOrigin&&(H.clearTimeout(n.timer),P.proxy)){var o=i.src;return i=new Image,n.img=i,i.src=o,void c(i.src,i,n)}Z.numLoaded++,Z.numFailed++,n.succeeded=!1,i.onerror=i.onload=null,Q()}}H.zCurrentScrollTop=J.body.scrollTop||J.documentElement.scrollTop,H.zCurrentScrollLeft=J.body.scrollLeft||J.documentElement.scrollLeft;for(var j,k,h,d,Z={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},S=I.Util,T=0,N=P.elements[0]||J.body,m=N.ownerDocument,b=N.getElementsByTagName("img"),R=b.length,U=m.createElement("a"),W=function(i){return i.crossOrigin!==E}(new Image),Y=new Array,M=new Array,h=0;R>h;h++){I.Util.isElementInViewport(b[h],P,H.zCurrentScrollTop,H.zCurrentScrollLeft)&&-1===M.indexOf(b[h].src)&&(M.push(b[h].src),Y.push(b[h]))}var a=Y.length;for(U.href=H.location.href,j=U.protocol+U.host,k={loadImage:function(o){var i,n;o&&Z[o]===E&&(i=new Image,o.match(/data:image\/.*;base64,/i)?(i.src=o.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),n=Z[o]={img:i},Z.numTotal++,g(i,n)):l(o)||P.allowTaint===!0?(n=Z[o]={img:i},Z.numTotal++,g(i,n),i.src=o):W&&!P.allowTaint&&P.useCORS?(i.crossOrigin="anonymous",n=Z[o]={img:i},Z.numTotal++,g(i,n),i.src=o):P.proxy&&(n=Z[o]={img:i},Z.numTotal++,c(o,i,n)))},cleanupDOM:function(o){var i,p;if(!Z.cleanupDone){S.log(o&&"string"==typeof o?"html2canvas: Cleanup because: "+o:"html2canvas: Cleanup after timeout: "+P.timeout+" ms.");for(p in Z){if(Z.hasOwnProperty(p)&&(i=Z[p],"object"==typeof i&&i.callbackname&&i.succeeded===E)){H[i.callbackname]=E;try{delete H[i.callbackname]}catch(n){}i.script&&i.script.parentNode&&(i.script.setAttribute("src","about:blank"),i.script.parentNode.removeChild(i.script)),Z.numLoaded++,Z.numFailed++,S.log("html2canvas: Cleaned up failed img: '"+p+"' Steps: "+Z.numLoaded+" / "+Z.numTotal)}}H.stop!==E?H.stop():J.execCommand!==E&&J.execCommand("Stop",!1),J.close!==E&&J.close(),Z.cleanupDone=!0,o&&"string"==typeof o||Q()}},renderingDone:function(){d&&H.clearTimeout(d)}},P.timeout>0&&(d=H.setTimeout(k.cleanupDOM,P.timeout)),S.log("html2canvas: Preload starts: finding background-images"),Z.firstRun=!0,V(N),S.log("html2canvas: Preload: Finding images"),h=0;a>h;h+=1){k.loadImage(Y[h].getAttribute("src"))}return Z.firstRun=!1,S.log("html2canvas: Preload: Done."),Z.numTotal===Z.numLoaded&&Q(),k},I.Renderer=function(O,N){function L(R){function S(T){Object.keys(T).sort().forEach(function(X){var V=[],Z=[],W=[],Y=[];T[X].forEach(function(a){a.node.zIndex.isPositioned||a.node.zIndex.opacity<1?W.push(a):a.node.zIndex.isFloated?Z.push(a):V.push(a)}),function U(a){a.forEach(function(b){Y.push(b),b.children&&U(b.children)})}(V.concat(Z,W)),Y.forEach(function(a){a.context?S(a.context):P.push(a.node)})})}var Q,P=[];return Q=function(U){function V(W,Y,c){var e="auto"===Y.zIndex.zindex?0:Number(Y.zIndex.zindex),a=W,d=Y.zIndex.isPositioned,Z=Y.zIndex.isFloated,X={node:Y},b=c;Y.zIndex.ownStacking?(a=X.context={"!":[{node:Y,children:[]}]},b=E):(d||Z)&&(b=X.children=[]),0===e&&c?c.push(X):(W[e]||(W[e]=[]),W[e].push(X)),Y.zIndex.children.forEach(function(f){V(a,f,b)})}var T={};return V(T,U),T}(R),S(Q),P}function M(P){var Q;if("string"==typeof N.renderer&&I.Renderer[P]!==E){Q=I.Renderer[P](N)}else{if("function"!=typeof P){throw new Error("Unknown renderer")}Q=P(N)}if("function"!=typeof Q){throw new Error("Invalid renderer defined")}return Q}return M(N.renderer)(O,N,J,L(O.stack),I)},I.Util.Support=function(M,O){function L(){var Q=new Image,R=O.createElement("canvas"),P=R.getContext===E?!1:R.getContext("2d");if(P===!1){return !1}R.width=R.height=10,Q.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{P.drawImage(Q,0,0),R.toDataURL()}catch(S){return !1}return I.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function N(){var R,T,S,P,Q=!1;return O.createRange&&(R=O.createRange(),R.getBoundingClientRect&&(T=O.createElement("boundtest"),T.style.height="123px",T.style.display="block",O.body.appendChild(T),R.selectNode(T),S=R.getBoundingClientRect(),P=S.height,123===P&&(Q=!0),O.body.removeChild(T))),Q}return{rangeBounds:N(),svgRendering:M.svgRendering&&L()}},I.Util.isElementInViewport=function(O,M,P,Q){if(M.grabArea===E){return !0}var N=O.getBoundingClientRect().top,L=O.getBoundingClientRect().left;return P&&(N+=P),Q&&(L+=Q),null===O.offsetParent?!1:(N>=M.grabArea.top&&N<=M.grabArea.top+M.grabArea.height||N<=M.grabArea.top&&N+O.offsetHeight>=M.grabArea.top||!O.offsetHeight)&&(L>=M.grabArea.left&&L<=M.grabArea.left+M.grabArea.width||L<=M.grabArea.left&&L+O.offsetWidth>=M.grabArea.left||!O.offsetWidth)?!0:!1},H.html2canvas=function(P,O){P=P.length?P:[P];var L,N,M={logging:!1,elements:P,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas",grabArea:E};return M=I.Util.Extend(O,M),I.logging=M.logging,M.complete=function(Q){("function"!=typeof M.onpreloaded||M.onpreloaded(Q)!==!1)&&(L=I.Parse(Q,M),("function"!=typeof M.onparsed||M.onparsed(L)!==!1)&&(N=I.Renderer(L,M),"function"==typeof M.onrendered&&M.onrendered(N)))},H.setTimeout(function(){I.Preload(M)},0),{render:function(Q,R){return I.Renderer(Q,I.Util.Extend(R,M))},parse:function(Q,R){return I.Parse(Q,I.Util.Extend(R,M))},preload:function(Q){return I.Preload(I.Util.Extend(Q,M))},log:I.Util.log}},H.html2canvas.log=I.Util.log,H.html2canvas.Renderer={Canvas:E},I.Renderer.Canvas=function(U){function N(V,W){V.beginPath(),W.forEach(function(X){V[X.name].apply(V,X.arguments)}),V.closePath()}function Q(V){if(-1===O.indexOf(V.arguments[0].src)){P.drawImage(V.arguments[0],0,0);try{P.getImageData(0,0,1,1)}catch(W){return T=S.createElement("canvas"),P=T.getContext("2d"),!1}O.push(V.arguments[0].src)}return !0}function M(V,W){switch(W.type){case"variable":V[W.name]=W.arguments;break;case"function":switch(W.name){case"createPattern":if(W.arguments[0].width>0&&W.arguments[0].height>0){try{V.fillStyle=V.createPattern(W.arguments[0],"repeat")}catch(X){R.log("html2canvas: Renderer: Error creating pattern",X.message)}}break;case"drawShape":N(V,W.arguments);break;case"drawImage":W.arguments[8]>0&&W.arguments[7]>0&&(!U.taintTest||U.taintTest&&Q(W))&&V.drawImage.apply(V,W.arguments);break;default:V[W.name].apply(V,W.arguments)}}}U=U||{};var S=J,O=[],T=J.createElement("canvas"),P=T.getContext("2d"),R=I.Util,L=U.canvas||S.createElement("canvas");return function(d,e,a,Y,Z){var W,V,X,c=L.getContext("2d"),b=d.stack;return L.width=L.style.width=e.width||b.ctx.width,L.height=L.style.height=e.height||b.ctx.height,X=c.fillStyle,c.fillStyle=R.isTransparent(b.backgroundColor)&&e.background!==E?e.background:d.backgroundColor,c.fillRect(0,0,L.width,L.height),c.fillStyle=X,Y.forEach(function(f){c.textBaseline="bottom",c.save(),f.transform.matrix&&(c.translate(f.transform.origin[0],f.transform.origin[1]),c.transform.apply(c,f.transform.matrix),c.translate(-f.transform.origin[0],-f.transform.origin[1])),f.clip&&(c.beginPath(),c.rect(f.clip.left,f.clip.top,f.clip.width,f.clip.height),c.clip()),f.ctx.storage&&f.ctx.storage.forEach(function(g){M(c,g)}),c.restore()}),R.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===e.elements.length&&"object"==typeof e.elements[0]&&"BODY"!==e.elements[0].nodeName?(V=Z.Util.Bounds(e.elements[0]),W=a.createElement("canvas"),W.width=Math.ceil(V.width),W.height=Math.ceil(V.height),c=W.getContext("2d"),c.drawImage(L,V.left,V.top,V.width,V.height,0,0,V.width,V.height),L=null,W):L}}}(window,document);(function(B){var C=B.DOMUtil,A={options:{type:"modal",title:false,icon:false,content:undefined,autoOpen:false,closeOnEscKey:true,width:undefined,height:undefined,closeButton:true,buttons:undefined,className:"",overlayClassName:"",minimizable:false,maximizable:false,resizable:{minHeight:300,minWidth:300,maxHeight:false,maxWidth:false,container:"window",direction:"s,e,se"},draggable:true,position:"center",footer:"",isTitleHTMLEncoded:false,isContentHTMLEncoded:false,isFooterHTMLEncoded:false,animation:false,defaultActionButton:".zbutton--primary",labels:{minimize:"Minimize",maximize:"Maximize",minimizeRestore:"Restore",maximizeRestore:"Restore",close:"Close"},minimizeButtonLabel:undefined,maximizeButtonLabel:undefined,minimizeRestoreButtonLabel:undefined,maximizeRestoreButtonLabel:undefined,restoreButtonLabel:undefined,closeButtonLabel:undefined,buttonsAlignment:"right",icons:{minimize:undefined,maximize:undefined,restore:undefined,minimizeRestore:undefined,maximizeRestore:undefined,close:undefined},excludeFocus:undefined},_ALIGNMENTS:{right:"",left:"zdialogfooter--invert",center:"h-center"},_EVENTS:{ONDRAG:"drag",DRAGSTART:"dragstart",DRAGEND:"dragend",ONRESIZE:"resize",RESIZESTART:"resizestart",RESIZEEND:"resizeend",ONMINIMIZE:"minimize",ONMAXIMIZE:"maximize",ONCLOSE:"close",ONOPEN:"open",BEFORECLOSE:"beforeclose",RESTORE:"restore",ACTIONBUTTONCLICK:"actionbuttonclick"},_EFFECTS:{slide:{open:"slideDown",close:"slideUp"},fade:{open:"fadeIn",close:"fadeOut"}},ANIMATION_EVENTS:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend",_create:function(F,E){var D=".zbutton--action";this.options.excludeFocus=!this.options.excludeFocus?""+D:this.options.excludeFocus+" ,"+D;this._isComponentInited=false;this._construct();this._bindEvents()},_construct:function(){this.container=C("<div>").attr({"class":"zdialog "+this.options.className,tabIndex:-1,role:"dialog"});this.container.attr("aria-modal",this.options.type==="modal");if(this.options.icon){this._iconSpan=C("<span class='zc-icon-primary zc-icon "+this.options.icon+"'></span>");this.element.prepend(this._iconSpan)}this._createTitleBar();this.container.append(this._titleBar);if(this.options.closeButton){this._createTitleBarButtons()}if(typeof this.options.content==="object"){var D=this;C.ajax(this.options.content).success(function(E){D._setContent(E)})}else{this._setContent()}},_setContent:function(D){if(D){this.element.append(D)}else{if(this.options.content){this.element.html((this.options.isHTMLEncoded||this.options.isContentHTMLEncoded)?this.options.content:B.encodeHTML(this.options.content))}}this.container.append(this.element.show().addClass("zdialog__content").removeAttr("title"));if(this.options.buttons!==undefined){this.container.append(this._createButtonPane())}if(this.options.footer&&this.options.footer!==""&&this.options.footer.trim()!==""){this.container.append(this._createFooterMessage(this.options.footer))}C("body").append(this.container);if(this.options.resizable&&C.fn.zresizable){this.options.resizable=typeof this.options.resizable==="object"?this.options.resizable:{};this._makeResizable()}if((this.options.title||this.options.closeButton)&&this.options.draggable&&C.fn.zdraggable){this._makeDraggable()}this.options.autoOpen&&this.open()},_makeResizable:function(){var E=this,D=this.options.resizable;this.container.zresizable({minHeight:D.minHeight,maxHeight:D.maxHeight,minWidth:D.minWidth,maxWidth:D.maxWidth,container:this.options.type==="modal"?"parent":D.container,alsoResize:this.element,handle:D.direction,start:function(F,G){E._triggerEvent("RESIZESTART",F,G)},stop:function(F,G){E.actualWidth=E.container.width();E._triggerEvent("RESIZEEND",F,G)},resize:function(F,G){E.container.css("height","auto");E._triggerEvent("ONRESIZE",F,G)}})},_makeDraggable:function(){var D=this;this.container.zdraggable({ignore:".zdialog__actiongroup",handle:".zdialog__header",container:"window",start:function(E,F){D._triggerEvent("DRAGSTART",E,F)},end:function(E,F){D._triggerEvent("DRAGEND",E,F)},drag:function(E,F){D._triggerEvent("ONDRAG",E,F)}})},_createTitleBar:function(){var F=this._titleBar=C("<div>").attr("class","zdialog__header");if(this.options.title){var D=C("<span></span>").attr("class","zdialog__title");D.html((this.options.isTitleHTMLEncoded||this.options.isHTMLEncoded)?this.options.title:B.encodeHTML(this.options.title));F.append(D)}var E=this;F.on("dblclick.zdialog",function(G){if(!C(G.target).closest(".zdialog__actiongroup").length){if(E.isMinimized()&&E.options.type!=="modal"){E._toggleMinimize(G,E._minimizeButton,true)}else{if(E.isMaximized()){E._toggleMaximize(G,E._maximizeButton,true)}else{if(E.options.maximizable){E._toggleMaximize(G,E._maximizeButton,true)}else{if(E.options.minimizable&&E.options.type!=="modal"){E._toggleMinimize(G,E._minimizeButton,true)}}}}}})},_createTitleBarButtons:function(){this._titleBarButtonContainer=C("<div/>").attr("class","zdialog__actiongroup");if(this.options.minimizable&&this.options.type!=="modal"){this._minimizeButton=this._createMinimizeButton();this._titleBarButtonContainer.append(this._minimizeButton)}if(this.options.maximizable){this._maximizeButton=this._createMaximizeButton();this._titleBarButtonContainer.append(this._maximizeButton)}this._closeButton=this._createCloseButton();this._titleBarButtonContainer.append(this._closeButton);this._titleBar.append(this._titleBarButtonContainer)},_createCloseButton:function(){var E=C("<button>").attr({"class":"zbutton zbutton--action",title:this.options.closeButtonLabel||this._localize("close")}),G=this,D=this.componentName;E.on("click."+D,function(I){G.close(I,{closeButton:true})}).on("keydown."+D,function(I){if(I.keyCode===B.keyCode.ENTER){G.close(I,{closeButton:true})}});var H=C("<i class='zbutton__icon'></i"),F={props:{"class":"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)","class":"st0",width:"13",height:"1.1"}},{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)","class":"st0",width:"13",height:"1.1"}}]};this._handleIcon(H,F,"close",this.options.closeIconClassName,this.options.closeSVGIconId);E.append(H);return E},_createButtonPane:function(){var E=this,D=C("<div>").attr({"class":"zdialog__footer"});C.each(this.options.buttons,function(H,G){var F=C("<button>").attr({id:(G.id?G.id:"dlgbutton"+H)});G.name&&F.attr("name",G.name);G.customAttributes&&F.attr(G.customAttributes);if(C.type(G.action)!=="function"&&(G.action==="CLOSE"||G.action==="CANCEL")){F.addClass("h--clickonescape");G.action=function(J){E.close(J,{button:F})}}if(C.fn.zbutton){F.zbutton(G)}else{var I=C("<span class='zbutton__text'>"+G.text+"</span>");F.append(I);F.addClass("zbutton"+(G.appearance==="primary"?" zbutton--primary":""));if(G.disabled){F.attr("disabled",true).addClass("is-disabled")}}F.on("click."+E.componentName,function(J){if(!F.hasClass("is-disabled")||F.find(".zbutton__loader").length){if(G.action){if(typeof G.action!=="function"){E._triggerFunction(G.action,F,[J,{button:F,options:G}])}else{G.action.apply(E,[J])}}E._triggerEvent("ACTIONBUTTONCLICK",J,{button:C(J.target).closest(".zbutton")})}});D.append(F)});D.addClass(this._ALIGNMENTS[this.options.buttonsAlignment]);return D},_createCommandBar:function(F){var I=this.options.commandBar,E=C("<div class='zdialog__commandbar zdialog__footer' ></div>"),K=this.options.buttons;if(I.leftColumn){var D=C("<div class='zdialog__commandbaractionsleft'></div>"),M=I.leftColumn.commands;I.leftColumn.className&&D.addClass(I.leftColumn.className);for(var G=0;G<M.length;G++){D.append(F.find(".zbutton[name="+M[G]+"]"))}E.append(D)}if(I.centerColumn){var J=C("<div class='zdialog__commandbaractionscenter'></div>"),L=I.centerColumn.commands;I.centerColumn.className&&J.addClass(I.centerColumn.className);for(var G=0;G<L.length;G++){J.append(F.find(".zbutton[name="+L[G]+"]"))}E.append(J)}if(I.rightColumn){var H=C("<div class='zdialog__commandbaractionsright'></div>"),N=I.rightColumn.commands;I.rightColumn.className&&H.addClass(I.rightColumn.className);for(var G=0;G<N.length;G++){H.append(F.find(".zbutton[name="+N[G]+"]"))}E.append(H)}return E},_createFooterMessage:function(D){this._footer=C("<div class='zdialog__footnote'></div>");this._footer.html((this.options.isHTMLEncoded||this.options.isFooterHTMLEncoded)?D:B.encodeHTML(D));return this._footer},_createMinimizeButton:function(){var D=C("<button>").attr({"class":"zbutton zbutton--action",title:this.options.minimizeButtonLabel||this._localize("minimize")}),G=this,E=this.componentName;D.on("click."+E+" keydown."+E,function(I){if(I.type==="click"||(I.type==="keydown"&&I.which===B.keyCode.ENTER||I.which===B.keyCode.SPACE)){G._toggleMinimize(I,C(this),true);I.preventDefault();I.stopPropagation()}});var H=C("<i class='zbutton__icon'></i"),F={props:{"class":"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:2,y:12,width:12,height:1}}]};this._handleIcon(H,F,"minimize",this.options.minimizeIconClassName,this.options.minimizeSVGIconId);D.append(H);return D},_createMaximizeButton:function(){var G=C("<button>").attr({"class":"zbutton zbutton--action",title:this.options.maximizeButtonLabel||this._localize("maximize")}),F=this,D=this.componentName;G.off("click."+D+" keydown."+D).on("click."+D+" keydown."+D,function(I){if(I.type==="click"||(I.type==="keydown"&&I.which===B.keyCode.ENTER||I.which===B.keyCode.SPACE)){F._toggleMaximize(I,C(this),true);I.preventDefault();I.stopPropagation()}});var H=C("<i class='zbutton__icon'></i"),E={props:{"class":"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{g:{props:{transform:"translate(0,-1036.3622)"},nodes:[{g:{nodes:[{path:{d:"M13,1040.4v8H3v-8H13 M14,1039.4H2v10h12V1039.4L14,1039.4z"}}]}}]}}]};this._handleIcon(H,E,"maximize",this.options.maximizeIconClassName,this.options.maximizeSVGIconId);G.append(H);return G},_animateAction:function(H,G,K,F){if(H[G]){var E=this,D,J,I=H[G].className;if(H[G]==="object"){D=H[G].name;J=H[G].duration}if(I){F&&this.container.show();this.container.addClass(I).on(this.ANIMATION_EVENTS,function(){E.container.removeClass(I);K&&K();K=undefined})}else{if(typeof D==="object"){F&&this.container.show();this.container.animate(D,J,K)}else{this.container[D](J,K)}}}},_changeIcon:function(E,I){var H=E.find(".zbutton__icon"),G=undefined,D=I.indexOf("Restore")!==-1?(this.options[I+"IconClassName"]||this.options.restoreIconClassName):this.options[I+"IconClassName"],F=I.indexOf("Restore")!==-1?(this.options[I+"SVGIconId"]||this.options.restoreSVGIconId):this.options[I+"SVGIconId"];H.remove();H=C("<i class='zbutton__icon'>");if(I==="minimize"){G={props:{"class":"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:2,y:12,width:12,height:1}}]}}else{if(I==="maximize"){G={props:{"class":"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{g:{props:{transform:"translate(0,-1036.3622)"},nodes:[{g:{nodes:[{path:{d:"M13,1040.4v8H3v-8H13 M14,1039.4H2v10h12V1039.4L14,1039.4z"}}]}}]}}]}}else{if(I==="minimizeRestore"||I==="maximizeRestore"){G={props:{"class":"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{g:{props:{transform:"translate(0,-1036.3622)"},nodes:[{path:{d:"M2,1041.4v8h10v-8H2z M11,1048.4H3v-6h8V1048.4z"}}]}},{g:{props:{transform:"translate(0,-1036.3622)"},nodes:[{path:{d:"M4,1039.4v3h1v-2h8v6h-2v1h3v-8H4z"}}]}}]}}}}this._handleIcon(H,G,I,D,F);E.append(H)},_toggleMinimize:function(F,E,I){var D=this.isMinimized(),G=this;if(this.isMaximized()){this._toggleMaximize(F,this._maximizeButton,I)}var H=function(){if(!D){G.actualWidth=parseFloat(G.container.css("width"));G.actualHeight=G.element.height()}G.container.find(".zdialog__footnote")[D?"show":"hide"]();G.element[D?"show":"hide"]();G.container[D?"removeClass":"addClass"]("zdialog--minimized");(C.fn.zdraggable&&G.options.draggable)?G.container.zdraggable("setAttribute","disabled",!D?true:false):C.noop;var K=G.options[D?"minimizeButtonLabel":"minimizeRestoreButtonLabel"]||G._localize(D?"minimize":"minimizeRestore");E.attr("title",K);G._changeIcon(E,D?"minimize":"minimizeRestore");if(!D){G.container.css({width:"",height:""});G.disableButton("maximize")}else{G.container.css({width:G.actualWidth}).css(G.actualPosition);G.enableButton("maximize")}if(G._overlay){G._overlay[!D?"hide":"show"]()}var L=G._overlay?G._overlay:C("body");if(G._overlay&&D){B.zIndex+=1;L.css("zIndex",B.zIndex)}G.container.appendTo(!D?G._getMinimizablePane():L);G._overlay&&G._hideDocumentScroll(!D?false:true);if(I){G._triggerEvent(D?"RESTORE":"ONMINIMIZE",F,{from:"minimize"})}};if(!D){G.actualPosition=G.container.position()}this.container.css({top:"",left:""});var J=this.options.animation;if(!D&&J.minimize){this._animateAction(J,"minimize",H)}else{if(D&&J.minimizeRestore){this._animateAction(J,"minimizeRestore",H)}else{H()}}},_getMinimizablePane:function(){var D="zdialog--wrapper",E=C("."+D);if(!E.length){E=C("<div>").attr("class",D);C("body").append(E)}return E},_hideDocumentScroll:function(D){C("body")[D?"addClass":"removeClass"]("h-overflowhidden")},_toggleMaximize:function(F,E,I){var D=this.isMaximized(),G=this;if(this.isMinimized()){this._toggleMinimize(F,this._minimizeButton,I)}var H=function(){G.container[D?"removeClass":"addClass"]("zdialog--maximized");(C.fn.zdraggable&&G.options.draggable)?G.container.zdraggable("setAttribute","disabled",!D?true:false):C.noop;var L=G.options[D?"maximizeButtonLabel":"maximizeRestoreButtonLabel"]||G._localize(D?"maximize":"maximizeRestore",G.options.labels);G._changeIcon(E,D?"maximize":"maximizeRestore");E.attr("title",L);if(!D){G.container.css({width:"auto",height:"auto",top:"0px",left:"0px"});var K=G.container.find(".zdialog__header").length?G.container.find(".zdialog__header").outerHeight(true):0,O=G.container.find(".zdialog__footer").length?G.container.find(".zdialog__footer").outerHeight(true):0,N=G.container.find(".zdialog__footnote").length?G.container.find(".zdialog__footnote").outerHeight(true):0,P=Math.abs(B.windowObject.height-(K+O+N+parseInt(G.element.css("padding-top"))+parseInt(G.element.css("padding-bottom"))+parseInt(G.container.css("border-top-width"))+parseInt(G.container.css("border-bottom-width")))),M=B.windowObject.width-parseInt(G.element.css("padding-left"))-parseInt(G.element.css("padding-right"))-parseInt(G.element.css("margin-right"))-parseInt(G.element.css("margin-left"))-parseInt(G.container.css("border-left-width"))-parseInt(G.container.css("border-right-width"));G.element.width(M);G.element.height(P)}else{G.container.css(G.actualPosition).css({width:G.actualWidth});G.element.height(G.actualHeight);G.element.css("width","")}if(I){G._triggerEvent(D?"RESTORE":"ONMAXIMIZE",F,{from:"maximize"})}};if(!D){this.actualPosition=this.container.position();this.actualHeight=this.element.height()}this.container.css({top:"",left:"",width:"",height:""});var J=this.options.animation;if(!D&&J.maximize){this._animateAction(J,"maximize",H)}else{if(D&&J.maximizeRestore){this._animateAction(J,"maximizeRestore",H)}else{H()}}},_bindEvents:function(){var E=this,D=this.componentName;this.container.on("keydown."+D,function(G){if((G.metaKey||G.ctrlKey)&&G.keyCode===77&&E._minimizeButton){E._minimizeButton.trigger("click");G.preventDefault();G.stopPropagation();return }if(B.activeDialog&&B.activeDialog[0]!==E.container[0]){B.activeDialog=E.container}if(G.keyCode===B.keyCode.ESCAPE&&E.options.closeOnEscKey){var H=E.container.find(".zdialog__footer .h--clickonescape");if(H.length){H.focus();H.trigger("click")}else{E.close(G)}G.stopPropagation()}else{if(G.keyCode===B.keyCode.TAB){G.preventDefault()}else{if(G.keyCode===B.keyCode.ENTER){var I=".zbutton:not(.zbutton--menu), input:not(.ztokenfield):not(.zsuggestfield-element)";if(C(G.target).closest(I).length){var F=E.container.find(".zdialog__footer").find(E.options.defaultActionButton);if(F.length&&C(G.target).closest("button")[0]!==F[0]){C(F[0]).focus();C(F[0]).trigger("click")}}}}}}).on("focus."+D,function(F){if(B.activeDialog&&B.activeDialog[0]!==E.container[0]){B.activeDialog=E.container}});B.$window.off("resize."+D).on("resize."+D,function(F){if(E.options.position==="center"&&F.originalEvent.type==="resize"&&!E.isMinimized()&&!E.isMaximized()){E._positionDialog();E.container.css(E._dialogPosition)}})},open:function(D){if(this.isMinimized()){this._toggleMinimize({},this._minimizeButton,false);return }if(this.isMaximized()){this._toggleMaximize({},this._maximizeButton,false);return }if(!this.container.attr("style")||(this.container.attr("style")&&this.container.attr("style").indexOf("width")===-1)){this.container.css({width:"auto"});if(this.options.width){this.container.css({width:this.options.width})}}this._positionDialog(D);this.container.css(this._dialogPosition);if(this.options.type==="modal"&&!this._overlay){this._createOverlay()}var G=this.options.animation;if(G||D&&D.animation){var F=G?G:D.animation,E=this;this._animateAction(F,"open",function(){E._handleDialogOpen()},true)}else{this.container.show();this._handleDialogOpen()}},_handleDialogOpen:function(){B.zIndex=this.options.zIndex?B.zIndex:B.zIndex+1;this.container.css({zIndex:this.options.zIndex?parseInt(this.options.zIndex):B.zIndex});ZFocusHandler.init(this.container,this.options.excludeFocus);if(!this._isComponentInited){this._isComponentInited=true;B.init(this.element)}this.actualWidth=parseFloat(this.container.css("width"));this.actualHeight=this.element.height();this.actualPosition=this.container.position();this.container.attr("aria-expanded",true);this._triggerEvent("ONOPEN",{},{position:this.actualPosition});B.activeDialog=this.container},_createOverlay:function(){B.zIndex+=1;this._overlay=C("<div class='zdialog--overlay "+this.options.overlayClassName+"' ></div>").css("zIndex",B.zIndex);C("body").append(this._overlay.append(this.container));this._hideDocumentScroll(true);var D=this;this._overlay.attr("tabindex",1).on("keydown."+this.componentName,function(E){if(E.keyCode===B.keyCode.ESCAPE&&D.options.closeOnEscKey){D.close(E,{overlay:true})}else{if(E.keyCode===B.keyCode.TAB){E.preventDefault()}}})},_positionDialog:function(F){var M=0,G=0,O=this.container.is(":visible");if(!O){this.container.show()}if(this.options.height){this.container.height(this.options.height);var I=this.container.outerHeight(true),Q=parseInt(this.element.height()),T=parseInt(this.element.css("padding-top").split("px")[0]),J=parseInt(this.element.css("padding-bottom").split("px")[0]),N=this._titleBar!==undefined?parseInt(this._titleBar.outerHeight(true)):0,W=this.container.find(".zdialog__footer").length?this.container.find(".zdialog__footer").outerHeight(true):0,U=this.container.find(".zdialog__footnote").length?this.container.find(".zdialog__footnote").outerHeight(true):0;Q=I-(T+J+N+W+U+parseInt(this.container.css("border-top-width"))+parseInt(this.container.css("border-bottom-width"))+parseInt(this.element.css("margin-top"))+parseInt(this.element.css("margin-bottom")));this.element.height(Q);this.container.css("height","auto")}var R=this.container.outerWidth(true),P=this.container.outerHeight(true),V=B.windowObject.width,L=B.windowObject.height;if(F&&F.position){this.options.position=F.position}M=(L/2-P/2)-window.pageYOffset;G=(V/2-R/2)-window.pageXOffset;if(F&&F.target){var H=C(F.target).offset();M=H.top+C(F.target).outerHeight(true);G=H.left}else{if(typeof this.options.position==="string"){if(this.options.position==="golden-mean"){var E=1.618,K=L/2,S=K-(K/E);M=S-(parseFloat(P/2))+window.pageYOffset;G=V/2+window.pageXOffset-parseFloat(R/2)}else{if(this.options.position!=="center"){var D=this.options.position.split(",");M=D[1]?D[1]:M;G=D[0]?D[0]:G}}}else{if(typeof this.options.position==="object"){M=this.options.position.top?this.options.position.top:M;G=this.options.position.left?this.options.position.left:G}}}if(M<0){M=0}else{if(M>=B.documentObject.height){M=B.documentObject.height-this.container.outerHeight(true)}}if(G<0){G=0}else{if(G>B.documentObject.width){G=B.documentObject.width-this.container.outerWidth(true)}}if(!O){this.container.hide()}this._dialogPosition={top:M,left:G}},close:function(E,G,H){E=(E===undefined)?{}:E;var D=!H?this._triggerEvent("BEFORECLOSE",E):true;if(D){if(this.options.animation){var F=this;this._animateAction(this.options.animation,"close",function(){F._handleDialogClose(E,G,H)})}else{this._handleDialogClose(E,G,H)}}},_close:function(D,E,F){this._overlay&&this._overlay.length&&this._overlay.remove();this._overlay=undefined;if(!C("body").find(".zdialog--overlay").length){this._hideDocumentScroll(false)}B.zIndex=B.zIndex-1;if(!F){this._triggerEvent("ONCLOSE",D,E)}},_handleDialogClose:function(D,F,G){this.container.hide();this.container.attr("aria-expanded",false);if(this.options.type==="modal"&&this._overlay){C("body").append(this.container);if(this._overlay.is(":visible")){var E=this;this._overlay.fadeOut(50,this._close.bind(E,D,F,G))}else{this._close(D,F,G)}}else{B.zIndex=B.zIndex-1;if(!G){this._triggerEvent("ONCLOSE",D,F)}}if(B.activeDialog&&B.activeDialog[0]===this.container[0]){B.activeDialog=undefined}},isMinimized:function(){return this.container.is(".zdialog--minimized")},isMaximized:function(){return this.container.is(".zdialog--maximized")},refreshContent:function(D){return ZFocusHandler.refresh(this.container,this.options.excludeFocus,D)},minimize:function(){if(!this.isMinimized()&&this.options.minimizable){this._toggleMinimize({},this._minimizeButton,false)}},restore:function(D){if(this.isMinimized()){this._toggleMinimize({},this._minimizeButton,D)}if(this.isMaximized()){this._toggleMaximize({},this._maximizeButton,D)}},disableButton:function(D,E,F){this._toggleButton(D,"disabled",true)},enableButton:function(D){this._toggleButton(D,"disabled",false)},_toggleButton:function(D,F,G){var E=D==="minimize"?this._minimizeButton:(D==="maximize"?this._maximizeButton:this._closeButton);if(E){if(G){E.attr("disabled",true).removeAttr("title");E.addClass("is-disabled")}else{E.removeAttr("disabled").attr("title",this.options.maximizeButtonLabel||this._localize("maximize"));E.removeClass("is-disabled")}}},_triggerEvent:function(D,E,F){F=C.extend({},{dialog:this.container,wrapper:this.container},F);return this._dispatchEvent(D,E,F)},maximize:function(){if(!this.isMaximized()&&this.options.maximizable){this._toggleMaximize({},this._maximizeButton,false)}},getElement:function(){return this.container},setButtonAttributes:function(D,E,G){var F=this;if(typeof D!=="string"){return C.each(D,function(H,I){F.setButtonAttributes(I.id,I)})}if(typeof E==="object"){return C.each(E,function(H,I){F.setButtonAttributes(D,H,I)})}D=D.split(",");C.each(D,function(I,J){var H=F.container.find(".zdialog__footer").find("#"+J);switch(E){case"id":H.attr("id",G);break;case"text":H.find(".zbutton__text").text(G);break;case"appearance":if(G==="primary"){H.addClass("zbutton--primary")}else{H.removeClass("zbutton--primary")}break;case"disabled":if(G){H.attr("disabled",true).addClass("is-disabled")}else{H.removeAttr("disabled").removeClass("is-disabled")}break;case"customAttributes":H.attr(G);break;case"actionInProgress":if(C.fn.zbutton){H.zbutton("setAttribute","actionInProgress",G)}break;case"progressIndicator":if(C.fn.zbutton){H.zbutton("setAttribute","progressIndicator",G)}break}});this.refreshContent()},destroy:function(){ZFocusHandler.destroy(this.container);this.element.removeClass("zdialog__content").appendTo("body");if(this._overlay&&this._overlay.length){this._overlay.remove();this._overlay=undefined}if(this.options.title){this.element.attr("title",this.options.title)}this.element.off("."+this.componentName).removeData("zdialog").css("width","auto").hide();this.container.removeAttr("role aria-modal aria-expanded").remove()},setAttribute:function(E,H){if(E==="title"&&this.options.title!==H){if(this.options.title){if(!H){this._titleBar.remove();this._titleBar=undefined}else{var I=this._titleBar.find(".zdialog__title");I.html((this.options.isHTMLEncoded||this.options.isTitleHTMLEncoded)?H:B.encodeHTML(H))}}else{this.options.title=H;var D=C("<span></span>").attr("class","zdialog__title");D.html((this.options.isTitleHTMLEncoded||this.options.isHTMLEncoded)?H:B.encodeHTML(H));this._titleBar.prepend(D);if(this.options.icon){this.element.find(".zc-icon-primary").remove()}}}else{if(E==="icon"&&this.options.icon!==H){if(this.options.icon){if(!H){this._iconSpan.remove();this._iconSpan=undefined}else{this._iconSpan.removeClass(this.options.icon).addClass(H)}}else{this._iconSpan=C("<span class='zc-icon-primary zc-icon "+H+"'></span>");(this._titleBar!==undefined)?this._titleBar.prepend(this._iconSpan):this.element.prepend(this._iconSpan)}}else{if(E==="content"&&this.options.content!==H){this.element.empty();if(typeof H==="object"){var G=this;C.ajax(H).success(function(K){G.element.append(K)})}else{this.element.html((this.options.isHTMLEncoded||this.options.isContentHTMLEncoded)?H:B.encodeHTML(H))}}else{if(E==="closeOnEscKey"&&this.options.closeOnEscKey!==H){H?this._bindEvents():this.container.off("."+this.componentName)}else{if(E==="width"&&this.options.width!==H){this.container.css({width:H});this.actualWidth=parseInt(H)}else{if(E==="height"&&this.options.height!==H){this.element.css("height",H);this.actualHeight=parseInt(H)}else{if(E==="type"&&this.options.type!==H&&this.container.is(":visible")){if(H==="modal"){this._createOverlay()}else{C("body").append(this.container);this._overlay.remove();this._overlay=undefined}this.container.attr("aria-modal",H==="modal")}else{if(E==="closeButton"&&this.options.closeButton!==H){if(!H){this._titleBarButtonContainer.remove();this._closeButton=this._minimizeButton=this._maximizeButton=undefined}else{this._createTitleBarButtons();this.refreshContent()}}else{if(E==="closeSVGIconId"||E==="closeIconClassName"&&this._closeButton){this.options[E]=H;var J=this._closeButton.find(".zbutton__icon"),F={props:{"class":"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)","class":"st0",width:"13",height:"1.1"}},{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)","class":"st0",width:"13",height:"1.1"}}]};this._handleIcon(J,F,"close",this.options.closeIconClassName,this.options.closeSVGIconId)}else{if(E==="className"&&this.options.className!==H){this.container.removeClass(this.options.className).addClass(H)}else{if(E==="overlayClassName"&&this.options.overlayClassName!==H){this._overlay&&this._overlay.removeClass(this.options.overlayClassName).addClass(H)}else{if(E==="minimizable"&&this.options.minimizable!==H&&this.options.closeButton&&this.options.type!=="modal"){if(!H){this._minimizeButton.remove();this._minimizeButton=undefined}else{this.options.minimizable=H;this._minimizeButton=this._createMinimizeButton();this._titleBarButtonContainer.prepend(this._minimizeButton)}this.refreshContent()}else{if(E==="maximizable"&&this.options.maximizable!==H&&this.options.closeButton){if(!H){this._maximizeButton.remove();this._maximizeButton=undefined}else{this.options.maximizable=H;this._maximizeButton=this._createMaximizeButton();this._minimizeButton?this._maximizeButton.insertAfter(this._minimizeButton):this._titleBarButtonContainer.prepend(this._maximizeButton)}this.refreshContent()}else{if(E==="resizable"&&this.options.resizable!==H){if(typeof H==="object"){this.container.zresizable("setAttribute","minHeight",H.minHeight?H.minHeight:this.options.resizable.minHeight);this.container.zresizable("setAttribute","maxHeight",H.maxHeight?H.maxHeight:this.options.resizable.maxHeight);this.container.zresizable("setAttribute","minWidth",H.minWidth?H.minWidth:this.options.resizable.minWidth);this.container.zresizable("setAttribute","maxWidth",H.maxWidth?H.maxWidth:this.options.resizable.maxWidth);this.container.zresizable("setAttribute","handle",H.direction?H.direction:this.options.resizable.direction);this.container.zresizable("setAttribute","container",H.container?H.container:this.options.resizable.container)}else{if(H&&C.fn.zresizable){this._makeResizable()}else{this.container.zresizable("destroy")}}}else{if(E==="draggable"&&this.options.draggable!==H){if(C.fn.zdraggable){H?this._makeDraggable():this.container.zdraggable("destroy")}}else{if(E==="buttons"){if(this.options.buttons){this.container.find(".zdialog__footer").remove()}if(H!==undefined){this.options.buttons=H;if(this.options.footer){this._createButtonPane().insertBefore(this._footer)}else{this.container.append(this._createButtonPane())}}this.refreshContent()}else{if(E==="position"&&this.options.position!==H){this.options.position=H;this._positionDialog();this.container.css(this._dialogPosition)}else{if(E==="footer"&&this.options.footer!==H){if(H!==""&&H.trim()!==""){this._createFooterMessage(H).insertAfter(this.container.find(".zdialog__footer").length?this.container.find(".zdialog__footer"):this.container.find(".zdialog__content"))}else{this.container.find(".zdialog__footnote").remove()}}else{if(E==="buttonsAlignment"&&this.options.buttonsAlignment!==H){this.container.find(".zdialog__footer").removeClass(this._ALIGNMENTS[this.options.buttonsAlignment]).addClass(this._ALIGNMENTS[H])}}}}}}}}}}}}}}}}}}}this.options[E]=H}};B.registerComponent("zdialog",A);B.createDialog=function(E){var D=C("<div>").attr("id",E.id);D.appendTo("body");return D.zdialog(E)}})(ZComponents);var ZFocusHandler=(function(A){return{init:function(C,B){this._setInitialFocus(C,B);this._bindEvents(C,B)},_setInitialFocus:function(D,C){var F=D.find("input[tabindex]:not([tabindex=-1]):not([disabled]):not("+C+"),textarea[tabindex]:not([tabindex=-1]):not([disabled]):not("+C+"), button[tabindex]:not([tabindex=-1]):not([disabled]):not("+C+"), .zselectbox[tabindex]:not([tabindex=-1]):not([tabindex=0]):not("+C+"), li[tabindex]:not([tabindex=-1]):not([disabled]):not("+C+") ,a[tabindex]:not([tabindex=-1]):not([disabled]):not("+C+")").filter(":visible");if(!F.length){F=D.find("input:not([tabindex=-1]):not([disabled]):not("+C+"),label[tabindex]:not([tabindex=-1]):not([disabled]):not("+C+"),textarea:not([tabindex=-1]):not([disabled]):not("+C+"), button:not([tabindex=-1]):not([disabled]):not("+C+"), li:not([tabindex=-1]):not([disabled]):not("+C+"), .zselectbox:not([tabindex=-1]):not([disabled]):not("+C+"), a:not([tabindex=-1]):not([disabled]):not("+C+")").filter(":visible");if(!F.length){return }}var E=A(F.get(F.length-1)),B=E.prop("tabindex");F.each(function(H,G){if(A(G).prop("tabindex")<B){E=A(G);B=A(G).prop("tabindex")}});return E.focus()},_getNextTabElement:function(F,H,D,G,E){var C=A(G.toArray()),B=(C.eq((C.index(F)+H)%C.length));if(B.hasClass("zselectbox")){if(B.hasClass("zselectbox")){B.prev().zcombobox("setFocus")}else{B.prev().zselectbox("setFocus")}}if(B.is("[disabled],:hidden")){this._getNextTabElement(F,(E.shiftKey)?H-1:H+1,D,G,E)}else{B.focus()}},_bindEvents:function(C,B){var D=this,E=C.find("input:not([tabindex=-1]):not("+B+"),label[tabindex]:not([tabindex=-1]):not("+B+"), textarea:not([tabindex=-1]):not("+B+"), li:not([tabindex=-1]):not("+B+"), button:not([tabindex=-1]):not("+B+"), .zselectbox:not([tabindex=-1]):not("+B+"), a:not([tabindex=-1]):not("+B+")");E.on("keydown.zfocushandler",function(F){if(F.which===ZComponents.keyCode.TAB){if(F.target===E.last()){E.get(0).focus()}else{var G=(F.shiftKey)?-1:1;D._getNextTabElement(A(this),G,C,E,F)}}});C.off("keydown.zfocushandler").on("keydown.zfocushandler",function(F){if(A(F.target).is(".zdialog")&&F.which===ZComponents.keyCode.TAB){E.get(0).focus()}})},_unbindEvents:function(B){var C=B.find("input:not([tabindex=-1]), textarea:not([tabindex=-1]), button:not([tabindex=-1]), .zselectbox:not([tabindex=-1]), a:not([tabindex=-1])");C.off("keydown.zfocushandler")},destroy:function(B){this._unbindEvents(B)},refresh:function(C,B,D){this._unbindEvents(C);this._bindEvents(C,B);D&&this._setInitialFocus(C,B)}}})(jQuery);(function(B){var C=B.DOMUtil,A={_EVENTS:{START:"start",END:"end",DRAG:"drag"},options:{addClasses:true,axis:false,ignore:"input,textarea,button,select,option",container:false,containerOffset:{left:0,top:0},cursor:undefined,disabled:false,handle:false,opacity:"auto",zIndex:false,revert:false},_create:function(){this._handle=this.options.handle?this.element.find(this.options.handle):this.element;this.options.addClasses&&this._handle.addClass("zdraggable");if(this.options.disabled){this._handle.addClass("is-disabled")}else{if(this._handle.length!==0){this._preserveValues();this._bindEvents()}}},_preserveValues:function(){this._prevOpacity=this.options.opacity?this.element.css("opacity"):1;this._prevPosition=this.options.revert?this.element.offset():{};this._prevCursor=this.element.css("cursor");this._prevZindex=this.options.zIndex?this.element.css("zIndex"):false},_bindHandleEvents:function(){var E=this,D=this.componentName;this._handle.on("mousedown."+D,function(F){if(!C(F.target).closest(E.options.ignore).length&&!E.options.disabled){E._mouseDown=true;E._mousex=F.pageX;E._mousey=F.pageY;E._dispatchEvent("START",F,{offset:E.element.offset(),position:E.element.position()})}}).on("mouseup."+D+" contextmenu."+D,function(F){if(E._mouseDown&&!E.options.disabled){E._resetValues(F)}})},_bindEvents:function(){var F=this,E=F.element,D=this.componentName;this._bindHandleEvents();B.$document.on("mousemove."+D,function(G){if(F._mouseDown&&!F.options.disabled){var L=E.offset(),H;if(F.options.container){if(typeof F.options.container==="string"){if(F.options.container==="window"){H=[C(window).scrollLeft(),C(window).scrollTop(),C(window).scrollLeft()+C(window).width(),C(window).scrollTop()+C(window).height()]}else{if(F.options.container==="document"){H=B.$document}else{if(F.options.container==="parent"){H=E.parent().is("body")?B.$document:E.parent();if(!E.parent().is("body")){L=E.position()}}}}}else{if(C.type(F.options.container)==="object"){H=F.options.container;L=E.position()}else{H=F.options.container}}}var J=(G.pageY-F._mousey)>=0?false:true,N=(G.pageX-F._mousex)>=0?true:false,M=L.top+G.pageY-F._mousey,K=L.left+G.pageX-F._mousex;M=(M<0)?-F.options.containerOffset.top:M;K=(K<0)?-F.options.containerOffset.left:K;if(H&&C.type(H)==="array"){var I=H;M=M<I[1]?I[1]:M;K=K<I[0]?I[0]:K;F._windowWidth=I[2];F._windowHeight=I[3]}else{F._windowWidth=H&&H.outerWidth()||B.$document.width();F._windowHeight=H&&H.outerHeight()||B.$document.height()}if(M+E.outerHeight()>F._windowHeight+F.options.containerOffset.top){M=F._windowHeight+F.options.containerOffset.top-(E.outerHeight()+parseInt(E.css("border")))}if(K+E.outerWidth()>F._windowWidth+F.options.containerOffset.left){K=F._windowWidth+F.options.containerOffset.left-(E.outerWidth()+parseInt(E.css("border")))}var O=(H==="parent"||C.type(H)==="object")?"css":"offset";if(F.options.axis==="x"){E[O]({left:K})}else{if(F.options.axis==="y"){E[O]({top:M})}else{E[O]({top:M,left:K})}}E.css({cursor:F.options.cursor,opacity:F.options.opacity,zIndex:F.options.zIndex});F._dispatchEvent("DRAG",G,{position:F.element.position(),offset:F.element.offset(),isUp:J,isRight:N});F._mousex=G.pageX;F._mousey=G.pageY;G.preventDefault()}}).on("mouseup."+D+" contextmenu."+D,function(G){if(F._mouseDown&&!F.options.disabled){F._resetValues(G)}})},_resetValues:function(D){this._mouseDown=false;this.options.opacity&&this.element.css("opacity",this._prevOpacity);this.options.cursor&&this.element.css("cursor",this._prevCursor);this.options.revert&&this.element.css({left:this._prevPosition.left,top:this._prevPosition.top});this.options.zIndex&&this.element.css("zIndex",this._prevZindex);if(D){this._dispatchEvent("END",D,{offset:this.element.offset(),position:this.element.position()})}},destroy:function(E){var D=this.componentName;this._handle.off("."+D).removeClass("zdraggable");B.$document.off("."+D);this.element.removeData("zdraggable")},setAttribute:function(D,E){if(D==="addClasses"&&E!==this.options.addClasses){this._handle[E?"addClass":"removeClass"]("zdraggable")}else{if(D==="handle"&&this.options.handle!==E){this._handle.off("."+this.componentName).removeClass("zdraggable");this._resetValues();this._handle=this.element.find(E);this._preserveValues();this._handle.addClass("zdraggable");this._bindHandleEvents()}else{if(D==="disabled"&&E!==this.options.disabled){this._handle[E?"addClass":"removeClass"]("is-disabled");this._handle[E?"removeClass":"addClass"]("zdraggable")}}}this.options[D]=E}};B.registerComponent("zdraggable",A)})(ZComponents);(function(C){var G=C.DOMUtil,E={options:{appearance:"normal",text:undefined,icon:undefined,iconClassName:undefined,SVGIconId:undefined,size:"medium",disabled:false,checked:false,actionInProgress:false,progressIndicator:{type:"circular",position:"left",direction:"left-to-right",loadingText:"",value:5,iconClassName:undefined,SVGIconId:undefined},constructButton:true,className:""},attributeList:["data-appearance","data-icon","data-text","data-size","data-disabled","disabled","data-action-in-progress","data-progress-indicator"],_EVENTS:{CLICK:"click",CHANGE:"change",STATECHANGE:"statechange"},_CIRCLEX:{medium:"8px",large:"10.5px",small:"7.5px",mini:"7px"},_CIRCLEY:{medium:"8px",large:"10.5px",small:"7.5px",mini:"7px"},_CIRCLER:{medium:"7",large:"9.5px",small:"6.5px",mini:"6px"},_create:function(){F._text===undefined&&H();this.options.icon=this.options.icons&&this.options.icons.primary||this.options.icon;this.options.disabled=this.element[0].disabled;this.options.checked=this.element[0].checked;this.element[0].setAttribute("role","button");this.container=this.element[0].tagName==="INPUT"?this._getLabelElement(this.element):this.element;this.options.constructButton&&this._construct();!this.element.attr("type")&&this.element.attr("type","button");this._checkAndDisable();this._bindEvents()},_construct:function(){this.options.text=this.options.text?this.options.text:(this.options.label?this.options.label:this.element.text().trim());if(this.options.text&&this.options.text!==""){var I=F._text.cloneNode();I.textContent=this.options.text;this.container[0].innerHTML="";this.container[0].appendChild(I)}if(this.options.icon||this.options.iconClassName||this.options.SVGIconId){this._setIcons()}this.container[0].className+=" zbutton "+(this.options.appearance!=="normal"?"zbutton--"+this.options.appearance:"")+" zbutton--"+this.options.size+" "+this.options.className;this.container[0].setAttribute("aria-label",this.options.text?this.options.text:this.element.attr("title"))},_setIcons:function(){if(this.options.actionInProgress&&this.container.find(".zeffects--rotate").length){return }this.container.find(".zbutton__mainicon").remove();var J=G("<i class='zbutton__icon zbutton__mainicon '></i>"),I=this._handleIcon(J,undefined,undefined,this.options.iconClassName,this.options.SVGIconId,this.options.icon);this.container.prepend(I);if((this.options.icon||this.options.iconClassName||this.options.SVGIconId)&&this.options.text===""){this.container[0].className+=" zbutton--icononly"}},_bindEvents:function(){var J=this,I=this.componentName;this.container.on("click."+I,function(K){if(!J.container.hasClass("is-disabled")){C.Browser.isFirefox()&&J.container.focus();if(J.options.actionInProgress){J.showProgressIndicator()}if(J.container.is("label")){J._check(true,K)}J._dispatchEvent("CLICK",K,{button:J.element})}});if(this._input){var J=this;this.container.off("keydown."+I).on("keydown."+I,function(L){if(L.keyCode===C.keyCode.ENTER||L.keyCode===C.keyCode.SPACE){J.container.trigger("click");L.preventDefault()}else{if(L.keyCode===C.keyCode.LEFT||L.keyCode===C.keyCode.DOWN){var M=J._input.attr("name"),K=J._input.prevAll("input[type=radio][name="+M+"]")[0];if(!K){K=J._input.nextAll("input[type=radio][name="+M+"]:last")}G("label[for='"+G(K).attr("id")+"']").trigger("click").trigger("focus")}else{if(L.keyCode===C.keyCode.RIGHT||L.keyCode===C.keyCode.UP){var M=J._input.attr("name");K=J._input.nextAll("input[type=radio][name="+M+"]")[0];if(!K){K=J._input.prevAll("input[type=radio][name="+M+"]:last")}G("label[for='"+G(K).attr("id")+"']").trigger("click").trigger("focus")}}}})}if(window.ZShortCut){ZShortCut.register(this.element)}},_checkAndDisable:function(){if(this.options.disabled){this.container.addClass("is-disabled").attr({"aria-disabled":true});if(!this.container.attr("disabled")){this.container[0].setAttribute("disabled",true)}}else{this.container.removeClass("is-disabled").removeAttr("aria-disabled");if(this.container.attr("disabled")){this.container.removeAttr("disabled")}}this._dispatchEvent("STATECHANGE",{},{button:this.element,disabled:this.options.disabled});if(this.options.checked){this.container.addClass("is-selected").prop("checked",true).attr("aria-checked",true);this._input.prop("checked",true)}else{this.container.removeClass("is-selected").removeAttr("checked aria-checked").prop("checked",false);this._input&&this._input.prop("checked",false)}},_check:function(L,J){if(!this.container.hasClass("is-disabled")){var K=this._input.attr("name"),I=G("input[type=radio][name="+K+"]");if(L&&this._input.attr("type")=="radio"){I.each(function(N,M){G(M).prop("checked",false).next("label").prop("checked",false);G(M).next(".zbutton").removeClass("is-selected");G(M).data("zbutton").options.checked=false})}C.Browser.isFirefox()&&this.container.focus();if(this._input.attr("type")==="radio"){this.options.checked=L}else{if(this.container.prop("checked")||!L){this.options.checked=false}else{if(L){this.options.checked=L}}}this._checkAndDisable();J&&this._dispatchEvent("CHANGE",J,{button:this.element})}},_getLabelElement:function(I){var J=I.next("label");if(!J.length){J=G("<label>").text(this.options.text).insertAfter(I);this._labelCreated=true}J.attr({"for":I.attr("id"),tabindex:0,"class":I.attr("class"),title:I.attr("title")?I.attr("title"):I.attr("data-title"),role:I.attr("type")});this._input=I.addClass("h-dnone");return J},_createLoaderElement:function(I){var N=G("<i class='zbutton__icon "+(I==="right"&&!this.container.is(".zbutton--icononly")?"h-floatright":"")+"'></i>"),J=this.options.progressIndicator,K=J.SVGIconId,L=J.iconClassName;if(K||L){this._handleIcon(N,undefined,undefined,L,K)}else{var M=C.createSVGElement("svg",{"class":"zbutton__svg zbutton__loader zeffects--rotate"},[{circle:{"class":"circle__track",cx:this._CIRCLEX[this.options.size],cy:this._CIRCLEY[this.options.size],r:this._CIRCLER[this.options.size]}},{circle:{"class":"circle__load",cx:this._CIRCLEX[this.options.size],cy:this._CIRCLEY[this.options.size],r:this._CIRCLER[this.options.size]}}]);N[0].appendChild(M)}return N},setProgressValue:function(I){if(this._progressElement){if(I>100){I=100}this._progressElement.css("width",parseInt(I)+"%");this.options.progressIndicator.value=I}},getProgressValue:function(){if(this._progressElement){return(100*parseFloat(this._progressElement.outerWidth(true)/(this.element.outerWidth(true)-parseInt(this.element.css("border"))*2)))}return 0},showProgressIndicator:function(L){var L=L||{},K=this.options.progressIndicator,N=(L.type||K.type),I=(L.position||K.position),O=(L.direction||K.direction),M=(L.loadingText||K.loadingText),J=(L.value||K.value);if(!this.container.find(".zbutton__loader").length){if(N==="circular"){if(this.options.icon||this.options.iconClassName||this.options.SVGIconId){if(I==="left"||this.container.is(".zbutton--icononly")){this.container.find("i:first").remove()}}this.container.prepend(this._createLoaderElement(I))}else{if(N==="linear-bar"){this._progressElement=G("<span class='"+(I==="top"?"zbutton__topline":"zbutton__bottomline")+"'/>");this.setProgressValue(J)}else{if(N==="linear-fill"){this._progressElement=G("<span class='"+(O==="right-to-left"?"zbutton__bgprogress--fromright":"zbutton__bgprogress")+"'/>");this.setProgressValue(J)}}}if(M!==""){this.container.find(".zbutton__text").text(M)}this.container.append(this._progressElement).addClass("is-disabled zbutton--loading h-transition");this.options.actionInProgress=true}},hideProgressIndicator:function(){if(this._progressElement){this._progressElement.remove();this._progressElement=undefined}if(this.options.icon||this.options.iconClassName||this.options.SVGIconId){this.container.find(".zbutton__icon").remove();if(!this.container.find(".zbutton__icon").length){this._setIcons()}}else{this.container.find(".zbutton__icon").remove()}this.container.removeClass("zbutton--loading h-transition");if(!this.options.disabled){this.container.removeAttr("disabled").removeClass("is-disabled")}if(this.options.text){this.container.find(".zbutton__text").text(this.options.text)}else{this.container.find(".zbutton__text").remove();(this.options.icon||this.options.iconClassName||this.options.SVGIconId)&&this.container.addClass("zbutton--icononly")}},destroy:function(){this._super();this.container.off("."+this.componentName).empty().removeClass("zbutton zbutton--icononly is-disabled is-selected");this.container.off("."+this.componentName);if(this._input){this._input.removeClass("h-dnone").removeData("zbutton");this._input=undefined;this._labelCreated&&this.container.remove()}return this.element.text(this.options.text).removeData("zbutton")},setAttribute:function(J,K){if(J==="appearance"&&K!==this.options.appearance){this.container.removeClass("zbutton--"+this.options.appearance).addClass("zbutton--"+K)}else{if((J==="text"||J==="label"||J==="data-text")&&K!==this.options.text){if(this.options.text&&this.options.text!==""){if(!this.options.actionInProgress){if(!K||K===""){this.container.find(".zbutton__text").remove();if(this.container.find("i").length&&(this.options.icon||this.options.iconClassName||this.options.SVGIconId)){this.container.addClass("zbutton--icononly")}}else{this.container.find(".zbutton__text").text(K)}}}else{var L=G("<span class='zbutton__text'>"+K+"</span>");if(!this.options.actionInProgress){if(this.container.find("i").length&&(this.options.icon||this.options.iconClassName||this.options.SVGIconId)){L.insertAfter(this.container.find(".zbutton__icon:first"))}else{L[this.container.find("i").length?"prependTo":"appendTo"](this.container)}this.container.removeClass("zbutton--icononly")}}}else{if((J==="size"||J==="data-size")&&K!==this.options.size){if(this.options.size){this.container.removeClass("zbutton--"+this.options.size)}this.container.addClass("zbutton--"+K);if(this.options.actionInProgress){K=K.trim()===""||K==="default"?"medium":K;this.container.find(".zbutton__loader circle").attr({cx:this._CIRCLEX[K],cy:this._CIRCLEY[K],r:this._CIRCLER[K]})}}else{if(J==="disabled"&&this.options.disabled!==K){if(typeof K==="string"){K=(K==="true"||K==="disabled")}this.options.disabled=K;this._checkAndDisable()}else{if((J==="icon"||J==="data-icon"||J==="iconClassName"||J==="SVGIconId")&&K!==this.options[J]){if(this.options.icon||this.options.iconClassName||this.options.SVGIconId){this.container.find("i:first").remove()}this.options[J]=K;K&&this._setIcons()}else{if(J==="checked"&&K!==this.options.checked){this._input&&this._check(K,undefined)}else{if(J==="actionInProgress"&&K!==this.options.actionInProgress){this.options[J]=K;if(K){this.showProgressIndicator()}else{this.hideProgressIndicator()}}else{if(J==="progressIndicator"){if(this.options.actionInProgress){var I=this.options;I.progressIndicator=G.extend({},I.progressIndicator,K);this.destroy();this.element.zbutton(I);this.showProgressIndicator()}}}}}}}}}this.options[J]=K}},B={options:{menuId:undefined,delay:0,showArrowIcon:true,arrowIconClassName:undefined,arrowSVGIconId:undefined,activeClass:"is-selected"},_construct:function(){this._super();this.element[0].className+=" zbutton--menu";this.element[0].setAttribute("aria-haspopup",true);var K=F._arrow.cloneNode();if(this.options.showArrowIcon){var I=this.options.splitbutton?"zbutton__svg zbutton__splitarrow":"zbutton__svg zbutton__menuarrow",J={props:{"class":I,viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{polygon:{points:"3.5,6.5 4.5,5.5 8,9 11.5,5.5 12.5,6.5 8,11"}}]};this._handleIcon(G(K),J,"arrow",this.options.arrowIconClassName,this.options.arrowSVGIconId);this.element[0].appendChild(K)}},destroy:function(){this._super();this.element.off("."+this.componentName).removeClass("zbutton--menu").removeData("zmenubutton").removeAttr("aria-haspopup")},_bindEvents:function(){var K=this,I=this.componentName,J=C.keyCode;this.element.on("mousedown."+I,function(L){if(!K.element.hasClass("is-disabled")){if(K.options.menuId&&G.fn.zmenu){if(K.options.delay){window.setTimeout(function(){K._showHideMenu()},K.options.delay)}else{K._showHideMenu()}}}}).on("click."+I,function(L){K._dispatchEvent("CLICK",L,{button:K.element})}).on("keydown."+I,function(M){var L=false;if(M.keyCode===J.DOWN||M.keyCode===J.UP||M.keyCode===J.LEFT||M.keyCode===J.RIGHT){var N=G("#"+K.options.menuId);L=true;if(N.is(":visible")){N.zmenu("handleKeyCode",M.keyCode,M)}else{if(M.keyCode===J.UP||M.keyCode===J.DOWN){K._showHideMenu()}}N.focus()}else{if((M.keyCode===J.ENTER||M.keyCode===J.SPACE)&&K.options.menuId&&G.fn.zmenu){if(document.activeElement===K.element[0]){L=true;K._showHideMenu()}}else{if(M.keyCode===J.ESCAPE||M.keyCode===J.TAB){G("#"+K.options.menuId).zmenu("hide")}}}if(L){M.preventDefault();M.stopPropagation()}});if(window.ZShortCut){ZShortCut.register(this.element)}},_showHideMenu:function(){var I=this,J=G("#"+this.options.menuId);if(!J.is(":visible")||(I.options.splitbutton&&J.data("forElement")&&J.data("forElement")[0]!==I.element.closest(".zbutton--split").get(0))||(!I.options.splitbutton&&J.data("forElement")&&J.data("forElement")[0]!==I.element.get(0))){J.zmenu("hide");J.on("zmenuhide",function(K){if(!I.options.splitbutton&&K.originalEvent){I.element.focus()}I.element.removeClass(I.options.activeClass)}).on("zmenubeforefocus",function(K){return false});J.zmenu();J.zmenu("show",{forElement:I.options.splitbutton?I.element.closest(".zbutton--split"):I.element});I.element.addClass(I.options.activeClass);C.$window.on("resize."+this.componentName,function(){J.zmenu("hide")})}else{I.element.removeClass(I.options.activeClass);J.zmenu("hide")}}},A={_initialShow:true,attributeList:["data-appearance","data-icon","data-text","data-size","data-disabled","disabled","data-menu-id"],options:{size:"medium",disabled:false,updateButtonOnMenuItemClick:true},_create:function(L,K){var N=L.attr("id"),O=undefined,J=L.next(),I=document.createElement("div");this.splitPair=I;I.setAttribute("class","zbutton--split "+K.className);I.setAttribute("role","splitbutton");if(K.appearance!=="primary"){I.className+=" zbutton--splitnormal"}if(N){I.setAttribute("id",N+"Container");O=N+"DropDown"}L[0].parentNode.insertBefore(I,L[0]);if(!K.menuId&&J.length&&J[0].tagName==="BUTTON"){J=J[0]}else{J=document.createElement("button");J.setAttribute("id",O)}this.menuButton=G(J);J.setAttribute("class","zbutton--icononly");var M={appearance:K.appearance,size:K.size,disabled:K.disabled!==undefined?K.disabled:false,delay:K.delay,splitbutton:true,showArrowIcon:K.showArrowIcon,arrowIconClassName:K.arrowIconClassName,arrowSVGIconId:K.arrowSVGIconId};I.appendChild(L[0]);I.appendChild(J);if(K.menuId){J.setAttribute("data-menu-id",K.menuId)}if(L.disabled){J.setAttribute("disabled",true)}if(K.splitbuttonAttributes){G(J).attr(K.splitbuttonAttributes)}if(K.appData){M.appData=K.appData}L.removeAttr("data-menu-id");K.className="";L.zbutton(K);this.element=L;G(J).zmenubutton(M);this.options=K;this._bindEvents();this.container=G(this.splitPair)},_bindEvents:function(){var I=this,J=G("#"+this.options.menuId);this.element.off("click.zbutton");G(this.splitPair).off("click.zbutton").on("click."+this.componentName,function(L){var K=G(L.target).closest(".zbutton"),M={dropdownButton:I.menuButton};if(K.hasClass("zbutton--menu")){M.isMenuButton=true}else{I.element.focus();G.fn.zmenu&&J.zmenu("hide")}I._dispatchEvent("CLICK",L,M)});if(window.ZShortCut){ZShortCut.register(this.element);ZShortCut.register(this.menuButton)}J.on("zmenubeforeshow",function(K,L){I.options.updateButtonOnMenuItemClick&&I._initialShow?I._hideMenuItem(I.options.menuId,true):G.noop}).on("zmenushow",function(L,M){if(J.data("forElement")[0]==I.splitPair){var K=M.menu.attr("class");if(K.match("top")){I.element.css("border-bottom-left-radius",window.getComputedStyle(I.splitPair,null).borderBottomLeftRadius);I.menuButton.css("border-bottom-right-radius",window.getComputedStyle(I.splitPair,null).borderBottomRightRadius)}else{if(K.match("bottom")){I.element.css("border-top-left-radius",window.getComputedStyle(I.splitPair,null).borderTopLeftRadius);I.menuButton.css("border-top-right-radius",window.getComputedStyle(I.splitPair,null).borderTopRightRadius)}}I._initialShow=false}}).on("zmenuhide",function(){I.element.css({"border-bottom-left-radius":"","border-top-left-radius":"","border-bottom-right-radius":"","border-top-right-radius":""});I.menuButton.css({"border-bottom-right-radius":"","border-top-right-radius":"","border-top-left-radius":"","border-bottom-left-radius":""})});if(this.options.updateButtonOnMenuItemClick){J.on("zmenuitemclick",function(N,O){var M=O.menu.data("zmenu").options,L=M.contentType,K=(I.options.icon||I.options.iconClassName||I.options.SVGIconId)&&I.element.data("zbutton").options.text?"icon-text":((I.options.icon||I.options.iconClassName||I.options.SVGIconId)?"icon":"text");if(L===K){I._hideMenuItem(I.options.menuId,false);J.zmenu("hideMenuItems",[O.menuitem]);if(I.options.icon||I.options.iconClassName||I.options.SVGIconId){I.setAttribute("icon",O.data.icon)}if(I.element.data("zbutton").options.text){I.setAttribute("text",O.data.label)}I._dispatchEvent("CHANGE",N,O)}})}},_hideMenuItem:function(N,L){var J=G("#"+N),P=this.element.data("zbutton").options.text,M=this.options.icon||this.options.iconClassName||this.options.SVGIconId,I=J.find("li");for(var K=0;K<I.length;K++){var O=this.getData(I[K]),Q=O.icon&&M?O.icon.indexOf(M)===0:true,R=O.label&&P?O.label===P:true;if(Q&&R){J.zmenu((L?"hideMenuItems":"showMenuItems"),[I[K]])}}},getElement:function(){return G(this.splitPair)},setAttribute:function(I,J){if(I==="disabled"||I==="menuId"||I==="data-menu-id"||I==="size"||I==="data-size"||I==="appearance"||I==="data-appearance"&&this.options[I]!==J){G(this.menuButton).zmenubutton("setAttribute",I,J);if(I==="appearance"){G(this.splitPair)[J==="primary"?"removeClass":"addClass"]("zbutton--splitnormal")}}this.options[I]=J;return this.element.zbutton(typeof I==="object"?"setAttributes":"setAttribute",I,J)},destroy:function(){this._super();G(this.menuButton).remove();this.element.unwrap().zbutton("destroy").removeData("zsplitbutton")}};var F={};function H(){F._text=document.createElement("span");F._label=document.createElement("label");F._arrow=document.createElement("i");F._text.className="zbutton__text";F._arrow.className="zbutton__icon h-floatright"}function D(K){var J=K.tagName?K.tagName:"button",I=document.createElement(J);I.setAttribute("id",K.id);if(K.customAttributes){G(I).attr(K.customAttributes)}if(K.appendTo){G(K.appendTo)[0].appendChild(I)}return G(I)[K.componentName](K)}C.createButton=function(I){I.componentName="zbutton";return D(I)};C.createSplitbutton=C.createSplitButton=function(I){I.componentName="zsplitbutton";return D(I)};C.createMenubutton=C.createMenuButton=function(I){I.componentName="zmenubutton";return D(I)};C.createUploadbutton=C.createUploadButton=function(I){I.componentName="zuploadbutton";I.tagName="input";I.customAttributes=I.customAttributes?I.customAttributes:{};I.customAttributes.type="file";return D(I)};C.registerComponent("zbutton",E);C.registerComponent("zmenubutton",G.zbutton,B);C.registerComponent("zsplitbutton",G.zbutton,A)})(ZComponents);(function(A){var B=A.DOMUtil;ZAlertDialog={position:"golden-mean",ANIMATION_EVENTS:"webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend transitionend",EFFECTS:{slide:{open:"slideDown",close:"slideUp"},fade:{open:"fadeIn",close:"fadeOut"}},_ALIGNMENTS:{left:"zdialogfooter--invert",right:"",center:"h-center"},DEFAULTS:{type:"custom",buttonsAlignment:"right",isHTMLEncoded:false,isTitleHTMLEncoded:false,isMessageHTMLEncoded:false,className:"",icon:undefined,draggable:true,labels:{cancel:"Cancel",no:"No",ok:"OK",yes:"Yes",close:"Close",help:"Help",suppressionMessage:"Do not show this message again."},closeIcon:undefined,helpIcon:undefined,OKButtonLabel:undefined,cancelButtonLabel:undefined,yesButtonLabel:undefined,noButtonLabel:undefined,closeButtonLabel:undefined,helpButtonLabel:undefined,suppressionDecisionBoxLabel:undefined},widgetName:"zalertdialog",open:function(D){var C=this;this.close({},{},function(){C._openDialog(D)})},_openDialog:function(C){this.options=B.extend(true,{},this.DEFAULTS,C);if((this.options.customAttributes&&window.sessionStorage.suppressAlertId&&(window.sessionStorage.suppressAlertId.indexOf(this.options.customAttributes.id)!==-1))||(window.sessionStorage.suppressAlert&&window.sessionStorage.suppressAlert!=="null")){C.suppressed&&C.suppressed();return }this._constructDialog();this._bindEvents();B("body").append(this.wrapper);this._positionDialog();this._createOverlay();this._openWithAnimation();var D=this;A.$window.off("resize.zalertdialog").on("resize.zalertdialog",function(E){if(D.wrapper&&D.wrapper.is(":visible")&&((D.options.position&&!D.options.position.length)||D.options.position==="center")&&E.originalEvent.type==="resize"){D._positionDialog()}})},_constructDialog:function(){this.wrapper=B("<div/>").attr({"class":"zdialog zdialog--alert "+this.options.className,tabIndex:-1,role:"alertdialog","aria-modal":true});if(this.options.customAttributes){this.wrapper.attr(this.options.customAttributes)}if(this.options.title||this.options.closeButton){this._createTitleBar();if(B.fn.zdraggable&&this.options.draggable){this._makeDraggable()}}if((this.options.primaryMessage&&this.options.primaryMessage.trim()!=="")||(this.options.secondaryMessage&&this.options.secondaryMessage.trim()!=="")){this._createContent()}this._createFooter()},_makeDraggable:function(){this.wrapper.zdraggable({ignore:".zdialog__actiongroup",handle:".zdialog__header",container:"window"})},_createTitleBar:function(){var D=B("<div/>").attr("class","zdialog__header");this.options.title&&D.append(B("<span/>").attr("class","zdialog__title").html((this.options.isHTMLEncoded||this.options.isTitleHTMLEncoded)?this.options.title:A.encodeHTML(this.options.title)));if(this.options.closeButton){var G=B("<div class='zdialog__actiongroup'></div>"),C=B("<button>").attr({"class":"zbutton zbutton--action",title:this.options.closeButtonLabel||this._getString("close")}),F=this;C.on("click."+this.widgetName,function(I){F.close(I,{button:C,buttonType:"CLOSE",closeButton:true})});var H=B("<i class='zbutton__icon'></i"),E={props:{"class":"zbutton__svg",viewBox:"0 0 16 16",width:"100%",height:"100%"},nodes:[{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 -0.7071 0.7071 0.7071 -3.3137 8)","class":"st0",width:"13",height:"1.1"}},{rect:{x:"1.5",y:"7.4",transform:"matrix(0.7071 0.7071 -0.7071 0.7071 8 -3.3137)","class":"st0",width:"13",height:"1.1"}}]};A._handleIcon(H,E,"close",this.options.closeIconClassName,this.options.closeSVGIconId);C.append(H);D.append(G.append(C))}this.wrapper.append(D)},_createContent:function(){var H=B("<div class='zdialog__content'/>"),D=B("<div class='zdialog__description'></div>"),J=B("<i class='zdialog__icon'></i>"),F=this._getIcon(J);if(F&&F!==undefined&&F!==""){var C=B("<div class='zdialog__alerticon'></div>");H.append(C.append(J))}if(this.options.primaryMessage){D.append(B("<div class='zdialog__primarytext'>").html((this.options.isHTMLEncoded||this.options.isMessageHTMLEncoded)?this.options.primaryMessage:A.encodeHTML(this.options.primaryMessage)))}if(this.options.secondaryMessage){D.append(B("<div class='zdialog__secondarytext'>").html((this.options.isHTMLEncoded||this.options.isMessageHTMLEncoded)?this.options.secondaryMessage:A.encodeHTML(this.options.secondaryMessage)))}H.append(D);if(this.options.suppressionDecisionBox){var I=B("<div class='zdialog__suppression'></div>"),G=this,E=B("<div class='zcheckbox'><input id='zalert__suppression--box' type='checkbox' class='zcheckbox__helper'/><label for='zalert__suppression--box' class='zcheckbox__label'>"+(this.options.suppressionDecisionBoxLabel||this._getString("suppressionMessage"))+"</label></div>");H.append(I.append(E));E.find("#zalert__suppression--box").on("change",function(L){var K=B("#zalert__suppression--box").prop("checked"),N=window.sessionStorage.getItem("suppressAlertId"),M=G.wrapper.attr("id");if(K){K="true";if(M){K=N!=null?N+","+M:","+M}}else{K=null;if(M){K=N!==null?N.replace(","+M,""):undefined}}window.sessionStorage.setItem("suppressAlertId",K)})}this.wrapper.append(H)},_clickHandler:function(F){var G=this;var C=B(F.target).closest(".zbutton");var D=C.data("metadata");var E={button:C,properties:D,buttonOptions:D};if(D.action&&typeof D.action!=="string"){D.action(F,E)}else{G.close(F,E)}F.stopPropagation();F.preventDefault()},_createFooter:function(){var E=B("<div/>").attr({"class":"zdialog__footer "+this._ALIGNMENTS[this.options.buttonsAlignment],tabIndex:-1}),D=this._getButtonPanelElements(),G=this;for(var C=0;C<D.length;C++){var I=B("<button>");D[C].customAttributes&&I.attr(D[C].customAttributes);if(D[C].id){I.attr("id",D[C].id)}D[C].name&&I.attr("name",D[C].name);I.data("metadata",D[C]).addClass(D[C].appearance==="primary"?"zbutton zbutton--primary":"zbutton").append(B("<span/>").attr("class","zbutton__text").text(D[C].text)).attr("data-text",D[C].text.toLowerCase());if(D[C].action==="CANCEL"){I.addClass("h--clickonescape")}I.on("click."+this.widgetName,G._clickHandler.bind(this));E.append(I)}if(this.options.helpButton){var H=B("<button class='zbutton zbutton--help' title='"+(this.options.helpButtonLabel||this._getString("help"))+"'></button>"),G=this,J=B("<i class='zdialog__icon'></i>"),F={props:{"class":"zdialog__svg grayscale",viewBox:"0 0 48 48",width:"100%",height:"100%"},nodes:[{g:{nodes:[{path:{d:"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24C48,10.8,37.3,0,24,0z M24,44.1c-11,0-20-9-20-20s9-20,20-20s20,9,20,20C44,35.2,35,44.1,24,44.1z"}},{g:{nodes:[{path:{d:"M22.8,31.9c-1.7,0-2.6,0.9-2.6,2.7c0,0.9,0.2,1.5,0.7,2c0.4,0.5,1.1,0.7,1.9,0.7c0.8,0,1.5-0.2,1.9-0.7c0.5-0.5,0.7-1.1,0.7-2c0-0.8-0.2-1.5-0.7-2C24.3,32.2,23.6,31.9,22.8,31.9z"}},{path:{d:"M29.3,12.4c-1.3-1.1-3.2-1.7-5.5-1.7s-4.4,0.5-6.5,1.4c-1.1,0.5-0.6,1.7-0.6,1.7l0.5,1c0,0,0.5,0.9,1.7,0.5l0,0c0.5-0.2,1-0.4,1.5-0.6c0.9-0.3,2-0.5,3.1-0.5c1.2,0,2.2,0.3,2.8,0.8c0.7,0.5,1,1.3,1,2.3c0,0.8-0.2,1.6-0.6,2.2c-0.4,0.6-1.3,1.5-2.7,2.6c-1.2,0.9-2,1.8-2.5,2.7c-0.5,0.9-0.7,1.9-0.7,3.2c0,0.9,1.1,1.1,1.1,1.1h0.7c0,0,1.4,0,1.6-1.2l0,0c0-0.8,0.2-1.4,0.5-1.8c0.4-0.6,1.1-1.3,2.2-2.1c1.3-1,2.2-1.8,2.7-2.4s0.9-1.3,1.2-2s0.4-1.5,0.4-2.3C31.4,15.1,30.7,13.5,29.3,12.4z"}}]}}]}}]};A._handleIcon(J,F,"help",this.options.helpIconClassName,this.options.helpSVGIconId);H.append(J);if(this.options.helpButton.customAttributes){H.attr(this.options.helpButton.customAttributes)}H.on("click",function(){G.options.helpButton.action&&G.options.helpButton.action()});E.prepend(H)}this.wrapper.append(E)},_createCommandBar:function(E,J){var H=this.options.commandBar,D=B("<div class='zalertdialog__commandbar zalertdialog__footer' ></div>");if(H.leftColumn){var C=B("<div class='zalertdialog__commandbaractionsleft'></div>"),L=H.leftColumn.commands;H.leftColumn.className&&C.addClass(H.leftColumn.className);for(var F=0;F<L.length;F++){C.append(E.find(".zbutton[name="+L[F]+"]"))}D.append(C)}if(H.centerColumn){var I=B("<div class='zalertdialog__commandbaractionscenter'></div>"),K=H.centerColumn.commands;H.centerColumn.className&&I.addClass(H.centerColumn.className);for(var F=0;F<K.length;F++){I.append(E.find(".zbutton[name="+K[F]+"]"))}D.append(I)}if(H.rightColumn){var G=B("<div class='zalertdialog__commandbaractionsright'></div>"),M=H.rightColumn.commands;H.rightColumn.className&&G.addClass(H.rightColumn.className);for(var F=0;F<M.length;F++){G.append(E.find(".zbutton[name="+M[F]+"]"))}D.append(G)}this.wrapper.find(".zdialog__footer").remove();this.wrapper.append(D);return D},_getString:function(C){return A.getI18NText("zalertdialog",C,this.options.labels,[])},_getButtonPanelElements:function(){var H={CANCEL:{actionType:"CANCEL",id:"zc-zdialog-cancel",text:this.options.cancelButtonLabel||this._getString("cancel"),action:"CANCEL",name:"cancel",isCancel:true},OK:{actionType:"OK",id:"zc-zdialog-ok",text:this.options.OKButtonLabel||this._getString("ok"),appearance:"primary",name:"ok"},NO:{actionType:"NO",id:"zc-zdialog-no",text:this.options.noButtonLabel||this._getString("no"),action:"CANCEL",isCancel:true,name:"no"},YES:{actionType:"YES",id:"zc-zdialog-yes",text:this.options.yesButtonLabel||this._getString("yes"),appearance:"primary",name:"yes"}};var I={mac:{CANCEL:H.CANCEL,OK:H.OK,NO:H.NO,YES:H.YES},windows:{OK:H.OK,CANCEL:H.CANCEL,YES:H.YES,NO:H.NO}},E=this.options,D=this.options.buttonsOrder;if(!D){D=A.Browser.isWindows()?"windows":"mac"}H=I[D];switch(E.type){case"custom":case"confirm":if(!this.options.buttons){return[H.CANCEL,H.OK]}default:if(typeof E.buttons==="string"){var C=[],F=0,G=E.buttons.split("-");B.each(H,function(J,K){if(G.indexOf(J.toLowerCase())!==-1){C[F]=H[J];F++}});return C}else{if(typeof E.buttons==="object"){return E.buttons}}return[H.OK]}},_getIcon:function(E){if(this.options.icon||this.options.iconClassName||this.options.SVGIconId){return A._handleIcon(E,undefined,undefined,this.options.iconClassName,this.options.SVGIconId,this.options.icon)}else{var D={props:{viewBox:"0 0 48 48",width:"100%",height:"100%"}},C=this.options.type;if(C==="success"){D.props["class"]="zdialog__svg successcolor";D.nodes=[{g:{nodes:[{path:{d:"M41.2,7.2C31.9-2.3,16.7-2.5,7.3,6.8c-9.5,9.3-9.7,24.5-0.4,33.9c9.3,9.5,24.5,9.7,33.9,0.4C50.3,31.9,50.4,16.7,41.2,7.2z M37.9,38.2c-7.9,7.7-20.5,7.6-28.2-0.3S2.1,17.4,10,9.7S30.5,2.1,38.2,10C45.9,17.8,45.8,30.5,37.9,38.2z"}},{path:{d:"M36,19.3L23.1,32.2c-1.1,1.1-2.9,1.1-4,0l-1-1l-4.5-4.6c-0.2-0.2-1-1.1-0.1-2l1.1-1.1c0.8-0.8,1.6-0.3,1.9,0l4.6,4.7l12-11.8c0.2-0.2,1.1-1,2-0.1l1.1,1.1C36.8,18.2,36.3,18.9,36,19.3z"}}]}}]}else{if(C==="info"){D.props["class"]="zdialog__svg infocolor";D.nodes=[{g:{nodes:[{g:{nodes:[{path:{d:"M23.9,17.4c1.5,0,2.5-1.1,2.4-2.3c0-1.3-0.9-2.4-2.3-2.4s-2.4,1.1-2.4,2.4C21.6,16.3,22.6,17.4,23.9,17.4z"}},{path:{d:"M26.2,35.5V21.8c0-1.2-1.4-1.3-1.8-1.3h-0.7c0,0-1.7,0-1.7,1.1v14.3c0,0.3,0.2,0.9,1.3,0.9h1.6C25.3,36.7,26.2,36.5,26.2,35.5z"}}]}},{path:{d:"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24S37.3,0,24,0z M24,44C13,44,4,35,4,24S13,4,24,4s20,9,20,20S35,44,24,44z"}}]}}]}else{if(C==="error"){D.props["class"]="zdialog__svg errorcolor";D.nodes=[{path:{d:"M41.2,7.2C31.9-2.2,16.7-2.5,7.3,6.9c-9.5,9.3-9.7,24.5-0.4,33.9c9.3,9.5,24.5,9.7,33.9,0.4C50.3,31.9,50.4,16.8,41.2,7.2z M37.9,38.2C30,46,17.4,45.9,9.7,38S2.1,17.5,10,9.8S30.5,2.1,38.2,10C45.9,17.9,45.8,30.5,37.9,38.2z"}},{path:{d:"M31.7,17.5l-1.1-1.1c-0.8-0.8-1.7-0.1-2,0.1L24,21l-4.6-4.7c-0.3-0.3-1.1-0.8-1.9,0l-1.1,1.1c-0.8,0.8-0.1,1.7,0.1,2L21,24l-4.7,4.6c-0.9,0.9-0.3,1.6-0.1,1.8l1.3,1.3c0.2,0.2,0.9,0.8,1.8-0.1L24,27l4.6,4.7c0.9,0.9,1.6,0.3,1.8,0.1l1.3-1.3c0.2-0.2,0.8-0.9-0.1-1.8L27,24l4.7-4.6C32,19.1,32.5,18.4,31.7,17.5z"}}]}else{if(C==="warning"){D.props["class"]="zdialog__svg warningcolor";D.nodes=[{g:{nodes:[{path:{d:"M47.3,36.6L27.7,2.5c-0.9-1.4-2.4-2.2-3.9-2.1c-1.6,0-2.9,0.9-3.7,2.2L0.7,36.5c-0.9,1.3-1,3-0.2,4.4c0.8,1.5,2.3,2.4,4,2.4h39c1.6,0,3.1-0.8,3.9-2.2C48.2,39.7,48.2,38,47.3,36.6z M43.9,39.2c-0.1,0.1-0.2,0.2-0.4,0.2h-39c-0.3,0-0.4-0.2-0.5-0.3c-0.1-0.2,0-0.3,0-0.4L23.5,4.6c0,0,0.1-0.2,0.3-0.2c0,0,0,0,0,0c0.1,0,0.3,0,0.4,0.2l19.6,34C44,38.8,44,39,43.9,39.2z"}}]}},{path:{d:"M24.1,28.4L24.1,28.4c-0.8,0-1.3-0.4-1.4-1l-1-10c-0.1-1.1,1-2,2.4-2l0,0c1.4,0,2.5,0.9,2.4,2l-1,10C25.4,27.9,24.9,28.4,24.1,28.4z"}},{circle:{cx:"24",cy:"33.4",r:"2"}}]}else{if(C==="confirm"){D.props["class"]="zdialog__svg helpcolor";D.nodes=[{g:{nodes:[{path:{d:"M24,0C10.7,0,0,10.7,0,24s10.7,24,24,24s24-10.7,24-24C48,10.8,37.3,0,24,0z M24,44.1c-11,0-20-9-20-20s9-20,20-20s20,9,20,20C44,35.2,35,44.1,24,44.1z"}},{g:{nodes:[{path:{d:"M22.8,31.9c-1.7,0-2.6,0.9-2.6,2.7c0,0.9,0.2,1.5,0.7,2c0.4,0.5,1.1,0.7,1.9,0.7c0.8,0,1.5-0.2,1.9-0.7c0.5-0.5,0.7-1.1,0.7-2c0-0.8-0.2-1.5-0.7-2C24.3,32.2,23.6,31.9,22.8,31.9z"}},{path:{d:"M29.3,12.4c-1.3-1.1-3.2-1.7-5.5-1.7s-4.4,0.5-6.5,1.4c-1.1,0.5-0.6,1.7-0.6,1.7l0.5,1c0,0,0.5,0.9,1.7,0.5l0,0c0.5-0.2,1-0.4,1.5-0.6c0.9-0.3,2-0.5,3.1-0.5c1.2,0,2.2,0.3,2.8,0.8c0.7,0.5,1,1.3,1,2.3c0,0.8-0.2,1.6-0.6,2.2c-0.4,0.6-1.3,1.5-2.7,2.6c-1.2,0.9-2,1.8-2.5,2.7c-0.5,0.9-0.7,1.9-0.7,3.2c0,0.9,1.1,1.1,1.1,1.1h0.7c0,0,1.4,0,1.6-1.2l0,0c0-0.8,0.2-1.4,0.5-1.8c0.4-0.6,1.1-1.3,2.2-2.1c1.3-1,2.2-1.8,2.7-2.4s0.9-1.3,1.2-2s0.4-1.5,0.4-2.3C31.4,15.1,30.7,13.5,29.3,12.4z"}}]}}]}}]}else{return false}}}}}A._handleIcon(E,D,C,this.options[C+"IconClassName"],this.options[C+"SVGIconId"]);return true}},_openWithAnimation:function(){if(this.options.animation&&this.options.animation.open){var E=this,D=this.options.animation.open,G=D.className,C=D.name,F=D.duration?D.duration:0;if(G){this.wrapper.show().addClass(G).on(this.ANIMATION_EVENTS,function(){E.wrapper.removeClass(G);E._handleDialogOpen()})}else{if(typeof C==="object"){this.wrapper.show().animate(C,F,E._handleDialogOpen)}else{this.wrapper[C](F,E._handleDialogOpen.bind(E))}}}else{this.wrapper.show();this._handleDialogOpen()}},_handleDialogOpen:function(){this.options.open&&this.options.open({dialog:this.wrapper,options:this.options});if(this.options.closeTimeout!==undefined&&this.options.closeTimeout!==""){var C=this;window.setTimeout(function(){C.close({},{})},parseInt(this.options.closeTimeout))}this.wrapper.attr("aria-expanded",true);window.ZFocusHandler&&ZFocusHandler.init(this.wrapper,this.options.excludeFocus);this._focusActionButton()},_positionDialog:function(){var E=this.wrapper;this.options.width&&E.outerWidth(this.options.width);this.options.height&&E.outerHeight(this.options.height);var D=E.outerWidth(true)+parseInt(E.css("border-left-width"))+parseInt(E.css("border-right-width")),C=E.outerHeight(true)+parseInt(E.css("border-bottom-width"))+parseInt(E.css("border-top-width")),F=this._calculateGoldenMeanPosition(E);if(typeof this.options.position==="object"&&(this.options.position.left||this.options.position.top)){F=B.extend({},F,this.options.position);F.left=parseInt(F.left)+window.pageXOffset;F.top=parseInt(F.top)+window.pageYOffset}else{if(typeof this.options.position==="string"&&this.options.position==="center"){F.top=(A.windowObject.height/2-C/2)+window.pageYOffset;F.left=(A.windowObject.width/2-D/2)+window.pageXOffset}}E.css(F)},_focusActionButton:function(){var C=this.options.defaultActionButton;if(C&&C.indexOf("#")!==0){C="button[data-text='"+C.toLowerCase()+"']"}else{C=".zbutton--primary"}var D=this.wrapper.find(C);if(!D.length){D=this.wrapper.find("button:last")}D.focus()},_calculateGoldenMeanPosition:function(E){var H=1.618,J=A.windowObject.height,D=A.windowObject.width,G=J/2,I=G-(G/H),C=I-(parseFloat(E.height()/2)),F=D/2-parseFloat(E.width()/2);if(C<0){C=0}if(F<0){F=0}C=C+window.pageYOffset;F=F+window.pageXOffset;return{top:C,left:F}},_createOverlay:function(){this._overlay=B("<div class='zdialog--overlay'></div>").attr("tabindex",1);document.body.insertBefore(this._overlay[0],this.wrapper[0]);this._hideBodyScroll(true);A.zIndex+=2;this._overlay.css("z-index",A.zIndex-1);this.wrapper.css("z-index",A.zIndex);this._overlay.on("keydown."+this.widgetName,function(C){C.stopPropagation();C.preventDefault()})},_hideBodyScroll:function(C){B("body")[C?"addClass":"removeClass"]("h-overflowhidden")},close:function(C,D,E){D=D||{actionType:"CLOSE",isCancel:true};if(this.wrapper){if(this.options.beforeclose){if(this.options.beforeclose(D)!==false){this._handleClose(C,D,E)}}else{this._handleClose(C,D,E)}}else{E&&E.apply(this)}},_handleClose:function(D,G,J){if(this.options.animation){var F=this,E=this.options.animation.close,I=E.className,C=E.name,H=E.duration?E.duration:0;if(I){this.wrapper.addClass(I).on(this.ANIMATION_EVENTS,function(){F.wrapper.removeClass(I);F.wrapper.hide();F._close(D,G,J)})}else{if(typeof C==="object"){this.wrapper.animate(C,H,function(){F._close(D,G,J)})}else{this.wrapper[C](H,function(){F._close(D,G,J)})}}}else{this.wrapper.hide();this._close(D,G,J)}},_close:function(C,D,E){this.wrapper.remove();this._overlay&&this._overlay.remove();if(!B("body").find(".zdialog--overlay").length){this._hideBodyScroll(false)}A.zIndex=A.zIndex-2;C=C?C:{};D.options=this.options;D.button=B(C.target);D.event=C;this.options.close&&this.options.close(C,D);this._overlay=this.wrapper=undefined;E&&E.apply(this)},_bindEvents:function(){var C=this;this.wrapper.on("keydown."+this.widgetName,function(D){if(D.keyCode===A.keyCode.ESCAPE){var E=C.wrapper.find(".h--clickonescape:first");if(E.length){E.focus();window.setTimeout(function(){E.trigger("click")},150)}else{if(C.options.closeButton){C.wrapper.find(".zdialog__actiongroup .zbutton").trigger("click")}else{C.close(D,{ESCAPE_PRESSED:true})}}}else{if(D.keyCode===A.keyCode.ENTER){var G=C.wrapper.find(C.options.defaultActionButton||".zbutton--primary"),F=".zbutton:not(.zbutton--menu), input:not(.ztokenfield):not(.zsuggestfield-element), div.zdialog__header";if(B(D.target).closest(F).length&&G.length&&!B(D.target).closest(".zdialog__footer").length){G.trigger("click")}}}if(D.keyCode===A.keyCode.TAB){D.preventDefault()}});this.wrapper.find(".zdialog__header").length&&this.wrapper.find(".zdialog__header").on("mouseup."+this.widgetName,function(D){C._focusActionButton()})}}})(ZComponents);function ZAlertDialog(){}jQuery(function(A){A.extend({_isAjaxUploadCompatible:function(){if(this._isCompatible==undefined){this._isCompatible=(typeof (new XMLHttpRequest()).upload!="undefined")}return this._isCompatible},_isFileParam:function(B){if(typeof B==="object"){try{var D=A(B)[0];if((D.name||D.files)||(D.nodeType&&A(D).is("input[type=file]"))){return true}}catch(C){}}return false},_parseFiles:function(B){var C={};var D=this;B=A.isArray(B)?B:[B];if(this._isAjaxUploadCompatible()){A.each(B,function(E,F){A.each(F,function(L,J){var G=D._isFileParam(J);if(G){var I=[];if(A(J).is("input[type=file]")){for(var H=0;H<A(J).length;H++){var K=A(J)[H];if(K.nodeType&&K.files){I.push(K.files)}}C[L]=I}else{C[L]=J}F[L]=undefined;delete F[L]}})})}else{A.each(B,function(E,F){A.each(F,function(J,H){var G=D._isFileParam(H);if(G){var I=A(H)[0];if((I.nodeType&&A(I).is("input[type=file]"))&&I.files){H=I.files}C[J]=H;F[J]=undefined;delete F[J]}})})}return C},ajaxUpload:function(D,G,F,C,B,H){var E=this._parseFiles(G);return this._getUploader().post(this,D,G,E,F,C,B,H)},ajaxDownload:function(C,E,D,B){return this.uploaders.iframeUploader.get(this,C,E,[],D,B)},_getUploader:function(){return this.uploaders[this._isAjaxUploadCompatible()?"ajaxUploader":"iframeUploader"]},_getParamFilledURL:function(B,C){A.each(C,function(E,D){B+=((B.indexOf("?")==-1)?"?":"&");B+=(E+"="+unescape(encodeURIComponent(D)))});return B},uploaders:{ajaxUploader:{post:function(E,D,F,C,H,I,B,G){var K=this;C=this._getFiles(C);var J=[];if(G){A(C).each(function(M,L){var N=K.upload(E,D,F,L,H,I,B);J.push(N)})}else{J=K.upload(E,D,F,C,H,I,B)}return this._controller(J,C)},_controller:function(B,C){return{files:C,abort:function(){A.each(B,function(D,E){E.abort()})},getFilesDetails:function(){var D=[];A(C).each(function(F,E){D.push({name:E.fileName,size:E.size})});return D}}},_getFiles:function(C){var B=this;var D=[];A.each(C,function(F,E){if(E.name){E.pname=F;D.push(E)}else{A.each(E,function(H,J){if(J.name){J.pname=F;D.push(J)}else{var G=B._getFiles(J);for(var H=0;H<G.length;H++){var I=G[H];if(I){I.pname=F;D.push(I)}}}})}});if(!D.length){D[0]=undefined}return D},_getFileName:function(B){return(B.fileName?B.fileName:B.name)},_getFileSize:function(B){return(B.fileSize?B.fileSize:B.size)},upload:function(D,C,G,E,H,J,B){var I=new XMLHttpRequest();var K=H.customData?H.customData:undefined;I.onreadystatechange=function(){if(I.readyState==4){var L=(I.status==200)?H.success:H.fail;if(L){L(I.responseText,I,K)}}};if(H.progress){var F=function(M){var L=Math.floor((M.loaded/M.total)*100);M.file=E;if(K!==undefined){K.percentage=L;H.progress(M,K)}else{H.progress(M,L)}};I.addEventListener("progress",F,false);I.upload.addEventListener("progress",F,false)}if(H.complete){I.addEventListener("load",H.complete,false);I.upload.addEventListener("load",H.complete,false)}if(H.beforeSend){H.beforeSend(I)}I.open("POST",C,!B);this[((typeof FormData!="undefined")?"_doFormUpload":"_doBinaryUpload")](I,G,E,H);return I},_doFormUpload:function(E,F,D,C){var B=new FormData();A.each(F,function(H,G){B.append(H,G)});A.each(D,function(H,G){if(G){B.append(G.pname,G)}});if(C.setHeaders){C.setHeaders(E)}E.send(B)},_doBinaryUpload:function(I,E,D,H){var G="zoho";var C="---------------"+G+Math.random();var F="\r\n--"+C;var J="";var B=this;A.each(E,function(L,K){J+="\r\n"+B._getMultiPartParamStr(L,K);J+="\r\n--"+C});F+=J;if(D){F+="\r\n";F+=this._getMultiPartFileParamStr(D.pname,D);F+="\r\n--"+C+"--"}else{F+="--"}if(H.setHeaders){H.setHeaders(I)}I.setRequestHeader("Content-Length",F.length);I.setRequestHeader("Content-Type","multipart/form-data; charset: UTF-8; accept-charset: UTF-8; boundary="+C);I.setRequestHeader("Connection","close");I.sendAsBinary(F)},_getMultiPartFileParamStr:function(C,B){return'Content-Disposition: form-data; name="'+C+'"; filename="'+unescape(encodeURIComponent(B.fileName))+'"\r\nContent-Type: application/octet-stream\r\n\r\n'+B.getAsBinary()},_getMultiPartParamStr:function(B,C){return'Content-Disposition: form-data; name="'+B+'"\r\n\r\n'+unescape(encodeURIComponent(C))}},iframeUploader:{post:function(G,C,F,E,D,B){return this._perform(G,C,F,E,D,B)},get:function(G,C,F,E,D,B){return this._perform(G,C,F,E,D,B,true)},_perform:function(F,C,H,B,I,J,E){var G=this._createIframe();var D=this._fillParams(F,C,H,B,G.attr("name"),E);var K=I.customData?I.customData:undefined;var F=this;G.load(function(M){var L=F.getResponse(A(G[0].contentWindow.document.body),J);if(I.success){I.success(L,undefined,K)}D.remove();G.remove()});if(I.beforeSend){I.beforeSend()}D.submit();return this._controller(G,D,B)},getResponse:function(C,B){switch(B){case"json":case"jsonp":return A.parseJSON(C.text());case"html":return C.html();case"text":default:return C.text()}},_controller:function(B,D,C){return{files:[C],abort:function(){B[0].contentWindow.stop()},getFilesDetails:function(){var E=[];A(C).each(function(G,F){F=A(F);E.push({name:F.val(),size:""})});return E}}},_createIframe:function(){var B="uploadFrame"+(new Date()).getTime();var C=A('<iframe name="'+B+'">').attr({src:"about:blank",height:"0",width:"0",frameborder:"0",id:B});this._iframe=C;A(document.body).append(C);return C},_getParamFilledForm:function(C,D,B){A.each(D,function(G,F){if(F){var E=A("<input type=hidden name="+G+">").attr({value:F});C.append(E)}});A.each(B,function(F,E){E=A(E);E.data("parent",E.parent());var G=E.clone(true);G.insertBefore(E);C.append(E)})},_fillParams:function(F,C,H,E,B,G){var D=A("<form>").attr({method:G?"get":"post",target:B,action:C});if(!G){D.attr("enctype","multipart/form-data");D[0].encoding="multipart/form-data"}A(document.body).append(D.fadeTo(0,0));this._getParamFilledForm(D,H,E);return D}}}})});